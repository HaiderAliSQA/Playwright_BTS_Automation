"use strict";(self.webpackChunkems=self.webpackChunkems||[]).push([[975],{7975:function(et,U,r){r.r(U),r.d(U,{BtsModule:function(){return nn},playerFactory:function(){return ge}});var e=r(3679),o=r(9895),n=r(5826),i=r(3677),h=r(826),t=r(7716),u=r(1831),c=r(9344),T=r(9426),g=r(5300),p=r(1321),y=r(2664),N=r(9269),$=r(9075),z=r(9790),st=r(2875),dt=r(529),nt=r(8393);let ut=(()=>{class a extends dt.d{constructor(l){super("/bts/api/v1//notification",l),this.provider=l}saveNotification(l){return null!=l.id?this.update(l,""+l.id):this.save(l)}markRead(l){return this.update(null,l+"/read")}markAllRead(l,d){return this.update(l,"user/"+d+"/read")}getByContact(l,d,f){return this.getList("contact/"+l)}getByUser(l,d,f){return this.getList("user/"+l)}getMyNotifications(l){return this.getList("/user/"+l)}}return a.\u0275fac=function(l){return new(l||a)(t.LFG(nt.U))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var X=r(7556),L=r(534),B=r(9007),j=r(9481),ot=r(1373),G=r(3975),lt=r(9543),it=r(8999),O=r(7302),I=r(9216),_=r(389),Z=r(7570);let W=(()=>{class a extends dt.d{constructor(l){super("/bts/api/v1/universal-search",l),this.provider=l}search(l,d=10,f=0){return this.getList(`?keyword=${l}&limit=${d}&page=${f}`)}}return a.\u0275fac=function(l){return new(l||a)(t.LFG(nt.U))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var k=r(7061),ct=r(6580);const mt=["activityDetail"];function At(a,x){1&a&&(t.TgZ(0,"span",14),t._UZ(1,"div",15),t.qZA())}function ht(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div",19),t.NdJ("click",function(){const b=t.CHM(l).$implicit;return t.oxw(3).navigateChange(b)}),t.TgZ(1,"div",20),t.TgZ(2,"span",21),t._UZ(3,"i",22),t.qZA(),t.qZA(),t.TgZ(4,"div",23),t.TgZ(5,"p",24),t._uU(6),t.qZA(),t.TgZ(7,"p",24),t._uU(8),t.qZA(),t.TgZ(9,"p",25),t._uU(10),t.ALo(11,"date"),t.qZA(),t._UZ(12,"br"),t.qZA(),t.qZA()}if(2&a){const l=x.$implicit,d=t.oxw(3);t.xp6(3),t.Q6J("ngClass",d.globalContants.CLIENT_ICON),t.xp6(3),t.Oqu(null==l?null:l.displayValue),t.xp6(2),t.Oqu(null==l?null:l.displayValueLine2),t.xp6(2),t.Oqu(t.xi3(11,4,null==l?null:l.date,"MM/dd/yyyy h:mm a"))}}function Zt(a,x){if(1&a&&(t.TgZ(0,"div",18),t.YNc(1,ht,13,7,"div",12),t.qZA()),2&a){const l=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",l.searchClientList)}}function Y(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div",28),t.NdJ("click",function(){const b=t.CHM(l).$implicit;return t.oxw(3).navigateChange(b)}),t.TgZ(1,"div",20),t.TgZ(2,"span",29),t._UZ(3,"i",22),t.qZA(),t.qZA(),t.TgZ(4,"div",23),t.TgZ(5,"p",24),t._uU(6),t.qZA(),t.TgZ(7,"p",24),t._uU(8),t.qZA(),t.TgZ(9,"p",25),t._uU(10),t.ALo(11,"date"),t.qZA(),t._UZ(12,"br"),t.qZA(),t.qZA()}if(2&a){const l=x.$implicit,d=t.oxw(3);t.xp6(3),t.Q6J("ngClass",d.globalContants.USER_ICON),t.xp6(3),t.Oqu(null==l?null:l.displayValue),t.xp6(2),t.Oqu(null==l?null:l.displayValueLine2),t.xp6(2),t.Oqu(t.xi3(11,4,null==l?null:l.date,"MM/dd/yyyy hh:mm"))}}function rt(a,x){if(1&a&&(t.TgZ(0,"div",26),t.YNc(1,Y,13,7,"div",27),t.qZA()),2&a){const l=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",l.searchUserList)}}function D(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div",28),t.NdJ("click",function(){const b=t.CHM(l).$implicit;return t.oxw(3).navigateChange(b)}),t.TgZ(1,"div",20),t.TgZ(2,"span",30),t._UZ(3,"i",22),t.qZA(),t.qZA(),t.TgZ(4,"div",23),t.TgZ(5,"p",24),t._uU(6),t.qZA(),t.TgZ(7,"p",24),t._uU(8),t.qZA(),t.TgZ(9,"p",25),t._uU(10),t.ALo(11,"date"),t.qZA(),t._UZ(12,"br"),t.qZA(),t.qZA()}if(2&a){const l=x.$implicit,d=t.oxw(3);t.xp6(3),t.Q6J("ngClass",d.globalContants.STUDENT_ICON),t.xp6(3),t.Oqu(null==l?null:l.displayValue),t.xp6(2),t.Oqu(null==l?null:l.displayValueLine2),t.xp6(2),t.Oqu(t.xi3(11,4,null==l?null:l.date,"MM/dd/yyyy hh:mm"))}}function w(a,x){if(1&a&&(t.TgZ(0,"div",26),t.YNc(1,D,13,7,"div",27),t.qZA()),2&a){const l=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",l.searchStudentList)}}function K(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div",28),t.NdJ("click",function(){const b=t.CHM(l).$implicit;return t.oxw(3).openAddActivityBrowse(b)}),t.TgZ(1,"div",20),t.TgZ(2,"span",31),t._UZ(3,"i",22),t.qZA(),t.qZA(),t.TgZ(4,"div",23),t.TgZ(5,"p",24),t._uU(6),t.qZA(),t.TgZ(7,"p",24),t._uU(8),t.qZA(),t.TgZ(9,"p",25),t._uU(10),t.ALo(11,"date"),t.qZA(),t._UZ(12,"br"),t.qZA(),t.qZA()}if(2&a){const l=x.$implicit,d=t.oxw(3);t.xp6(3),t.Q6J("ngClass",d.globalContants.CALENDER_ICON),t.xp6(3),t.Oqu(null==l?null:l.displayValue),t.xp6(2),t.Oqu(null==l?null:l.displayValueLine2),t.xp6(2),t.Oqu(t.xi3(11,4,null==l?null:l.date,"MM/dd/yyyy hh:mm"))}}function E(a,x){if(1&a&&(t.TgZ(0,"div",26),t.YNc(1,K,13,7,"div",27),t.qZA()),2&a){const l=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",l.searchActivityList)}}function Q(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div",28),t.NdJ("click",function(){const b=t.CHM(l).$implicit;return t.oxw(3).navigateChange(b)}),t.TgZ(1,"div",20),t.TgZ(2,"span",32),t._UZ(3,"i",33),t.qZA(),t.qZA(),t.TgZ(4,"div",23),t.TgZ(5,"p",24),t._uU(6),t.qZA(),t.TgZ(7,"p",24),t._uU(8),t.qZA(),t.TgZ(9,"p",25),t._uU(10),t.ALo(11,"date"),t.qZA(),t._UZ(12,"br"),t.qZA(),t.qZA()}if(2&a){const l=x.$implicit;t.xp6(6),t.Oqu(null==l?null:l.displayValue),t.xp6(2),t.Oqu(null==l?null:l.displayValueLine2),t.xp6(2),t.Oqu(t.xi3(11,3,null==l?null:l.date,"MM/dd/yyyy hh:mm"))}}function m(a,x){if(1&a&&(t.TgZ(0,"div",26),t.YNc(1,Q,13,6,"div",27),t.qZA()),2&a){const l=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",l.searchReminderList)}}function P(a,x){if(1&a&&(t.TgZ(0,"div"),t.TgZ(1,"div",6),t.YNc(2,Zt,2,1,"div",16),t.YNc(3,rt,2,1,"div",17),t.YNc(4,w,2,1,"div",17),t.YNc(5,E,2,1,"div",17),t.YNc(6,m,2,1,"div",17),t.qZA(),t.qZA()),2&a){const l=t.oxw();t.xp6(2),t.Q6J("ngIf",l.searchClientList.length>0),t.xp6(1),t.Q6J("ngIf",l.searchUserList.length>0),t.xp6(1),t.Q6J("ngIf",l.searchStudentList.length>0),t.xp6(1),t.Q6J("ngIf",l.searchActivityList.length>0),t.xp6(1),t.Q6J("ngIf",(null==l.searchReminderList?null:l.searchReminderList.length)>0)}}function S(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div",19),t.NdJ("click",function(){const b=t.CHM(l).$implicit;return t.oxw().navigateToHistory(b)}),t.TgZ(1,"div",34),t.TgZ(2,"div",20),t.TgZ(3,"span",35),t._UZ(4,"i",36),t.qZA(),t.qZA(),t.TgZ(5,"div",23),t.TgZ(6,"p",24),t._uU(7),t.qZA(),t.TgZ(8,"p",25),t._uU(9),t.ALo(10,"date"),t.qZA(),t._UZ(11,"br"),t.qZA(),t.qZA(),t.TgZ(12,"div",37),t._uU(13),t.ALo(14,"date"),t.qZA(),t.qZA()}if(2&a){const l=x.$implicit;t.xp6(4),t.Gre("",l.icon," round-info"),t.xp6(3),t.Oqu(null==l?null:l.display),t.xp6(2),t.Oqu(t.xi3(10,6,null==l?null:l.date,"MM/dd/yyyy hh:mm")),t.xp6(4),t.hij(" ",t.xi3(14,9,l.date,"MM/dd/yyyy")," ")}}function M(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div",38),t.TgZ(1,"h5",39),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",40,13),t.NdJ("click",function(){return t.CHM(l).$implicit.dismiss("Cross click")}),t._UZ(6,"i",41),t.qZA(),t.qZA(),t._UZ(7,"app-activity-detail",42)}if(2&a){const l=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,2,"Activity Detail")," "),t.xp6(5),t.Q6J("activity",l.activity)}}let J=(()=>{class a{constructor(l,d,f,b,tt){this.util=l,this.router=d,this.UniversalSearch=f,this.ActivityService=b,this.modalService=tt,this.loader=!1,this.searchMatterList=[],this.searchClientList=[],this.searchUserList=[],this.searchStudentList=[],this.searchActivityList=[],this.searchReminderList=[],this.searchlist=[],this.browseHistory=[],this.contactDisplayName=null,this.globalContants=Z._W,this.animationSpeed=1,this.showSuggestionsContainer=!1,this.contactChangedEvent=new t.vpe,this.contactName=null,this.matchWholeWord=!1,this.activity=new _.$N,this.activityLoading=!1,this.lottieConfig={path:"../../assets/images/lottie/search.json",renderer:"svg",autoplay:!0,loop:!0}}ngOnInit(){this.searchlist=[],this.contactDisplayName=this.contactName,this.browseHistory=this.util.getBrowseHistory()}filterByType(l){if(null!=l&&l.length>0){this.searchClientList=l.filter(d=>"CLIENT"==d.entityType);for(let d=0;d<this.searchClientList.length;d++)this.searchClientList[d].color=this.util.getRandomCircleColor(d);this.searchUserList=l.filter(d=>"USER"==d.entityType),this.searchStudentList=l.filter(d=>"STUDENT"==d.entityType),this.searchActivityList=l.filter(d=>"ACTIVITY"==d.entityType),this.searchReminderList=l.filter(d=>"REMINDER"==d.entityType)}else this.searchMatterList=[],this.searchUserList=[]}checkInput(l){clearTimeout(this.interval),this.hideMenu(l),this.isPerformSearch(l)&&(!this.util.isValidated(l.trim())||l.length<3?this.clearSearch():0===l.length?this.contactChangedEvent.emit():this.performSearch(l))}clearSearch(){this.loader=!1,this.searchlist=[]}performSearch(l){this.interval=setTimeout(()=>{this.loader=!0,this.UniversalSearch.search(l.trim().toLowerCase()).then(d=>{this.searchlist=this.UniversalSearch.getData(d).resultList,this.filterByType(this.searchlist),this.loader=!1}).catch(d=>{console.log(d)})},500)}navigateChange(l){switch(this.contactDisplayName=l.displayValue,l.entityType){case"CLIENT":return this.contactChangedEvent.emit(l.displayValue),this.util.addClientBrowseHistory(l.entityId,this.contactDisplayName),this.util.navigateToClientDetail(null,l.entityId);case"USER":return this.contactChangedEvent.emit(l.displayValue),this.util.addUserBrowseHistory(l.entityId,this.contactDisplayName),this.util.navigateToUserDetail(null,l.entityId);case"STUDENT":return this.util.addStudentBrowseHistory(l.entityId,this.contactDisplayName),this.contactChangedEvent.emit(l.displayValue),this.util.navigateToStudentDetail(null,l.entityId)}}openAddActivityBrowse(l){this.contactChangedEvent.emit(l.displayValue),this.util.addActivityBrowseHistory(l.entityId,l.displayValue),this.openActivityDetails(l)}openActivityDetails(l,d=!1){let f=d?l.id:l.entityId;this.activityLoading=!0,this.ActivityService.fetchActivityById(f).then(b=>{this.activity=this.ActivityService.getData(b),this.activityLoading=!1}).catch(b=>{this.activityLoading=!1,console.log(b)}),this.modalService.open(this.activityDetailTemplate,{centered:!0,size:"lg",backdrop:"static",keyboard:!1,windowClass:this.util.getThemeFromSession("lol-modal-sm")})}getFirstChar(l){return-1!=l.indexOf("-")&&(l=l.replace(/-/g,"")),l.trim().substring(0,1).toUpperCase()}navigateToHistory(l){"ACTIVITY"===l.type?this.openActivityDetails(l,!0):this.router.navigateByUrl(l.route),this.contactChangedEvent.emit(l.display)}clickOnInput(){}handleAnimation(l){this.anim=l}onSelect(l){this.contactDisplayName=l.toUpperCase()+" ",this.showSuggestionsContainer=!1,document.getElementById("inputSearch").focus(),this.checkInput(this.contactDisplayName)}hideMenu(l){"@"===l[0]&&2==l.length&&(this.contactDisplayName=l.toUpperCase()+" ",document.getElementById("inputSearch").focus()),this.showSuggestionsContainer="@"===l[0]&&l.length<=2}isPerformSearch(l){return!l||"@"!==l[0]||l.length>=6}outSideClick(){this.showSuggestionsContainer=!1,document.getElementById("inputSearch").focus()}setSwitchColor(){return this.matchWholeWord?"#2962ff":"#A0a0a0"}setSwitchLabel(){return this.matchWholeWord?"Exact Full Keyword Search":"Normal Search"}toggleSearch(l){console.log("search is now -"+l)}}return a.\u0275fac=function(l){return new(l||a)(t.Y36(u.Z),t.Y36(o.F0),t.Y36(W),t.Y36(k.M),t.Y36(y.FF))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-main-search"]],viewQuery:function(l,d){if(1&l&&t.Gf(mt,5),2&l){let f;t.iGM(f=t.CRH())&&(d.activityDetailTemplate=f.first)}},inputs:{contactName:"contactName"},outputs:{contactChangedEvent:"contactChangedEvent"},decls:20,vars:7,consts:[["type","text","id","inputSearch","autocomplete","off","name","assignedToUser","placeholder","Type to search ...",1,"searchInput","form-control","border-0","bg-transparent","font-77","font-bold","p-0",3,"ngModel","ngModelChange","change","click","input"],["assignedToUser","ngModel"],[1,"search-animation"],[3,"options","width","height","animationCreated"],["class","float-right mr-3 mt-n-85",4,"ngIf"],[1,"col-md-12","bg-transparent","mt-5","lol-search",3,"click"],[1,"row"],[1,"col-md-6"],[1,"row","pl-2"],[1,"card-title","font-bold","text-dark"],[4,"ngIf"],[1,"offset-md-1","col-md-5"],["class","col-md-12 row curserPointer dropdown-container pb-0",3,"click",4,"ngFor","ngForOf"],["activityDetail",""],[1,"float-right","mr-3","mt-n-85"],["role","status",1,"spinner-border"],["class","col-md-6 p-0",4,"ngIf"],["class","col-md-5 p-0",4,"ngIf"],[1,"col-md-6","p-0"],[1,"col-md-12","row","curserPointer","dropdown-container","pb-0",3,"click"],[1,"col-3"],[1,"round","round-danger","justify-child"],[2,"font-size","24px",3,"ngClass"],[1,"col-9"],[1,"font-16","mb-0","text-dark"],[1,"font-14","text-muted","mb-0"],[1,"col-md-5","p-0"],["class","row curserPointer dropdown-container pb-0",3,"click",4,"ngFor","ngForOf"],[1,"row","curserPointer","dropdown-container","pb-0",3,"click"],[1,"round","round-info","justify-child"],[1,"round","berry70","justify-child"],[1,"round","round-success","justify-child"],[1,"round","round-warning"],[1,"fas","fa-calendar-check"],[1,"col-md-8","row","p-0"],[1,"round","text-white","justify-child"],[2,"font-size","24px"],[1,"col-md-4","p-0"],[1,"modal-header","p-3"],["id","modal-basic-title",1,"modal-title"],["data-dismiss","modal",1,"cursorPointer",3,"click"],[1,"mdi","mdi-close"],[2,"width","100%",3,"activity"]],template:function(l,d){if(1&l){const f=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"input",0,1),t.NdJ("ngModelChange",function(tt){return d.contactDisplayName=tt})("change",function(){return d.clickOnInput()})("click",function(){return d.clickOnInput()})("input",function(){t.CHM(f);const tt=t.MAs(2);return d.checkInput(tt.value)}),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"ng-lottie",3),t.NdJ("animationCreated",function(tt){return d.handleAnimation(tt)}),t.qZA(),t.qZA(),t.YNc(5,At,2,0,"span",4),t.qZA(),t.TgZ(6,"div",5),t.NdJ("click",function(){return d.outSideClick()}),t.TgZ(7,"div",6),t.TgZ(8,"div",7),t.TgZ(9,"div",8),t.TgZ(10,"h6",9),t._uU(11,"Page Search Results"),t.qZA(),t.qZA(),t.YNc(12,P,7,5,"div",10),t.qZA(),t.TgZ(13,"div",11),t.TgZ(14,"div",8),t.TgZ(15,"h6",9),t._uU(16,"Browse History Results"),t.qZA(),t.qZA(),t.YNc(17,S,15,12,"div",12),t.qZA(),t.qZA(),t.qZA(),t.YNc(18,M,8,4,"ng-template",null,13,t.W1O)}2&l&&(t.xp6(1),t.Q6J("ngModel",d.contactDisplayName),t.xp6(3),t.Q6J("options",d.lottieConfig)("width","600")("height","600"),t.xp6(1),t.Q6J("ngIf",d.loader),t.xp6(7),t.Q6J("ngIf",d.searchlist.length>0),t.xp6(5),t.Q6J("ngForOf",d.browseHistory))},directives:[e.Fj,e.JJ,e.On,L.e$,p.O5,p.sg,p.mk,ct.o],pipes:[p.uU,z.X$],styles:[".justify-child[_ngcontent-%COMP%]{\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.spinner-border[_ngcontent-%COMP%] {\r\n  display: inline-block;\r\n  width: 3rem !important;\r\n  height: 3rem !important;\r\n  vertical-align: text-bottom;\r\n  border: 0.25em solid currentColor;\r\n  border-right-color: transparent;\r\n  border-radius: 50%;\r\n  animation: spinner-border 0.75s linear infinite;\r\n}\r\n.autoComplete-container[_ngcontent-%COMP%] {\r\n  position: absolute;\r\n  width: 500px;\r\n  max-height: 18.5rem !important;\r\n  z-index: 9999;\r\n  margin-left: 5px;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 3px;\r\n  background: #fff;\r\n  margin-top: 10px;\r\n  box-shadow: 0 1px 5px #959595;\r\n  \r\n  overflow-y: auto;\r\n}\r\n.dropdown-container[_ngcontent-%COMP%] {\r\n  padding: 10px;\r\n}\r\n.dropdown-container[_ngcontent-%COMP%]:hover {\r\n  background: rgba(227, 227, 227, 0.25);\r\n}\r\n.curserPointer[_ngcontent-%COMP%] {\r\n  cursor: pointer;\r\n}\r\ninput[type='text'][_ngcontent-%COMP%]:focus {\r\n  box-shadow: 0 0 8px 0 transparent;\r\n}\r\n.search-animation[_ngcontent-%COMP%] {\r\n  position: absolute;\r\n  top: 100px;\r\n  right: 20px;\r\n  opacity: 30%;\r\n}\r\n\r\n@media (min-width: 1212px) {\r\n  \r\n  .autoComplete-containeer[_ngcontent-%COMP%] {\r\n    position: absolute;\r\n    width: 818px;\r\n    min-height: 200px;\r\n    z-index: 9999;\r\n    border: 1px solid #e9ecef;\r\n    border-radius: 3px;\r\n    background: #fff;\r\n    margin-top: 0px;\r\n    margin-top: 3px;\r\n    max-height: 300px;\r\n    overflow-y: auto;\r\n    margin-left: 5px;\r\n  }\r\n}\r\n@media (min-width: 1000px) and (max-width: 1211px) {\r\n  \r\n  .autoComplete-containeer[_ngcontent-%COMP%] {\r\n    position: absolute;\r\n    width: 600px;\r\n    min-height: 200px;\r\n    z-index: 9999;\r\n    border: 1px solid #e9ecef;\r\n    border-radius: 3px;\r\n    background: #fff;\r\n    margin-top: 0px;\r\n    margin-top: 3px;\r\n    max-height: 300px;\r\n    overflow-y: auto;\r\n    margin-left: 5px;\r\n  }\r\n}\r\n@media (min-width: 700px) and (max-width: 999px) {\r\n  \r\n  .autoComplete-containeer[_ngcontent-%COMP%] {\r\n    position: absolute;\r\n    width: 460px;\r\n    min-height: 200px;\r\n    z-index: 9999;\r\n    border: 1px solid #e9ecef;\r\n    border-radius: 3px;\r\n    background: #fff;\r\n    margin-top: 0px;\r\n    margin-top: 3px;\r\n    max-height: 300px;\r\n    overflow-y: auto;\r\n    margin-left: 5px;\r\n  }\r\n}\r\n@media (min-width: 516px) and (max-width: 699px) {\r\n  \r\n  .autoComplete-containeer[_ngcontent-%COMP%] {\r\n    position: absolute;\r\n    width: 290px;\r\n    min-height: 200px;\r\n    z-index: 9999;\r\n    border: 1px solid #e9ecef;\r\n    border-radius: 3px;\r\n    background: #fff;\r\n    margin-top: 0px;\r\n    margin-top: 3px;\r\n    max-height: 300px;\r\n    overflow-y: auto;\r\n    margin-left: 5px;\r\n  }\r\n}\r\n@media (min-width: 400px) and (max-width: 515px) {\r\n  \r\n  .autoComplete-containeer[_ngcontent-%COMP%] {\r\n    position: absolute;\r\n    width: 170px;\r\n    min-height: 200px;\r\n    z-index: 9999;\r\n    border: 1px solid #e9ecef;\r\n    border-radius: 3px;\r\n    background: #fff;\r\n    margin-top: 0px;\r\n    margin-top: 3px;\r\n    max-height: 300px;\r\n    overflow-y: auto;\r\n    margin-left: 5px;\r\n  }\r\n}\r\n.margnright[_ngcontent-%COMP%] {\r\n  margin-right: 5px;\r\n}\r\n.font-77[_ngcontent-%COMP%] {\r\n  font-size: 77px;\r\n}\r\n.font-36[_ngcontent-%COMP%] {\r\n  font-size: 36px;\r\n}\r\n.font-25[_ngcontent-%COMP%] {\r\n  font-size: 25px;\r\n}\r\n.mt-n-85[_ngcontent-%COMP%] {\r\n  margin-top: -85px;\r\n}\r\n.searchInput[_ngcontent-%COMP%] {\r\n  padding-left: 8px !important;\r\n}\r\n.autocomplete[_ngcontent-%COMP%] {\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n.lol-search-options[_ngcontent-%COMP%]{\r\n  padding: 4px;\r\n  background-color: #d4e0ff87;\r\n  border-color: #c3d3ff;\r\n}\r\n.lol-search[_ngcontent-%COMP%] {\r\n\r\n}\r\n.lol-search[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%] {\r\n  width: 46px;\r\n  height: 46px;\r\n  line-height: 46px;\r\n}"]}),a})();var H=r(7703),R=r(7582),gt=r(4171),vt=r(955),yt=r(178),Tt=r(2663),Ot=r(1314),St=r(6640),ft=r(8682);function Pt(a,x){if(1&a&&(t.ynx(0),t.TgZ(1,"ng-option",26),t._uU(2),t.qZA(),t.BQk()),2&a){const l=x.$implicit;t.xp6(1),t.Q6J("value",l.id),t.xp6(1),t.hij(" ",l.name,"")}}function It(a,x){1&a&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Client is required")," "))}function Ut(a,x){if(1&a&&(t.TgZ(0,"div",27),t.YNc(1,It,3,3,"div",28),t.qZA()),2&a){t.oxw();const l=t.MAs(2);t.xp6(1),t.Q6J("ngIf",null==l.controls.client.errors?null:l.controls.client.errors.required)}}function qt(a,x){1&a&&t._UZ(0,"field-label",11),2&a&&t.Q6J("labelStr","Description")("isRequired",!0)}function Nt(a,x){1&a&&(t.TgZ(0,"div"),t._uU(1,"required"),t.qZA())}function wt(a,x){if(1&a&&(t.TgZ(0,"div",27),t.YNc(1,Nt,2,0,"div",28),t.qZA()),2&a){t.oxw();const l=t.MAs(5);t.xp6(1),t.Q6J("ngIf",null==l?null:l.errors.required)}}function Lt(a,x){1&a&&t._UZ(0,"field-label",11),2&a&&t.Q6J("labelStr","Amount")("isRequired",!0)}function Jt(a,x){1&a&&(t.TgZ(0,"div"),t._uU(1,"required"),t.qZA())}function Bt(a,x){if(1&a&&(t.TgZ(0,"div",27),t.YNc(1,Jt,2,0,"div",28),t.qZA()),2&a){t.oxw();const l=t.MAs(11);t.xp6(1),t.Q6J("ngIf",null==l?null:l.errors.required)}}const Et=function(a){return{"is-invalid":a}};function kt(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"div",29),t.TgZ(2,"div",10),t.YNc(3,qt,1,2,"field-label",30),t.TgZ(4,"input",31,32),t.NdJ("ngModelChange",function(f){return t.CHM(l).$implicit.description=f}),t.qZA(),t.YNc(6,wt,2,1,"div",15),t.qZA(),t.qZA(),t.TgZ(7,"div",33),t.TgZ(8,"div",10),t.YNc(9,Lt,1,2,"field-label",30),t.TgZ(10,"input",34,35),t.NdJ("ngModelChange",function(f){return t.CHM(l).$implicit.amount=f})("blur",function(){return t.CHM(l),t.oxw().calcTotalAmount()}),t.ALo(12,"translate"),t.qZA(),t.YNc(13,Bt,2,1,"div",15),t.qZA(),t.qZA(),t.TgZ(14,"div",36),t.TgZ(15,"span"),t.TgZ(16,"a",37),t.NdJ("click",function(){const b=t.CHM(l).index;return t.oxw().removeItem(b)}),t._UZ(17,"i",38),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&a){const l=x.$implicit,d=x.index,f=t.MAs(5),b=t.MAs(11);t.oxw();const tt=t.MAs(2);t.xp6(3),t.Q6J("ngIf",0==d),t.xp6(1),t.MGl("name","desc-",d,""),t.Q6J("ngModel",l.description)("ngClass",t.VKq(14,Et,tt.submitted&&f.invalid)),t.xp6(2),t.Q6J("ngIf",tt.submitted&&f.invalid),t.xp6(3),t.Q6J("ngIf",0==d),t.xp6(1),t.MGl("name","amount-",d,""),t.s9C("placeholder",t.lcZ(12,12,"$")),t.Q6J("ngModel",l.amount)("ngClass",t.VKq(16,Et,tt.submitted&&b.invalid)),t.xp6(3),t.Q6J("ngIf",tt.submitted&&b.invalid),t.xp6(1),t.Q6J("ngClass",0==d?"pt-4":"")}}const Rt=function(){return{backdropBorderRadius:"3px"}};let Qt=(()=>{class a{constructor(l,d,f,b,tt){this.modalService=l,this.util=d,this._location_service=f,this._billing_service=b,this._taost_service=tt,this.loading=!1,this.quickBill=new gt.YO,this.saveLoader=!1,this.clients=this.util.getBtsClientFromSession(),this.sumAmount=0,this.locations=[]}ngOnInit(){}onsubmit(){this.loading=!0,this._billing_service.createQuickBill(this.quickBill).then(l=>{this.loading=!1,this._taost_service.success("Quick Bill Created","Success"),this.modalService.dismissAll()}).catch(l=>{console.log(l),this.loading=!1,this._taost_service.error(l,"Error")})}onCancelClicked(){this.modalService.dismissAll()}onClientChanged(l){this.getClientLocations(l)}getClientLocations(l){return(0,R.mG)(this,void 0,void 0,function*(){try{let d=yield this._location_service.fetchByClientId(l);this.locations=this._location_service.getData(d)}catch(d){console.log("error",d)}})}removeItem(l){this.quickBill.charges.splice(l,1),this.calcTotalAmount()}addRec(){this.quickBill.charges.push(new gt.T$)}compareFn(l,d){return l.id===d.id}calcTotalAmount(){this.sumAmount=this.quickBill.charges.reduce(this.getSum,0)}getSum(l,d){return l+d.amount}}return a.\u0275fac=function(l){return new(l||a)(t.Y36(y.FF),t.Y36(u.Z),t.Y36(vt._),t.Y36(yt.j),t.Y36(c._W))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-quick-bill"]],decls:34,vars:31,consts:function(){let x;return x=$localize`:␟57f28dfdeca8ff7d7e8e8c40dbbb3112ac2cfde0␟2551969061262988981: Add Item `,[[3,"show","config"],["name","form",3,"ngSubmit","keydown.enter"],["addForm","ngForm"],[1,"modal-body",2,"overflow","visible"],[1,"col-lg-12",2,"overflow","visible"],[1,"form-body"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-6"],[1,"form-group"],[3,"labelStr","isRequired"],["required","true","name","client","bindLabel","name",3,"ngClass","dropdownPosition","placeholder","multiple","clearable","ngModel","ngModelChange","change"],["client","ngModel"],[4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["bindValue","id","bindLabel","title","name","location",3,"ngModel","dropdownPosition","items","compareWith","placeholder","disabled","ngModelChange"],["class","row",4,"ngFor","ngForOf"],[1,"row","col-md-5"],["type","button",1,"btn","btn-outline-info","btn-sm","mt-2",3,"click"],x,[1,"d-flex","justify-content-end"],[2,"font-weight","400"],[1,"modal-footer"],[1,"row","form-controls-right"],[3,"loader","type","saveBtnSizeAndStyle","cancelBtnSizeAndStyle","onCancelClick"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],[1,"col-md-9"],[3,"labelStr","isRequired",4,"ngIf"],["autocomplete","off","required","","type","text",1,"form-control",3,"ngModel","ngClass","name","ngModelChange"],["desc","ngModel"],[1,"col-md-2"],["required","","type","number",1,"form-control",3,"ngModel","ngClass","name","placeholder","ngModelChange","blur"],["amount","ngModel"],[1,"col-md-1","text-center","font-22",3,"ngClass"],["href","javascript:void(0)","title","Remove",3,"click"],[1,"mdi","mdi-close","btn-remove","text-danger"]]},template:function(l,d){if(1&l){const f=t.EpF();t._UZ(0,"ngx-loading",0),t.TgZ(1,"form",1,2),t.NdJ("ngSubmit",function(){return t.CHM(f),t.MAs(2).form.valid&&d.onsubmit()})("keydown.enter",function(tt){return tt.preventDefault()}),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"div",7),t.TgZ(8,"div",8),t.TgZ(9,"div",9),t.TgZ(10,"div",10),t._UZ(11,"field-label",11),t.TgZ(12,"ng-select",12,13),t.NdJ("ngModelChange",function(tt){return d.quickBill.clientId=tt})("change",function(tt){return d.onClientChanged(tt)}),t.YNc(14,Pt,3,2,"ng-container",14),t.qZA(),t.YNc(15,Ut,2,1,"div",15),t.qZA(),t.qZA(),t.TgZ(16,"div",9),t.TgZ(17,"div",10),t._UZ(18,"field-label",11),t.TgZ(19,"ng-select",16),t.NdJ("ngModelChange",function(tt){return d.quickBill.locationId=tt}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(20,kt,18,18,"div",17),t.TgZ(21,"div",18),t.TgZ(22,"button",19),t.NdJ("click",function(){return d.addRec()}),t.SDv(23,20),t.qZA(),t.qZA(),t.TgZ(24,"div",21),t.TgZ(25,"h5"),t.TgZ(26,"span",22),t._uU(27,"Total Amount:"),t.qZA(),t.TgZ(28,"strong"),t._uU(29),t.ALo(30,"currency"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"div",23),t.TgZ(32,"div",24),t.TgZ(33,"app-save-button",25),t.NdJ("onCancelClick",function(){return d.onCancelClicked()}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&l){const f=t.MAs(2);t.Q6J("show",d.loading)("config",t.DdM(28,Rt)),t.xp6(11),t.Q6J("labelStr","Client")("isRequired",!0),t.xp6(1),t.Q6J("ngClass",t.VKq(29,Et,f.submitted&&"INVALID"==f.controls.client.status))("dropdownPosition","bottom")("placeholder","Search Client")("multiple",!1)("clearable",!0)("ngModel",d.quickBill.clientId),t.xp6(2),t.Q6J("ngForOf",d.clients),t.xp6(1),t.Q6J("ngIf",f.submitted),t.xp6(3),t.Q6J("labelStr","Location")("isRequired",!1),t.xp6(1),t.Q6J("ngModel",d.quickBill.locationId)("dropdownPosition","bottom")("items",d.locations)("compareWith",d.compareFn)("placeholder","select location")("disabled",null==d.quickBill.clientId),t.xp6(1),t.Q6J("ngForOf",d.quickBill.charges),t.xp6(9),t.hij(" ",t.lcZ(30,26,d.sumAmount),""),t.xp6(4),t.Q6J("loader",d.saveLoader)("type","submit")("saveBtnSizeAndStyle","btn-outline-success")("cancelBtnSizeAndStyle","btn-outline-danger")}},directives:[Tt.RJ,e._Y,e.JL,e.F,Ot.t,St.w9,e.Q7,p.mk,e.JJ,e.On,p.sg,p.O5,ft.t,St.xv,e.Fj,e.wV],pipes:[p.H9,z.X$],styles:[".fa-calendar[_ngcontent-%COMP%] {\r\n    position: absolute;\r\n    right: 24px;\r\n    top: 30px;\r\n    color: #42a5f5;\r\n    cursor: pointer;\r\n  }"]}),a})();function Ft(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"a",9),t.NdJ("click",function(){t.CHM(l);const f=t.oxw(),b=t.MAs(49);return f.openPopUp(b)}),t._uU(1,"Add Student"),t.qZA()}}function Yt(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"a",9),t.NdJ("click",function(){t.CHM(l);const f=t.oxw(),b=t.MAs(53);return f.openPopUp(b,"dna")}),t._uU(1,"Add User"),t.qZA()}}function Wt(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"a",9),t.NdJ("click",function(){t.CHM(l);const f=t.oxw(),b=t.MAs(55);return f.openPopUp(b)}),t._uU(1,"Add Client"),t.qZA()}}function $t(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"a",9),t.NdJ("click",function(){t.CHM(l);const f=t.oxw(),b=t.MAs(57);return f.openPopUp(b,"dna")}),t._uU(1,"Add Data Dna"),t.qZA()}}function Kt(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"a",9),t.NdJ("click",function(){t.CHM(l);const f=t.oxw(),b=t.MAs(59);return f.openPopUp(b)}),t._uU(1,"Add Service Area"),t.qZA()}}function Ht(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"a",9),t.NdJ("click",function(){t.CHM(l);const f=t.oxw(),b=t.MAs(61);return f.openPopUp(b)}),t._uU(1,"Add Service Type"),t.qZA()}}function jt(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"a",9),t.NdJ("click",function(){t.CHM(l);const f=t.oxw(),b=t.MAs(65);return f.openPopUp(b)}),t._uU(1,"Add Payment"),t.qZA()}}function Vt(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"a",9),t.NdJ("click",function(){t.CHM(l);const f=t.oxw(),b=t.MAs(67);return f.openPopUp(b)}),t._uU(1,"Add Quick Bill"),t.qZA()}}function zt(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"li",42),t.TgZ(1,"form",43),t.TgZ(2,"button",44),t.NdJ("click",function(){t.CHM(l);const f=t.oxw(),b=t.MAs(63);return f.openSearchModal(b)}),t.TgZ(3,"span",45),t._UZ(4,"i",46),t.qZA(),t._uU(5),t.qZA(),t.qZA(),t.qZA()}if(2&a){const l=t.oxw();t.xp6(5),t.Oqu(l.searchText)}}function Gt(a,x){1&a&&(t.TgZ(0,"li",47),t.TgZ(1,"a",48),t._UZ(2,"i",49),t.qZA(),t.qZA())}function Xt(a,x){1&a&&(t.TgZ(0,"div",50),t._UZ(1,"span",51),t.qZA())}function te(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div",52),t.TgZ(1,"div",53),t.TgZ(2,"div",54),t.TgZ(3,"ng-lottie",55),t.NdJ("animCreated",function(f){return t.CHM(l),t.oxw().handleAnimation(f)}),t.qZA(),t.qZA(),t.TgZ(4,"span"),t._uU(5,"No notifications"),t.qZA(),t.qZA(),t.qZA()}if(2&a){const l=t.oxw();t.xp6(3),t.Q6J("options",l.lottieConfig2)}}const A=function(a,x){return{"bg-light":a,"":x}};function V(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",58),t.TgZ(2,"div",59),t._UZ(3,"i",60),t.qZA(),t.TgZ(4,"span",61),t.TgZ(5,"span",62),t._uU(6),t.qZA(),t.TgZ(7,"h6",63),t._uU(8),t.qZA(),t.TgZ(9,"span",64),t.TgZ(10,"time",65),t._uU(11),t.ALo(12,"date"),t.ALo(13,"date"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",66),t.TgZ(15,"a",67),t.NdJ("click",function(){const b=t.CHM(l).$implicit;return t.oxw(2).markRead(b)}),t._UZ(16,"i",68),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&a){const l=x.$implicit,d=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.WLB(13,A,null==l.readDateTime,null!=l.readDateTime)),t.xp6(1),t.s9C("title",null==l?null:l.toUserId),t.xp6(1),t.Q6J("ngClass",d.getNotificationTypeIcon(l.forView,l.message)),t.xp6(3),t.Oqu(d.util.removeHtmlTags(null==l?null:l.message)),t.xp6(2),t.Oqu(null==l?null:l.notificationType),t.xp6(2),t.Q6J("dateTime",l.createdDate),t.xp6(1),t.Oqu(null!=l.readDateTime?"Read : "+t.xi3(12,7,l.readDateTime,"MM/dd/yyyy h:mm a"):t.xi3(13,10,l.createdDate,"MM/dd/yyyy h:mm a"))}}function s(a,x){if(1&a&&(t.TgZ(0,"div",56),t.YNc(1,V,17,16,"div",57),t.qZA()),2&a){const l=t.oxw();t.Q6J("perfectScrollbar",l.config),t.xp6(1),t.Q6J("ngForOf",l.notifications)}}function v(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div",69),t.TgZ(1,"h5",70),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",71,32),t.NdJ("click",function(){return t.CHM(l).$implicit.dismiss("Cross click")}),t._UZ(6,"i",72),t.qZA(),t.qZA(),t._UZ(7,"app-add-edit-student",73)}2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"Add New Student")," "),t.xp6(5),t.Q6J("inputObj",null))}function C(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div",69),t.TgZ(1,"h5",70),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",71,33),t.NdJ("click",function(){return t.CHM(l).$implicit.dismiss("Cross click")}),t._UZ(6,"i",72),t.qZA(),t.qZA(),t._UZ(7,"activity-entry",74)}if(2&a){const l=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,"Add New Activity")," "),t.xp6(5),t.Q6J("inputObj",null)("selectedUser",l.selectedUser)}}function q(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div",69),t.TgZ(1,"h5",70),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",71,75),t.NdJ("click",function(){return t.CHM(l).$implicit.dismiss("Cross click")}),t._UZ(6,"i",72),t.qZA(),t.qZA(),t._UZ(7,"app-add-user",73)}2&a&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"Add New User")),t.xp6(5),t.Q6J("inputObj",null))}function at(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div",69),t.TgZ(1,"h5",70),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",71,35),t.NdJ("click",function(){return t.CHM(l).$implicit.dismiss("Cross click")}),t._UZ(6,"i",72),t.qZA(),t.qZA(),t._UZ(7,"app-add-edit-client",73)}2&a&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"Add New Client")),t.xp6(5),t.Q6J("inputObj",null))}function pt(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div",69),t.TgZ(1,"h5",70),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",71,36),t.NdJ("click",function(){return t.CHM(l).$implicit.dismiss("Cross click")}),t._UZ(6,"i",72),t.qZA(),t.qZA(),t._UZ(7,"app-add-edit-data-dna",73)}2&a&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"Manage Default DNA Values")),t.xp6(5),t.Q6J("inputObj",null))}function F(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div",69),t.TgZ(1,"h5",70),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",71,37),t.NdJ("click",function(){return t.CHM(l).$implicit.dismiss("Cross click")}),t._UZ(6,"i",72),t.qZA(),t.qZA(),t._UZ(7,"app-add-edit-service-area",73)}2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"Add New Service Area")," "),t.xp6(5),t.Q6J("inputObj",null))}function bt(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div",69),t.TgZ(1,"h5",70),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",71,38),t.NdJ("click",function(){return t.CHM(l).$implicit.dismiss("Cross click")}),t._UZ(6,"i",72),t.qZA(),t.qZA(),t._UZ(7,"app-add-edit-service-type",73)}2&a&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"Add New Service")),t.xp6(5),t.Q6J("inputObj",null))}function Mt(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div",76),t.TgZ(1,"h4",77),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA(),t.TgZ(4,"a",78,39),t.NdJ("click",function(){return t.CHM(l).$implicit.dismiss("Cross click")}),t._UZ(6,"i",72),t.qZA(),t.TgZ(7,"div",79),t.TgZ(8,"app-main-search",80),t.NdJ("contactChangedEvent",function(f){return t.CHM(l),t.oxw().onContactSelect(f)}),t.qZA(),t.qZA()}2&a&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"System Search")))}function ee(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div",69),t.TgZ(1,"h5",70),t._uU(2,"Add New Payment"),t.qZA(),t.TgZ(3,"a",71,40),t.NdJ("click",function(){return t.CHM(l).$implicit.dismiss("Cross click")}),t._UZ(5,"i",72),t.qZA(),t.qZA(),t._UZ(6,"app-add-edit-payment",81)}}function ne(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div",69),t.TgZ(1,"h5",70),t._uU(2,"Add Quick Bill"),t.qZA(),t.TgZ(3,"a",71,41),t.NdJ("click",function(){return t.CHM(l).$implicit.dismiss("Cross click")}),t._UZ(5,"i",72),t.qZA(),t.qZA(),t._UZ(6,"app-quick-bill",81)}}let ie=(()=>{class a{constructor(l,d,f,b,tt,xt,Dt,_t,re){this.util=l,this.sanitizer=d,this.modalService=f,this.translate=b,this.confirmDialog=tt,this.notificationService=xt,this.authService=Dt,this.location=_t,this.toastr=re,this.toggleSidebar=new t.vpe,this.isAdmin=!1,this.config={},this.selected=null,this.newNotifications=0,this.notification=null,this.notifications=[],this.searchText="Type anywhere to search",this.userList=[],this.selectedUser=null,this.allowedPermissions=new N.m,this.lottieConfig={path:"../../assets/images/lottie/contact_img.json",renderer:"svg",autoplay:!0,loop:!1},this.lottieConfig2={path:"../../assets/images/lottie/satoriman.json",renderer:"svg",autoplay:!0,loop:!0}}ngOnInit(){this.user=this.util.getBtsUserFromSession(),this.allowedPermissions=this.util.getAllowedPermissions(),this.userList=this.util.getBtsUsersListsFromSession(),this.selectedUser=this.util.getBtsUserFromSession(),this.isAdmin=this.util.isLoggedRole("ADMIN"),this.loadNotifications()}handleAnimation(l){this.anim=l}openPopUp(l,d){this.modalService.open(l,{centered:!0,size:"lg",backdrop:"static",keyboard:!1,windowClass:this.util.getThemeFromSession("lol-modal-medium")})}navigateBack(){this.location.back()}navigateForward(){this.location.forward()}logout(){this.confirmDialog.confirm("Are you sure you want to <strong>Logout?</strong>","Confirmation").then(d=>{if(d){let f=this.util.getBtsUserFromSession();f&&f.id?this.authService.logout().then(b=>{this.util.logout()}).catch(b=>{this.util.logout(),console.log(b)}):this.util.logout()}}).catch(()=>{console.log("User dismissed the dialog")})}onContactSelect(l){this.searchModalRef.close()}openSearchModal(l){this.searchModalRef=this.modalService.open(l,{centered:!0,backdrop:"static",keyboard:!0,windowClass:this.util.getThemeFromSession("lol-full-page-modal pl-0 pr-0")})}refreshNotifications(){this.newNotifications=0,this.loadNotifications()}loadNotifications(){this.notificationService.getMyNotifications(this.user.id).then(l=>{this.notifications=this.notificationService.getData(l),this.notifications.forEach(d=>{null==d.readDateTime&&++this.newNotifications})}).catch(l=>{console.log(l)})}addNotification(l){"REFRESH_SESSION"!=l.notificationType?l.toUserId&&this.user.id==l.toUserId&&(this.toastr.info("You have a new notification","Information"),++this.newNotifications,this.notifications.unshift(l)):window.location.reload()}markRead(l){--this.newNotifications,this.notificationService.markRead(null==l?void 0:l.id).then(d=>{this.newNotifications=0,this.refreshNotifications()}).catch(d=>{console.log(d)})}markAllRead(){null==this.notifications||0==this.notifications.length||this.notificationService.markAllRead(null,this.user.id).then(l=>{console.log(this.user.id),this.newNotifications=0,this.refreshNotifications()}).catch(l=>{console.log(l+"abc")})}getNotificationTypeIcon(l,d){let f="bg-white";switch(null==l?void 0:l.toLocaleLowerCase()){case"caseload_change":f=d.includes("removed")?"turtle50 fa-briefcase fas":"bg-red fa-briefcase fas";break;case"activity":f="berry70 fas fa-tasks";break;case"invoicing":f="bg-green fas fa-dollar-sign";break;case"mileage":f="bg-yellow fas fa-calendar-check";break;case"billing":f="bg-green mdi mdi-credit-card";break;case"student":f="bg-green mdi mdi-emoticon";break;case"client":f="bg-blue fa fa-user"}return f}}return a.\u0275fac=function(l){return new(l||a)(t.Y36(u.Z),t.Y36($.H7),t.Y36(y.FF),t.Y36(z.sK),t.Y36(st.O),t.Y36(ut),t.Y36(X.e),t.Y36(p.Ye),t.Y36(c._W))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-navigation"]],outputs:{toggleSidebar:"toggleSidebar"},decls:68,vars:14,consts:[[1,"navbar-nav","float-left","mr-auto"],[1,"nav-item","d-none","d-md-block"],["href","javascript:void(0)",1,"nav-link","sidebartoggler","waves-effect","waves-light",3,"click"],[1,"mdi","mdi-menu","font-24"],["ngbDropdown","",1,"align-self-center","dropdown"],["ngbDropdownToggle","","href","javascript:void(0)","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle",2,"padding-right","20px"],["title","Action Menu",1,"create_link",2,"color","black"],["aria-labelledby","navbarDropdown","ngbDropdownMenu","",1,"dropdown-menu"],["class","dropdown-item curserPointer",3,"click",4,"ngIf"],[1,"dropdown-item","curserPointer",3,"click"],["class","appSearch align-self-center appSearchMin",4,"ngIf"],[1,"navbar-nav","float-right","ml-auto"],["class","nav-item dropdown",4,"ngIf"],["ngbDropdown","","placement","bottom-right",1,"nav-item","dropdown","lol-notification-widget-cb"],["ngbDropdownToggle","","title","Notifications","href","javascript:void(0)","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle","waves-effect","waves-dark"],[1,"icon-bell","navbar-button-icons","font-24","text-black",2,"color","black"],["class","notify",4,"ngIf"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-right","mailbox","animated","bounceInDown",2,"padding-top","0px"],[1,"with-arrow"],[1,"rgb-gradient"],[1,"list-style-none","custom-scroll-bar"],[1,"drop-title","text-white","pb-0"],[1,"m-b-0","m-t-5"],[1,"font-light"],[1,"row"],[2,"text-align","left","flex","1","padding-left","30px","font-size","20px"],["title","refresh notifications","placement","left",1,"text-white","text-small","m-0","pb-0",3,"click"],[1,"mdi","mdi-reload","text-light"],[1,"p-2",2,"padding-right","20px !important"],["href","javascript:void(0)",1,"text-white","text-small","m-0","pb-0","text-right",3,"click"],["class","col-auto text-center",4,"ngIf"],["class","message-center notifications",3,"perfectScrollbar",4,"ngIf"],["addEditStudent",""],["addActivity",""],["addEditUserModal",""],["addClient",""],["addEditDnaModal",""],["addEditServiceArea",""],["addEditService",""],["fullPageSearchModal",""],["addEditPayment",""],["addQuickBill",""],[1,"appSearch","align-self-center","appSearchMin"],[1,"app-search"],["type","button",1,"btn","btn-light","search-btn","waves-effect","waves-light","text-left","text-muted","pr-5",2,"width","500px",3,"click"],[1,"btn-label","pr-3"],[1,"fas","fa-search"],[1,"nav-item","dropdown"],["title","Submit Support Ticket","target","_blank","href","mailto:support@lycusinc.com?subject=BTS - Support Ticket","aria-haspopup","true","aria-expanded","false",1,"nav-link","waves-effect"],[1,"mdi","mdi-tag-plus","font-24",2,"color","blue"],[1,"notify"],[1,"point"],[1,"col-auto","text-center"],[1,"lol-notifications-area"],[1,"lol-notifications-empty-image-container"],["width","250px","height","auto","containerClass","lottie-animation",3,"options","animCreated"],[1,"message-center","notifications",3,"perfectScrollbar"],[4,"ngFor","ngForOf"],[1,"message-item",3,"ngClass"],[1,"message-left","align-self-center",3,"title"],[1,"icon-bg-circle",3,"ngClass"],[1,"mail-content","w-100"],[1,"message-desc"],[1,"message-title"],[1,"time"],[3,"dateTime"],[1,"justify-content-end"],["href","javascript:void(0)","title","mark as read",1,"pb-0","pt-0",3,"click"],[1,"fas","fa","fa-minus"],[1,"modal-header","p-3"],["id","modal-basic-title",1,"modal-title"],["data-dismiss","modal",1,"cursorPointer",3,"click"],[1,"mdi","mdi-close"],[2,"width","100%",3,"inputObj"],[2,"width","100%",3,"inputObj","selectedUser"],["userModel",""],[1,"modal-header","pl-4","pr-4","pt-3","pb-0","border-bottom-0",2,"display","none"],["id","modal-basic-title",1,"modal-title","text-dark","font-bold"],["data-dismiss","modal","title","close",1,"cursorPointer","font-22","btn-close-search","btn","btn-outline-danger",3,"click"],[1,"modal-body","pt-0"],[3,"contactChangedEvent"],[2,"width","100%"]],template:function(l,d){if(1&l){const f=t.EpF();t.TgZ(0,"ul",0),t.TgZ(1,"li",1),t.TgZ(2,"a",2),t.NdJ("click",function(){return d.toggleSidebar.emit(!0)}),t._UZ(3,"i",3),t.qZA(),t.qZA(),t.TgZ(4,"li",4),t.TgZ(5,"a",5),t.TgZ(6,"span",6),t.TgZ(7,"span"),t._uU(8,"Create New"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",7),t.YNc(10,Ft,2,0,"a",8),t.YNc(11,Yt,2,0,"a",8),t.YNc(12,Wt,2,0,"a",8),t.YNc(13,$t,2,0,"a",8),t.TgZ(14,"a",9),t.NdJ("click",function(){t.CHM(f);const tt=t.MAs(51);return d.openPopUp(tt)}),t._uU(15,"Add New Activity"),t.qZA(),t.YNc(16,Kt,2,0,"a",8),t.YNc(17,Ht,2,0,"a",8),t.YNc(18,jt,2,0,"a",8),t.YNc(19,Vt,2,0,"a",8),t.qZA(),t.qZA(),t.YNc(20,zt,6,1,"li",10),t.qZA(),t.TgZ(21,"ul",11),t.YNc(22,Gt,3,0,"li",12),t.TgZ(23,"li",13),t.TgZ(24,"a",14),t._UZ(25,"i",15),t.YNc(26,Xt,2,0,"div",16),t.qZA(),t.TgZ(27,"div",17),t.TgZ(28,"span",18),t._UZ(29,"span",19),t.qZA(),t.TgZ(30,"ul",20),t.TgZ(31,"div",19),t.TgZ(32,"li"),t.TgZ(33,"div",21),t.TgZ(34,"h4",22),t._uU(35),t.qZA(),t.TgZ(36,"span",23),t._uU(37,"Notifications"),t.qZA(),t.qZA(),t.TgZ(38,"div",24),t.TgZ(39,"div",25),t.TgZ(40,"a",26),t.NdJ("click",function(){return d.refreshNotifications()}),t._UZ(41,"i",27),t.qZA(),t.qZA(),t.TgZ(42,"div",28),t.TgZ(43,"a",29),t.NdJ("click",function(){return d.markAllRead()}),t._uU(44,"Mark all read"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(45,te,6,1,"div",30),t.TgZ(46,"li"),t.YNc(47,s,2,2,"div",31),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(48,v,8,4,"ng-template",null,32,t.W1O),t.YNc(50,C,8,5,"ng-template",null,33,t.W1O),t.YNc(52,q,8,4,"ng-template",null,34,t.W1O),t.YNc(54,at,8,4,"ng-template",null,35,t.W1O),t.YNc(56,pt,8,4,"ng-template",null,36,t.W1O),t.YNc(58,F,8,4,"ng-template",null,37,t.W1O),t.YNc(60,bt,8,4,"ng-template",null,38,t.W1O),t.YNc(62,Mt,9,3,"ng-template",null,39,t.W1O),t.YNc(64,ee,7,0,"ng-template",null,40,t.W1O),t.YNc(66,ne,7,0,"ng-template",null,41,t.W1O)}2&l&&(t.xp6(10),t.Q6J("ngIf",d.allowedPermissions.CAN_MANAGE_STUDENTS&&d.isAdmin),t.xp6(1),t.Q6J("ngIf",d.allowedPermissions.CAN_MANAGE_USERS),t.xp6(1),t.Q6J("ngIf",d.allowedPermissions.CAN_MANAGE_CLIENTS),t.xp6(1),t.Q6J("ngIf",d.allowedPermissions.CAN_MANAGE_SETTINGS),t.xp6(3),t.Q6J("ngIf",d.allowedPermissions.CAN_MANAGE_SETTINGS),t.xp6(1),t.Q6J("ngIf",d.allowedPermissions.CAN_MANAGE_SETTINGS),t.xp6(1),t.Q6J("ngIf",d.allowedPermissions.CAN_MANAGE_BILLING&&d.isAdmin),t.xp6(1),t.Q6J("ngIf",d.allowedPermissions.CAN_MANAGE_BILLING&&d.isAdmin),t.xp6(1),t.Q6J("ngIf",d.isAdmin),t.xp6(2),t.Q6J("ngIf",d.isAdmin),t.xp6(4),t.Q6J("ngIf",d.newNotifications&&d.newNotifications>0),t.xp6(9),t.hij("",d.newNotifications," New"),t.xp6(10),t.Q6J("ngIf",null==d.notifications||(null==d.notifications?null:d.notifications.length)<1),t.xp6(2),t.Q6J("ngIf",null!=d.notifications&&(null==d.notifications?null:d.notifications.length)>0))},directives:[y.jt,y.iD,y.Vi,p.O5,e._Y,e.JL,e.F,L.e$,B.$V,p.sg,p.mk,j.L,ot.H,G.J,lt.m,it.l,O.Y,I.l,J,H.m,Qt],pipes:[p.uU,z.X$],styles:['.topbot[_ngcontent-%COMP%] {\r\n\ttop: 55px !important;\r\n\tleft: -228px !important;\r\n}\r\n.lang-select[_ngcontent-%COMP%] {\r\n\ttop: 55px !important;\r\n\tleft: -123px !important;\r\n\r\n}\r\n.create_link[_ngcontent-%COMP%]{\r\n\topacity: .7;\r\n}\r\n.create_link[_ngcontent-%COMP%]:hover{\r\n\topacity: 1;\r\n}\r\n@media (min-width: 768px) {\r\n\tnavbar-expand-md[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] {\r\n\t\tposition: absolute;\r\n\t\ttop: 55px !important;\r\n\t\tleft: -228px !important;\r\n\t}\r\n}\r\n@media (min-width: 1212px) {\r\n\t.inputField[_ngcontent-%COMP%] {\r\n\t\twidth: 830px !important;\r\n\t\tmargin-top: 14px !important;\r\n\t}\r\n}\r\n@media (min-width: 1000px) and (max-width: 1211px) {\r\n\t.inputField[_ngcontent-%COMP%] {\r\n\t\twidth: 610px !important;\r\n\t\tmargin-top: 14px !important;\r\n\t}\r\n}\r\n@media (min-width: 700px) and (max-width: 999px) {\r\n\t.inputField[_ngcontent-%COMP%] {\r\n\t\twidth: 470px !important;\r\n\t\tmargin-top: 14px !important;\r\n\t}\r\n}\r\n@media (min-width: 516px) and (max-width: 699px) {\r\n\t.inputField[_ngcontent-%COMP%] {\r\n\t\twidth: 300px !important;\r\n\t\tmargin-top: 14px !important;\r\n\t}\r\n}\r\n@media (min-width: 400px) and (max-width: 515px) {\r\n\t.inputField[_ngcontent-%COMP%] {\r\n\t\twidth: 180px !important;\r\n\t\tmargin-top: 14px !important;\r\n\t}\r\n}\r\n\r\ninput[type="text"][_ngcontent-%COMP%]:focus {\r\n\tborder-color: dodgerBlue;\r\n\tbox-shadow: 0 0 8px 0 dodgerBlue;\r\n}\r\n.inputWithIcon[_ngcontent-%COMP%]   input[type="text"][_ngcontent-%COMP%] {\r\n\tpadding-left: 35px;\r\n\tborder:none;\r\n}\r\n.inputWithIcon[_ngcontent-%COMP%] {\r\n\tposition: relative;\r\n}\r\n.inputWithIcon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 1px;\r\n\tpadding: 9px 8px;\r\n\tcolor: #aaa;\r\n\ttransition: 0.3s;\r\n}\r\n.inputWithIcon[_ngcontent-%COMP%]   input[type="text"][_ngcontent-%COMP%]:focus    + i[_ngcontent-%COMP%] {\r\n\tcolor: dodgerBlue;\r\n}\r\n.inputWithIcon.inputIconBg[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\r\n\tbackground-color: #aaa;\r\n\tcolor: #fff;\r\n\tpadding: 9px 4px;\r\n\tborder-radius: 4px 0 0 4px;\r\n}\r\n.inputWithIcon.inputIconBg[_ngcontent-%COMP%]   input[type="text"][_ngcontent-%COMP%]:focus    + i[_ngcontent-%COMP%] {\r\n\tcolor: #fff;\r\n\tbackground-color: dodgerBlue;\r\n}\r\n.margn-left40[_ngcontent-%COMP%] {\r\n\tmargin-left: 40px;\r\n}\r\n.dangerboder[_ngcontent-%COMP%] {\r\n\tborder: 1px solid red;\r\n\tmargin-left: 1px;\r\n\tmargin-right: 1px;\r\n\tbackground: #f9cccc;\r\n\tpadding-left: 29px;\r\n\tmargin-bottom: 1rem;\r\n\tpadding-right: 29px;\r\n}\r\n.margntopbot[_ngcontent-%COMP%] {\r\n\tmargin-top: 10px;\r\n\tmargin-bottom: 10px;\r\n}\r\n.margnbot[_ngcontent-%COMP%] {\r\n\tmargin-bottom: 0.5rem !important;\r\n}\r\n.margntot[_ngcontent-%COMP%] {\r\n\tmargin-top: 1rem !important;\r\n}\r\n.margnbot1rem[_ngcontent-%COMP%] {\r\n\tmargin-bottom: 1rem !important;\r\n}\r\n\r\n\r\n .bs-datepicker-head {\r\n\tbackground-color: #2962ff !important;\r\n}\r\n .bs-datepicker-body table td span.selected {\r\n\tbackground-color: #2962ff !important;\r\n}\r\n .bs-datepicker-body table td.week span {\r\n\tcolor: #2962ff !important;\r\n}\r\n.curserPointer[_ngcontent-%COMP%] {\r\n\tcursor: pointer;\r\n}\r\nbody[_ngcontent-%COMP%]   .ui-widget[_ngcontent-%COMP%] {\r\n\tfont-family: "Open Sans", "Helvetica Neue", sans-serif;\r\n\tfont-size: 14px;\r\n\ttext-decoration: none;\r\n\twidth: 100%;\r\n}\r\n.margnbott[_ngcontent-%COMP%] {\r\n\tmargin-bottom: 4px;\r\n}\r\n.custom-scroll-bar[_ngcontent-%COMP%] {\r\n\theight: 70vh;\r\n\toverflow-y: scroll;\r\n\toverflow-x: hidden;\r\n}\r\n.custom-scroll-bar[_ngcontent-%COMP%]::-webkit-scrollbar {\r\n\twidth: 5px;\r\n}\r\n.custom-scroll-bar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb {\r\n\tbackground: rgba(0, 0, 0, .26);\r\n}\r\n.custom-scroll-bar[_ngcontent-%COMP%] {\r\n\theight: 70vh;\r\n\toverflow-y: scroll;\r\n}\r\n.timer-container[_ngcontent-%COMP%] {\r\n\tborder: 0.5px solid #00000045;\r\n\twidth: 100%;\r\n\theight: 30px;\r\n\tmargin-top: 18px;\r\n\tbackground-color: transparent;\r\n}\r\n.timer-settings[_ngcontent-%COMP%] {\r\n\tpadding-top: 5px;\r\n\tpadding-left: 5px;\r\n\t\r\n\twidth: 80%;\r\n\theight: 100%;\r\n\tbackground-color: white;\r\n\tfloat: left;\r\n\tcursor: pointer;\r\n}\r\n.timer-settings-dropdown[_ngcontent-%COMP%] {\r\n\tpadding-top: 5px;\r\n\tpadding-left: 5px;\r\n\tborder-right: 1px solid #00000045;\r\n\t\r\n\theight: 100%;\r\n\tbackground-color: white;\r\n\tfloat: left;\r\n\tcursor: pointer;\r\n}\r\n.timer-settings-dropdown-active[_ngcontent-%COMP%] {\r\n\t\r\n\tpadding-top: 5px;\r\n\tpadding-left: 5px;\r\n\tborder-right: 1px solid #00000045;\r\n\t\r\n\t\r\n\theight: 100%;\r\n\t\r\n\tfloat: left;\r\n\tcursor: pointer;\r\n}\r\n.timer-settings-active[_ngcontent-%COMP%] {\r\n\t\r\n\tpadding-top: 5px;\r\n\tpadding-left: 5px;\r\n\tborder-right: 1px solid #00000045;\r\n\twidth: 80%;\r\n\t\r\n\theight: 100%;\r\n\t\r\n\tfloat: left;\r\n\tcursor: pointer;\r\n}\r\n.timer-dropdown[_ngcontent-%COMP%] {\r\n\t\r\n\twidth: 20%;\r\n\t\r\n\tfloat: right;\r\n\r\n\tmargin-top: -2px;\r\n}\r\n.topLeft[_ngcontent-%COMP%] {\r\n\ttop: 27px !important;\r\n\tleft: -319px !important;\r\n}\r\n.widthDropDown[_ngcontent-%COMP%] {\r\n\twidth: 350px;\r\n}\r\n.autoComplete-container[_ngcontent-%COMP%] {\r\n\tposition: absolute;\r\n\twidth: 450px;\r\n\tmin-height: 300px;\r\n\tz-index: 9999;\r\n\tborder: 1px solid #e9ecef;\r\n\tborder-radius: 3px;\r\n\tbackground: #fff;\r\n\tmargin-top: 0px;\r\n\tmargin-top: 3px;\r\n\tmax-height: 450px;\r\n\toverflow-y: auto;\r\n\tmargin-left: 5px;\r\n\ttop: 45px;\r\n\tright: 175px;\r\n}\r\n.topbotCustom[_ngcontent-%COMP%] {\r\n\ttop: 56px !important;\r\n\tleft: -289px !important;\r\n  }\r\n.cursorPointer[_ngcontent-%COMP%] {\r\n\tcursor: pointer;\r\n}\r\n.mail-content[_ngcontent-%COMP%] {\r\n\twidth: 100%;\r\n}\r\n.bg-gray[_ngcontent-%COMP%] {\r\n\tbackground: #f8f9fa;\r\n}\r\n.bg-white[_ngcontent-%COMP%] {\r\n\tbackground: white;\r\n}\r\n.pf-search-widget[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] {\r\n\ttop: 56px !important;\r\n\tleft: -600px !important;\r\n\twidth: 650px;\r\n}\r\n.pf-search-widget[_ngcontent-%COMP%]   .mailbox[_ngcontent-%COMP%]   .drop-title[_ngcontent-%COMP%]:after{\r\n\tbackground: none !important;\r\n}\r\n.pf-search-widget[_ngcontent-%COMP%]   .notifications[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%] {\r\n\tfont-size: 10px;\r\n\tfloat: right;\r\n}\r\n.pf-search-widget[_ngcontent-%COMP%]   .message-center.notifications[_ngcontent-%COMP%] {\r\n\theight: 50vh;\r\n\tmin-height: 315px;\r\n}\r\n.pf-search-widget[_ngcontent-%COMP%]   .message-center.forms[_ngcontent-%COMP%] {\r\n\theight: 20vh;\r\n\tmin-height: 115px;\r\n}\r\n.pf-search-widget[_ngcontent-%COMP%]   .notify[_ngcontent-%COMP%] {\r\n\ttop: -33px;\r\n\tright: -3px;\r\n}\r\n\r\n.pf-search-form-empty-image-container[_ngcontent-%COMP%], .pf-search-form-image-container[_ngcontent-%COMP%] {\r\n\tposition: relative;\r\n    display: inline-block;\r\n    text-align: center;\r\n}\r\n@media (min-width: 768px) {\r\n\t.lol-notification-widget-cb[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{\r\n\t\ttop: 56px !important;\r\n\t\tleft: -397px !important;\r\n\t\twidth: 450px;\r\n\t\theight: auto;\r\n\t\tpadding: 5px;\r\n\t  }\r\n}\r\n.lol-notification-widget[_ngcontent-%COMP%]   .mailbox[_ngcontent-%COMP%]   .drop-title[_ngcontent-%COMP%]:after, .lol-timer-widget[_ngcontent-%COMP%]   .mailbox[_ngcontent-%COMP%]   .drop-title[_ngcontent-%COMP%]:after, .lol-task-widget[_ngcontent-%COMP%]   .mailbox[_ngcontent-%COMP%]   .drop-title[_ngcontent-%COMP%]:after{\r\n  background: none !important;\r\n}\r\n.lol-notification-widget-cb[_ngcontent-%COMP%]   .mailbox[_ngcontent-%COMP%]   .drop-title[_ngcontent-%COMP%]:after{\r\n\tbackground: none !important;\r\n  }\r\n.lol-notification-widget-cb[_ngcontent-%COMP%]   .notifications[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%] {\r\n\tfont-size: 10px;\r\n\tfloat: right;\r\n  }\r\n.lol-notification-widget-cb[_ngcontent-%COMP%]   .message-center.notifications[_ngcontent-%COMP%] {\r\n\t  height: auto;\r\n\t}\r\n.lol-notification-widget-cb[_ngcontent-%COMP%]   .message-center.forms[_ngcontent-%COMP%] {\r\n\t\theight: 20vh;\r\n\t\tmin-height: 115px;\r\n\t  }\r\n.lol-notification-widget-cb[_ngcontent-%COMP%]   .notify[_ngcontent-%COMP%] {\r\n\t  top: -33px;\r\n\t  right: -3px;\r\n  }\r\n.lol-notifications-empty-image-container[_ngcontent-%COMP%] {\r\n\tmargin-left: 90px;\r\n  }\r\n.cursorPointer[_ngcontent-%COMP%] {\r\n\tcursor: pointer;\r\n  }\r\n.mail-content[_ngcontent-%COMP%] {\r\n\twidth: 100%;\r\n  }\r\n.notification-status[_ngcontent-%COMP%] {\r\n\tbackground: #f62d51;\r\n\tborder-radius: 50%;\r\n\tdisplay: inline-block;\r\n\theight: 6px;\r\n\tleft: 30px;\r\n\tposition: absolute;\r\n\ttop: 20px;\r\n\twidth: 5px;\r\n  }\r\n.pf-user-content[_ngcontent-%COMP%] {\r\n\tline-height: 64px;\r\n\tpadding: 0px 10px;\r\n  }\r\n.pf-user-content[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%] {\r\n\tpadding: 0px 10px;\r\n  }\r\n.pf-user-content[_ngcontent-%COMP%]   .icon-arrow-down[_ngcontent-%COMP%]{\r\n\tfont-size:10px;\r\n\tline-height: 64px;\r\n\tcolor: rgba(0, 0, 0, 0.5);\r\n  }\r\n.navbar-button-icons[_ngcontent-%COMP%] {\r\n\tcolor: rgba(0, 0, 0, 0.5);\r\n  }\r\n.pf-top-action[_ngcontent-%COMP%] {\r\n\tdisplay: flex;\r\n    color: white;\r\n\tpadding: 1px 20px;\r\n    border-radius: 20px;\r\n    font-size: 12px;\r\n\ttransition: 0.5s;\r\n  }\r\n.pf-top-action[_ngcontent-%COMP%]:hover {\r\n\tbox-shadow: 0 8px 8px rgb(107 107 224 / 40%);\r\n  }\r\n.pf-top-action[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\r\n\tfont-size: 20px;\r\n  }\r\n.pf-top-action[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\r\n    font-size: 12px;\r\n    margin: 0px 10px 0px 0px;\r\n    line-height: 30px;\r\n  }\r\n.nav-button-nav[_ngcontent-%COMP%] {\r\n\tpadding: 0px 14px;\r\n    font-size: 0.875rem;\r\n    line-height: 64px;\r\n    height: 64px;\r\n  }\r\n.pf-nav-form-controls[_ngcontent-%COMP%] {\r\n\tdisplay:flex;\r\n\tmargin-left: 5vw;\r\n  }\r\n.pf-nav-form-controls[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .pf-nav-form-controls[_ngcontent-%COMP%]   .custom-page-count[_ngcontent-%COMP%] {\r\n\tpadding: 0px 6px !important;\r\n    font-size: 0.875rem;\r\n    line-height: 64px;\r\n    height: 64px;\r\n  }\r\n.pf-nav-form-controls[_ngcontent-%COMP%]   .custom-page-count[_ngcontent-%COMP%] {\r\n\twidth: 66px;\r\n  }\r\n.navbar-nav[_ngcontent-%COMP%]   .pf-nav-form-controls[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%] {\r\n\ttransition: 0.5s ease-in;\r\n  }\r\n.navbar-nav[_ngcontent-%COMP%]   .pf-nav-form-controls[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover {\r\n\tbackground: rgba(0, 0, 0, 0.05);\r\n  }\r\n.navbar-nav[_ngcontent-%COMP%]   .pf-nav-form-controls[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover   .nav-link[_ngcontent-%COMP%] {\r\n\tcolor: #df002b;\r\n  }\r\n.spinner-border[_ngcontent-%COMP%] {\r\n\tdisplay: inline-block;\r\n\twidth: 1rem !important;\r\n\theight: 1rem !important;\r\n\tvertical-align: text-bottom;\r\n\tborder: 0.25em solid currentColor;\r\n\tborder-right-color: transparent;\r\n\tborder-radius: 50%;\r\n\tanimation: spinner-border .75s linear infinite;\r\n}\r\n.autoComplete-container[_ngcontent-%COMP%] {\r\n\tposition: absolute;\r\n\t\r\n\twidth: 96%;\r\n\tz-index: 9999;\r\n\tborder: 1px solid #e9ecef;\r\n\tborder-radius: 3px;\r\n\tbackground: #fff;\r\n\tmargin-top: 10px;\r\n\tbox-shadow: 0 1px 5px #959595;\r\n\tmax-height: 300px;\r\n\toverflow-y: auto;\r\n}\r\n.dropdown-container[_ngcontent-%COMP%] {\r\n\tpadding: 10px;\r\n}\r\n.dropdown-container[_ngcontent-%COMP%]:hover {\r\n\tbackground: #4c32e9;\r\n\tcolor: #fff;\r\n}\r\n\r\n.autocomplete[_ngcontent-%COMP%] {\r\n\tposition: relative;\r\n\twidth: 100%;\r\n}\r\n.message-center.notifications[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%] {\r\n\tdisplay: flex;\r\n\talign-items: flex-start;\r\n\tpadding: 1rem;\r\n\tborder: none;\r\n\tborder-bottom: 1px solid #e4e5ec;\r\n  }\r\n.message-center.notifications[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message-title[_ngcontent-%COMP%] {\r\n\tfont-weight: 400;\r\n\tfont-size: 0.7rem;\r\n\t-webkit-user-select:all;\r\n\t   -moz-user-select:all;\r\n\t        user-select:all;\r\n  }\r\n.message-center.notifications[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message-desc[_ngcontent-%COMP%] {\r\n\tfont-size: 14px;\r\n  }\r\n.message-center.notifications[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message-left[_ngcontent-%COMP%] {\r\n\tpadding-right: 1rem;\r\n\tfloat: left;\r\n  }\r\n.message-center.notifications[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .icon-bg-circle[_ngcontent-%COMP%] {\r\n\twidth: 34px;\r\n\ttext-align: center;\r\n\tborder: 2px solid #fff;\r\n  }\r\n.feather[_ngcontent-%COMP%] {\r\n\tfont-family: feather!important;\r\n\tspeak: none;\r\n\tfont-style: normal;\r\n\tfont-weight: 400;\r\n\tfont-feature-settings: normal;\r\n\tfont-variant: normal;\r\n\ttext-transform: none;\r\n\tline-height: 1;\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n  }\r\n.icon-bg-circle[_ngcontent-%COMP%] {\r\n\tcolor: #fff;\r\n\tpadding: .5rem;\r\n\tborder-radius: 50%;\r\n  }\r\n  .lol-full-page-modal .modal-dialog {\r\n\tmax-width: 100% !important;\r\n\tmargin: 0;\r\n  }\r\n  .lol-full-page-modal .modal-dialog .modal-content {\r\n\theight: 100%;\r\n\tbackground: rgba(245, 245, 245, 0.96);\r\n  }\r\n  .lol-full-page-modal .btn-close-search {\r\n\tposition: absolute;\r\n\ttop: 5px;\r\n\tright: 20px;\r\n\tz-index: 1;\r\n  }\r\n.icon-bell[_ngcontent-%COMP%]::before{\r\n\tcolor: unset;\r\n  }']}),a})();const oe=[{path:"/bts/dashboard",title:Z.rO.Dashboard,icon:"icon icon-grid",class:"",allow:!0,extralink:!1,submenu:[]},{path:"/bts/clients",title:Z.rO.Clients,icon:Z._W.CLIENT_ICON,class:"",allow:!0,extralink:!1,submenu:[]},{path:"/bts/students",title:Z.rO.Students,icon:Z._W.STUDENT_ICON,class:"",allow:!0,extralink:!1,submenu:[]},{path:"/bts/calendar",title:Z.rO.Calendar,icon:Z._W.CALENDER_ICON,class:"",allow:!0,extralink:!1,submenu:[]},{path:"",title:Z.rO.Time_Tracking,icon:"mdi mdi-clock",class:"has-arrow",extralink:!1,allow:!0,submenu:[{path:"/bts/time-tracking/unposted",title:"Unposted",icon:"icon icon-info",class:"",extralink:!1,allow:!0,submenu:[]},{path:"/bts/time-tracking/posted",title:"Posted",icon:"icon icon-info",class:"",extralink:!1,allow:!0,submenu:[]},{path:"/bts/time-tracking/audit",title:"Audit",icon:"icon icon-info",class:"",extralink:!1,allow:!0,submenu:[]}]},{path:"",title:Z.rO.Billing,icon:"fas fa-dollar-sign",class:"has-arrow",allow:!0,extralink:!1,submenu:[{path:"/bts/billing/approve-sessions",title:"Approve",icon:"icon icon-info",class:"",extralink:!1,allow:!0,submenu:[]},{path:"/bts/billing/bill",title:"Bill",icon:"icon icon-info",class:"",extralink:!1,allow:!0,submenu:[]},{path:"/bts/billing/charges",title:"Charges",icon:"icon icon-info",class:"",extralink:!1,allow:!0,submenu:[]}]},{path:"",title:Z.rO.Invoicing,icon:"icon icon-doc",class:"has-arrow",allow:!0,extralink:!1,submenu:[{path:"/bts/invoicing/create",title:"Create",icon:"icon icon-info",class:"",extralink:!1,allow:!0,submenu:[]},{path:"/bts/invoicing/tracking",title:"Tracking",icon:"icon icon-info",class:"",extralink:!1,allow:!0,submenu:[]},{path:"/bts/invoicing/payments",title:"Payments",icon:"icon icon-info",class:"",extralink:!1,allow:!0,submenu:[]}]},{path:"/bts/record-mileage",title:Z.rO.Record_Mileage,icon:"icon icon-briefcase",class:"",allow:!0,extralink:!1,submenu:[]},{path:"/bts/reports",title:Z.rO.Reports,icon:"mdi mdi-book-multiple-variant",class:"",allow:!0,extralink:!1,submenu:[]},{path:"/bts/data-dna-detail",title:Z.rO.Data_DNA,icon:"mdi mdi-format-section",class:"",allow:!0,extralink:!1,submenu:[]},{path:"",title:Z.rO.Settings,icon:"mdi mdi-settings",class:"has-arrow",extralink:!1,allow:!0,submenu:[{path:"/bts/settings/account-config",title:"Configuration",icon:Z._W.CONFIG_ICON,class:"",extralink:!1,allow:!0,submenu:[]},{path:"/bts/users",title:"Manage Users",icon:Z._W.USER_ICON,class:"",extralink:!1,allow:!0,submenu:[]},{path:"/bts/settings/service-types",title:"Service Types",icon:"icon icon-key",class:"",extralink:!1,allow:!0,submenu:[]},{path:"/bts/settings/service-area",title:"Service Areas",icon:"icon icon-bulb",class:"",extralink:!1,allow:!0,submenu:[]},{path:"/bts/settings/wbs",title:"WBS",icon:"icon icon-bag",class:"",extralink:!1,allow:!0,submenu:[]},{path:"/bts/settings/import-data",title:"Import Data",icon:"icon icon-bag",class:"",extralink:!1,allow:!0,submenu:[]},{path:"/bts/settings/data-dna",title:"Default DataDNA",icon:"icon icon-bag",class:"",extralink:!1,allow:!0,submenu:[]}]}];var le=r(8429),se=r(1464);function pe(a,x){if(1&a&&(t.TgZ(0,"div",25),t._UZ(1,"img",26),t.qZA()),2&a){const l=t.oxw();t.xp6(1),t.Q6J("src",l.sanitizer.bypassSecurityTrustUrl(l.user.profilePic),t.LSH)}}function _e(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div",27),t.NdJ("click",function(f){return t.CHM(l),t.oxw().play(f)}),t.TgZ(1,"ng-lottie",28),t.NdJ("animCreated",function(f){return t.CHM(l),t.oxw().handleAnimation(f)}),t.qZA(),t.qZA()}if(2&a){const l=t.oxw();t.xp6(1),t.Q6J("options",l.lottieConfig)("width","50")("height","50")}}function me(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div",29),t.TgZ(1,"a",20),t.NdJ("click",function(){return t.CHM(l),t.oxw().goDark()}),t._UZ(2,"i",30),t._uU(3,"Dark"),t.qZA(),t.TgZ(4,"a",20),t.NdJ("click",function(){return t.CHM(l),t.oxw().goLight()}),t._UZ(5,"i",31),t._uU(6,"Light"),t.qZA(),t.TgZ(7,"a",20),t.NdJ("click",function(){return t.CHM(l),t.oxw().goStandard()}),t._UZ(8,"i",32),t._uU(9,"Standard"),t.qZA(),t.TgZ(10,"a",20),t.NdJ("click",function(){return t.CHM(l),t.oxw().gotoProfile()}),t._UZ(11,"i",33),t._uU(12,"More"),t.qZA(),t.qZA()}}function he(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"a",34),t.NdJ("click",function(){return t.CHM(l),t.oxw().toggleSidebar.emit()}),t._UZ(1,"i",35),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&a&&(t.xp6(2),t.hij("",t.lcZ(3,1,"Submit Support Ticket")," "))}function ve(a,x){if(1&a&&(t.TgZ(0,"div",41),t.TgZ(1,"span",42),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA()),2&a){const l=t.oxw().$implicit;t.xp6(2),t.Oqu(t.lcZ(3,1,l.title))}}function fe(a,x){if(1&a&&(t.TgZ(0,"span",48),t._uU(1),t.ALo(2,"nullToDash"),t.qZA()),2&a){const l=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,1,l.activityCount.unpostedCount)," Unposted ")}}const Ct=function(a){return[a]};function Ae(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"a",43),t.NdJ("click",function(){t.CHM(l);const f=t.oxw().$implicit;return t.oxw().addExpandClass(f)}),t._UZ(1,"i",44),t.TgZ(2,"span",45),t.TgZ(3,"span",42),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",46),t.YNc(7,fe,3,3,"span",47),t.qZA(),t.qZA(),t.qZA()}if(2&a){const l=t.oxw().$implicit,d=t.oxw();t.Q6J("ngClass",t.VKq(7,Ct,l.class))("routerLinkActive",0!=l.submenu.length?"":"active"),t.xp6(1),t.Q6J("ngClass",t.VKq(9,Ct,l.icon)),t.xp6(3),t.Oqu(t.lcZ(5,5,l.title)),t.xp6(3),t.Q6J("ngIf",l.title==d.MENU_TITLES.Time_Tracking)}}function Ze(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"a",49),t.NdJ("click",function(){return t.CHM(l),t.oxw(2).toggleSidebar.emit()})("click",function(){t.CHM(l);const f=t.oxw().$implicit;return t.oxw().addExpandClass(f)}),t._UZ(1,"i",44),t.TgZ(2,"span",42),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA()}if(2&a){const l=t.oxw().$implicit;t.Q6J("routerLink",""===l.class?t.VKq(7,Ct,l.path):null)("ngClass",t.VKq(9,Ct,l.class))("routerLinkActive",0!=l.submenu.length?"":"active"),t.xp6(1),t.Q6J("ngClass",t.VKq(11,Ct,l.icon)),t.xp6(2),t.Oqu(t.lcZ(4,5,l.title))}}function Te(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"a",53),t.NdJ("click",function(){return t.CHM(l),t.oxw(4).toggleSidebar.emit()})("click",function(){t.CHM(l);const f=t.oxw().$implicit,b=t.oxw(3);return f.submenu.length>0?null:b.navigateToPath(f.path)})("click",function(){t.CHM(l);const f=t.oxw().$implicit;return t.oxw(3).addActiveClass(f.title)}),t.TgZ(1,"span",42),t._uU(2),t.qZA(),t.qZA()}if(2&a){const l=t.oxw().$implicit;t.Q6J("routerLinkActive",l.submenu.length>0?"":"router-link-active")("ngClass",t.VKq(3,Ct,l.class)),t.xp6(2),t.hij("- ",l.title,"")}}function Ce(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"a",58),t.NdJ("click",function(){return t.CHM(l),t.oxw(6).toggleSidebar.emit()}),t.TgZ(1,"span",42),t._uU(2),t.qZA(),t.qZA()}if(2&a){const l=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(3,Ct,l.path))("routerLinkActive",l.submenu.length>0?"":"router-link-active"),t.xp6(2),t.Oqu(l.title)}}function ye(a,x){if(1&a&&(t.TgZ(0,"li",56),t.YNc(1,Ce,3,5,"a",57),t.qZA()),2&a){const l=x.$implicit;t.Q6J("ngClass",t.VKq(2,Ct,l.class)),t.xp6(1),t.Q6J("ngIf",!l.extralink)}}const ae=function(a){return{in:a}};function be(a,x){if(1&a&&(t.TgZ(0,"ul",54),t.YNc(1,ye,2,4,"li",55),t.qZA()),2&a){const l=t.oxw().$implicit,d=t.oxw(3);t.Q6J("ngClass",t.VKq(2,ae,d.showSubMenu===l.title)),t.xp6(1),t.Q6J("ngForOf",l.submenu)}}function Me(a,x){if(1&a&&(t.TgZ(0,"li",36),t.YNc(1,Te,3,5,"a",51),t.YNc(2,be,2,4,"ul",52),t.qZA()),2&a){const l=x.$implicit,d=t.oxw(3);t.ekj("active",d.showSubMenu===l.title),t.Q6J("routerLinkActive",l.submenu.length>0?"":"active"),t.xp6(1),t.Q6J("ngIf",!l.extralink),t.xp6(1),t.Q6J("ngIf",l.submenu.length>0)}}function xe(a,x){if(1&a&&(t.TgZ(0,"ul",50),t.YNc(1,Me,3,5,"li",22),t.qZA()),2&a){const l=t.oxw().$implicit,d=t.oxw();t.Q6J("ngClass",t.VKq(2,ae,d.showMenu===l.title)),t.xp6(1),t.Q6J("ngForOf",l.submenu)}}function Se(a,x){if(1&a&&(t.TgZ(0,"li",36),t.YNc(1,ve,4,3,"div",37),t.YNc(2,Ae,8,11,"a",38),t.YNc(3,Ze,5,13,"a",39),t.YNc(4,xe,2,4,"ul",40),t.qZA()),2&a){const l=x.$implicit,d=t.oxw();t.ekj("active",d.showMenu===l.title),t.Q6J("routerLinkActive",0!=l.submenu.length?"":"active"),t.xp6(1),t.Q6J("ngIf",!0===l.extralink),t.xp6(1),t.Q6J("ngIf",!l.extralink&&l.submenu.length>0),t.xp6(1),t.Q6J("ngIf",!l.extralink&&0===l.submenu.length),t.xp6(1),t.Q6J("ngIf",l.submenu.length>0)}}function Ee(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div",59),t.TgZ(1,"h5",60),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",61,23),t.NdJ("click",function(){return t.CHM(l).$implicit.dismiss("Cross click")}),t._UZ(6,"i",62),t.qZA(),t.qZA(),t.TgZ(7,"div",63),t.TgZ(8,"pic-cropper",64),t.NdJ("onImgCropped",function(f){return t.CHM(l),t.oxw().onImgCropped(f)}),t.qZA(),t.qZA()}if(2&a){const l=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,2,"Crop Image")),t.xp6(6),t.Q6J("selectedImageEvent",l.fileSelectedEvent)}}function De(a,x){if(1&a){const l=t.EpF();t.TgZ(0,"div",65),t.TgZ(1,"h4",60),t._uU(2," Reset Password "),t.qZA(),t.TgZ(3,"a",66,24),t.NdJ("click",function(){return t.CHM(l).$implicit.dismiss("Cross click")}),t._UZ(5,"i",62),t.qZA(),t.qZA()}}const Oe=function(a,x,l){return{"hover-dark":a,"hover-light":x,"bg-transparent":l}};let Pe=(()=>{class a{constructor(l,d,f,b,tt,xt,Dt,_t,re,on){this.util=l,this.router=d,this.sanitizer=f,this.modalService=b,this.eventService=tt,this.authServ=xt,this.btsUserServ=Dt,this.toastr=_t,this.confirmDialog=re,this.activityService=on,this.toggleSidebar=new t.vpe,this.themeOptions=null,this.globalConsts=Z._W,this.helpLink="",this.showMenu="",this.subs=new h.w,this.MENU_TITLES=Z.rO,this.showSubMenu="",this.isImgLoading=!1,this.showThemeSubmenu=!1,this.hover=!1,this.fileSelectedEvent=null,this.activityCount=new _.EJ,this.isAdmin=this.util.isAdmin(),this.themeOptions=this.util.getThemePreferenceFromSession(),this.lottieConfig={path:"../../assets/images/lottie/contact_img.json",renderer:"svg",autoplay:!0,loop:!1}}ngAfterViewInit(){}ngOnInit(){this.user=this.util.getBtsUserFromSession(),this.getUnpostedCount(),this.subs.add(this.eventService.onActivityEventDelete.subscribe(l=>{this.getUnpostedCount()})),this.subs.add(this.eventService.onActivityEventSaved.subscribe(l=>{this.getUnpostedCount()})),this.helpLink=this.globalConsts.HELP_LINKS[this.user.role],this.loadMenu(this.user)}ngOnDestroy(){this.subs.unsubscribe()}loadMenu(l=null){null!=l&&(this.sidebarnavItems=oe.filter(d=>{if(d.allow&&d.submenu.length>0){let f=d.submenu.filter(b=>this.util.checkRoutePermission(b.title));d.submenu=[],d.submenu=f}return this.util.checkRoutePermission(d.title)}))}addExpandClass(l){l.title===this.showMenu&&null!=l.submenu.length&&l.submenu.length>0?this.showMenu="0":(this.showMenu=l.title,this.showSubMenu="")}addActiveClass(l){this.showSubMenu=l===this.showSubMenu?"0":l}openChange(l){l||(this.showThemeSubmenu=this.hover=l)}play(l){console.log("play clicked!"),this.anim.setDirection(1),this.anim.goToAndStop(1),this.anim.play()}handleAnimation(l){this.anim=l}onSelectFile(l,d){this.fileSelectedEvent=l,this.picCropperModalRef=this.modalService.open(d,{size:"lg",backdrop:"static",keyboard:!1,centered:!0})}onImgCropped(l){let d=new FormData;d.set("file",l),this.picCropperModalRef.close(),this.isImgLoading=!0,this.btsUserServ.uploadProfilePic(d,this.util.getLoggedUserId()).then(f=>{let b=this.btsUserServ.getData(f);this.isImgLoading=!1,this.user.profilePic=b.profilePic?b.profilePic:null,this.toastr.success("Profile picture updated successfully!","Success")}).catch(f=>{this.toastr.error("Error while uploading image","ERROR"),this.isImgLoading=!1,console.log("-------------- Error while Uploading ---------------"),console.log(f)})}gotoProfile(){let l=this.util.getLoggedUserId();this.router.navigateByUrl("/bts/profile/"+l)}logout(){this.confirmDialog.confirm("Are you sure you want to  <strong>Logout?</strong>","Confirmation").then(d=>{if(d){let f=this.util.getBtsUserFromSession();f&&f.id?this.authServ.logout().then(b=>{this.util.logout()}).catch(b=>{this.util.logout(),console.log(b)}):this.util.logout()}}).catch(()=>{console.log("User dismissed the dialog")})}navigateToPath(l){this.router.navigateByUrl(l)}goStandard(){this.themeOptions.theme="light",this.themeOptions.sidebarbg="skin1",this.themeOptions.navbarbg="skin1",this.themeOptions.logobg="skin1",this.saveTheme()}goLight(){this.themeOptions.theme="light",this.themeOptions.sidebarbg="skin6",this.themeOptions.navbarbg="skin6",this.themeOptions.logobg="skin6",this.saveTheme()}goDark(){this.themeOptions.theme="dark",this.themeOptions.sidebarbg="skin5",this.themeOptions.navbarbg="skin5",this.themeOptions.logobg="skin5",this.saveTheme()}saveTheme(){this.eventService.onThemePrefChange.emit(this.themeOptions),this.user.themePreference=this.themeOptions,this.btsUserServ.updateUser(this.user).then(l=>{this.eventService.onThemePrefSaved.emit(this.themeOptions)}).catch(l=>{console.log("error:",l)})}getUnpostedCount(){var l;let d=this.util.getTodayDateMilliSeconds();this.activityService.getActivityCount(null===(l=this.user)||void 0===l?void 0:l.id,null,d).then(f=>{let b=this.activityService.getData(f);this.activityCount=b}).catch(f=>{console.log(f)})}}return a.\u0275fac=function(l){return new(l||a)(t.Y36(u.Z),t.Y36(o.F0),t.Y36($.H7),t.Y36(y.FF),t.Y36(T.P),t.Y36(X.e),t.Y36(g.a),t.Y36(c._W),t.Y36(st.O),t.Y36(k.M))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-sidebar"]],outputs:{toggleSidebar:"toggleSidebar"},decls:38,vars:28,consts:[[1,"sidebar-nav"],["id","sidebarnav"],[1,"user-profile","d-flex","no-block","m-t-20"],["class","user-pic",4,"ngIf"],["class","user-icon-default","style","top: -5px; left:-8px; position: relative; width: 50px;",3,"click",4,"ngIf"],["ngbDropdown","","placement","bottom-right",1,"dropdown","user-content","hide-menu",3,"openChange"],["ngbDropdownToggle","","href","javascript:void(0)","id","Userdd","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"dropdown-toggle",2,"color","black"],[1,"m-b-0","user-name","font-medium"],[1,"fa","fa-angle-down"],[1,"op-5","user-email"],["aria-labelledby","Userdd","ngbDropdownMenu","","placement","bottom-right",1,"dropdown-menu","dropdown-menu-right","dropdown-menu-right-sidebar",2,"border-radius","10px"],["target","_blank",1,"dropdown-item",3,"click"],[1,"mdi","mdi-account","m-r-5","m-l-5"],["href","javascript:void(0)",1,"d-block",2,"padding","0.65rem 1rem",3,"ngClass","click","mouseover","mouseleave"],[1,"dropdownx"],[1,"mdi","mdi-theme-light-dark","m-r-5","m-l-5"],["class"," dropdown-menu dropdown-contentx",4,"ngIf"],["target","_blank",1,"dropdown-item",3,"href","click"],[1,"mdi","mdi-help","m-r-5","m-l-5"],["class","dropdown-item","href","mailto:support@lycusinc.com?subject=BTS - Support Ticket","target","_blank",3,"click",4,"ngIf"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],[1,"mdi","mdi-power","m-r-5","m-l-5"],["class","sidebar-item",3,"active","routerLinkActive",4,"ngFor","ngForOf"],["picCropper",""],["resetPassModal",""],[1,"user-pic"],["alt","user","width","40",1,"rounded-circle",3,"src"],[1,"user-icon-default",2,"top","-5px","left","-8px","position","relative","width","50px",3,"click"],[3,"options","width","height","animCreated"],[1,"dropdown-menu","dropdown-contentx"],[1,"mdi","mdi-weather-night","m-r-5","m-l-5"],[1,"mdi","mdi-white-balance-sunny","m-r-5","m-l-5"],[1,"mdi","mdi-looks","m-r-5","m-l-5"],[1,"mdi","mdi-dots-horizontal","m-r-5","m-l-5"],["href","mailto:support@lycusinc.com?subject=BTS - Support Ticket","target","_blank",1,"dropdown-item",3,"click"],[1,"mdi","mdi-tag-plus","m-r-5","m-l-5"],[1,"sidebar-item",3,"routerLinkActive"],["class","nav-small-cap",4,"ngIf"],["class","sidebar-link waves-effect waves-dark",3,"ngClass","routerLinkActive","click",4,"ngIf"],["class","sidebar-link waves-effect waves-dark",3,"routerLink","ngClass","routerLinkActive","click",4,"ngIf"],["aria-expanded","false","class","collapse first-level",3,"ngClass",4,"ngIf"],[1,"nav-small-cap"],[1,"hide-menu"],[1,"sidebar-link","waves-effect","waves-dark",3,"ngClass","routerLinkActive","click"],[3,"ngClass"],[1,"d-flex","hide-menu","justify-content-between"],[1,"ml-1"],["title","No of unposted activities","class","badge rounded-pill bg-danger ml-1  text-light ext-light px-2  d-block ms-auto pt-1",4,"ngIf"],["title","No of unposted activities",1,"badge","rounded-pill","bg-danger","ml-1","text-light","ext-light","px-2","d-block","ms-auto","pt-1"],[1,"sidebar-link","waves-effect","waves-dark",3,"routerLink","ngClass","routerLinkActive","click"],["aria-expanded","false",1,"collapse","first-level",3,"ngClass"],["style","margin-left:30px","class","sidebar-link",3,"routerLinkActive","ngClass","click",4,"ngIf"],["aria-expanded","false","class","collapse Second-level",3,"ngClass",4,"ngIf"],[1,"sidebar-link",2,"margin-left","30px",3,"routerLinkActive","ngClass","click"],["aria-expanded","false",1,"collapse","Second-level",3,"ngClass"],["class","sidebar-item","routerLinkActive","active",3,"ngClass",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"sidebar-item",3,"ngClass"],["class","sidebar-link",3,"routerLink","routerLinkActive","click",4,"ngIf"],[1,"sidebar-link",3,"routerLink","routerLinkActive","click"],[1,"bg-info","text-white","modal-header","p-2"],["id","modal-basic-title",1,"modal-title"],["data-dismiss","modal",1,"cursorPointer",3,"click"],[1,"mdi","mdi-close"],[1,"modal-body"],[3,"selectedImageEvent","onImgCropped"],[1,"modal-header","p-3"],["data-dismiss","modal","title","close",1,"cursorPointer",3,"click"]],template:function(l,d){1&l&&(t.TgZ(0,"nav",0),t.TgZ(1,"ul",1),t.TgZ(2,"li"),t.TgZ(3,"div",2),t.YNc(4,pe,2,1,"div",3),t.YNc(5,_e,2,3,"div",4),t.TgZ(6,"div",5),t.NdJ("openChange",function(b){return d.openChange(b)}),t.TgZ(7,"a",6),t.TgZ(8,"h5",7),t._uU(9),t._UZ(10,"i",8),t.qZA(),t.TgZ(11,"span",9),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"div",10),t.TgZ(14,"a",11),t.NdJ("click",function(){return d.gotoProfile()}),t._UZ(15,"i",12),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"a",13),t.NdJ("click",function(){return d.showThemeSubmenu=!d.showThemeSubmenu})("mouseover",function(){return d.hover=!0})("mouseleave",function(){return d.hover=!1}),t.TgZ(19,"div",14),t._UZ(20,"i",15),t._uU(21),t.ALo(22,"translate"),t.YNc(23,me,13,0,"div",16),t.qZA(),t.qZA(),t.TgZ(24,"a",17),t.NdJ("click",function(){return d.toggleSidebar.emit()}),t._UZ(25,"i",18),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.YNc(28,he,4,3,"a",19),t.TgZ(29,"a",20),t.NdJ("click",function(){return d.toggleSidebar.emit()})("click",function(){return d.logout()}),t._UZ(30,"i",21),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(33,Se,5,7,"li",22),t.qZA(),t.qZA(),t.YNc(34,Ee,9,4,"ng-template",null,23,t.W1O),t.YNc(36,De,6,0,"ng-template",null,24,t.W1O)),2&l&&(t.xp6(4),t.Q6J("ngIf",d.user.profilePic),t.xp6(1),t.Q6J("ngIf",!d.user.profilePic),t.xp6(4),t.AsE(" ",d.util.trimCharachters(d.user.firstName)," ",d.util.trimCharachters(d.user.lastName)," "),t.xp6(3),t.Oqu(d.user.email),t.xp6(4),t.hij("",t.lcZ(17,16,"View Profile")," "),t.xp6(2),t.Udp("color","dark"==d.themeOptions.theme?"#b2b9bf":"#212529"),t.Q6J("ngClass",t.kEZ(24,Oe,d.hover&&"dark"==d.themeOptions.theme,d.hover&&"dark"!=d.themeOptions.theme,!d.hover)),t.xp6(3),t.hij("",t.lcZ(22,18,"Theme")," "),t.xp6(2),t.Q6J("ngIf",d.showThemeSubmenu),t.xp6(1),t.s9C("href",d.helpLink,t.LSH),t.xp6(2),t.hij("",t.lcZ(27,20,"Help")," "),t.xp6(2),t.Q6J("ngIf",d.isAdmin),t.xp6(3),t.hij("",t.lcZ(32,22,"Logout")," "),t.xp6(2),t.Q6J("ngForOf",d.sidebarnavItems))},directives:[p.O5,y.jt,y.iD,y.Vi,p.mk,p.sg,L.e$,o.Od,o.yS,le.r],pipes:[z.X$,se.W],encapsulation:2}),a})();var de=r(5435),ce=r(8002),Ie=r(9773),Ue=r(9765),qe=r(4395),Ne=r(2741),we=r(6045),ue=r(6941);function Le(a,x){if(1&a&&(t.TgZ(0,"li",11),t.TgZ(1,"a",12),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA()),2&a){const l=t.oxw().$implicit;t.Q6J("routerLink",l.url),t.xp6(2),t.Oqu(t.lcZ(3,2,l.title))}}function Je(a,x){if(1&a&&(t.TgZ(0,"li",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a){const l=t.oxw().$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,l.title)," ")}}function Be(a,x){if(1&a&&(t.TgZ(0,"li",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a){const l=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,l.nameParam),"")}}function ke(a,x){if(1&a&&(t.YNc(0,Le,4,4,"li",8),t.YNc(1,Je,3,3,"li",9),t.YNc(2,Be,3,3,"li",10)),2&a){const l=x.last,d=t.oxw();t.Q6J("ngIf",!l),t.xp6(1),t.Q6J("ngIf",l&&!d.nameParam),t.xp6(1),t.Q6J("ngIf",l&&d.nameParam)}}let Re=(()=>{class a{constructor(l,d,f,b,tt,xt,Dt){this.router=l,this.activatedRoute=d,this.titleService=f,this._service=b,this.event_service=tt,this._alertService=xt,this.notifier=Dt,this.nameParam=null,this._success=new Ue.xQ,this.alert=null,this.notificationId="NOTIFICATION_ID",this.router.events.pipe((0,de.h)(_t=>_t instanceof o.m2)).pipe((0,ce.U)(()=>this.activatedRoute)).pipe((0,ce.U)(_t=>{for(;_t.firstChild;)_t=_t.firstChild;return _t})).pipe((0,de.h)(_t=>"primary"===_t.outlet)).pipe((0,Ie.zg)(_t=>_t.data)).subscribe(_t=>{this.nameParam=null,this.titleService.setTitle("BTS - "+_t.title),this.pageInfo=_t})}ngOnInit(){this._service.getService().subscribe(l=>{this.nameParam=l}),this._alertService.getService().subscribe(l=>{l.selfClose?this._success.next(l):this.alert=l,this.alert&&this.errorNotify(this.alert)}),this._success.subscribe(l=>this.alert=l),this.alert&&this.errorNotify(this.alert),this._success.pipe((0,qe.b)(8e3)).subscribe(()=>this.alert=null)}errorNotify(l){console.log("errorNotify =============");let d=Date.now().toString();this.notifier.notify("error",l.message,d)}}return a.\u0275fac=function(l){return new(l||a)(t.Y36(o.F0),t.Y36(o.gz),t.Y36($.Dx),t.Y36(Ne.p),t.Y36(T.P),t.Y36(we.O),t.Y36(ue.lG))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-breadcrumb"]],inputs:{layout:"layout"},decls:12,vars:6,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","lol-ellipsis","top-title"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb",1,"w100"],[1,"breadcrumb"],["ngFor","",3,"ngForOf"],["class","breadcrumb-item ",3,"routerLink",4,"ngIf"],["class","breadcrumb-item active  ",4,"ngIf"],["class","breadcrumb-item active lol-ellipsis last-crumb",4,"ngIf"],[1,"breadcrumb-item",3,"routerLink"],["href","javascript:void(0)",2,"z-index","1"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item","active","lol-ellipsis","last-crumb"]],template:function(l,d){1&l&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h4",3),t._uU(4),t.ALo(5,"translate"),t.ALo(6,"nullToDash"),t.qZA(),t.TgZ(7,"div",4),t.TgZ(8,"nav",5),t.TgZ(9,"ol",6),t.YNc(10,ke,3,3,"ng-template",7),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(11,"notifier-container")),2&l&&(t.xp6(4),t.Oqu(t.lcZ(5,2,t.lcZ(6,4,null==d.pageInfo?null:d.pageInfo.title))),t.xp6(6),t.Q6J("ngForOf",null==d.pageInfo?null:d.pageInfo.urls))},directives:[p.sg,ue.TK,p.O5,o.rH],pipes:[z.X$,se.W],styles:["[_nghost-%COMP%]     .alert-custom {\n        left: 50%;\n        top: 10px;\n        position: fixed;\n        width: -moz-fit-content;\n        width: fit-content;\n        transform: translate(-50%, 0);\n        --bs-alert-padding-y: 1rem;\n        --bs-alert-margin-bottom: 1rem;\n        --bs-alert-border: 1px solid var(--bs-alert-border-color);\n        --bs-alert-border-radius: 0.375rem;\n        margin-bottom: var(--bs-alert-margin-bottom);\n        color: var(--bs-alert-color);\n        background-color: var(--bs-alert-bg);\n        border: var(--bs-alert-border);\n        border-radius: var(--bs-alert-border-radius);\n        --bs-alert-color: #842029;\n        --bs-alert-bg: #f8d7da;\n        --bs-alert-border-color: #f5c2c7;\n      }"]}),a})();function Qe(a,x){1&a&&(t.TgZ(0,"b",19),t._UZ(1,"img",20),t._UZ(2,"img",21),t.qZA())}function Fe(a,x){1&a&&(t.TgZ(0,"b",19),t.TgZ(1,"strong",22),t._uU(2,"BTS"),t.qZA(),t.qZA())}const Ye=function(a){return{"show-sidebar":a}},We=function(){return{backdropBorderRadius:"3px"}},$e=[{path:"",component:(()=>{class a{constructor(l,d,f,b,tt,xt){this.util=l,this.router=d,this.toastr=f,this.eRef=b,this.eventService=tt,this._bts_user_service=xt,this.loading=!1,this.config={},this.showFooter=!1,this.subs=new h.w,this.saveSub=new h.w,this.loggedInUser=null,this.isSavePrefLoading=!1,this.tabStatus="justified",this.isCollapsed=!1,this.showSettings=!1,this.showMobileMenu=!1,this.expandLogo=!1,this.showLogo=!1,this.options=new i.a}Logo(){this.expandLogo=!this.expandLogo,0==this.expandLogo&&"full"!=this.options.sidebartype?(this.options.sidebartype="mini-sidebar",this.showFooter=!1):(this.options.sidebartype="full",this.showFooter=!0)}ngOnInit(){this.loggedInUser=this.util.getBtsUserFromSession(),this.defaultSidebar=this.options.sidebartype,this.handleSidebar(),this.subscribeOnPrefChange(),this.onSubscribeOnSaveThemePref(),this.router.events.subscribe(l=>{l instanceof o.OD?this.loading=!0:(l instanceof o.m2||l instanceof o.gk||l instanceof o.Q3)&&(this.loading=!1)},()=>{this.loading=!1}),this.loggedInUser.themePreference&&(this.options=this.loggedInUser.themePreference),this.innerWidth<767&&(this.options.sidebartype="mini-sidebar")}subscribeOnPrefChange(){this.subs.add(this.eventService.onThemePrefChange.subscribe(l=>{this.options=l}))}onSubscribeOnSaveThemePref(){this.saveSub.add(this.eventService.onThemePrefSaved.subscribe(l=>{this.loggedInUser.themePreference=new i.a,this.loggedInUser.themePreference=l,this.util.setBtsUserInSession(this.loggedInUser)}))}ngOnDestroy(){this.subs.unsubscribe(),this.saveSub.unsubscribe()}onResize(l){this.handleSidebar()}handleSidebar(){switch(this.innerWidth=window.innerWidth,this.defaultSidebar){case"full":case"iconbar":this.innerWidth<1170?(this.options.sidebartype="mini-sidebar",this.showFooter=!1):(this.options.sidebartype=this.defaultSidebar,this.showFooter=!0);break;case"overlay":this.innerWidth<767?(this.options.sidebartype="mini-sidebar",this.showFooter=!1):(this.options.sidebartype=this.defaultSidebar,this.showFooter=!0)}}toggleSidebarType(l=!1){switch(console.log(l),this.options.sidebartype){case"full":this.showFooter=!0;case"iconbar":this.showFooter=!1,(window.innerWidth<767||l)&&(this.options.sidebartype="mini-sidebar",this.showFooter=!1,this.showMobileMenu=!1);break;case"overlay":this.showFooter=!1,this.showMobileMenu=!this.showMobileMenu;break;case"mini-sidebar":"mini-sidebar"===this.defaultSidebar?(this.options.sidebartype="full",this.showFooter=!0):(this.options.sidebartype=this.defaultSidebar,this.showFooter=!0);break;default:console.log("inside default")}}hideMenu(){this.showMobileMenu=!1}clickout(l){this.eRef.nativeElement.contains(l.target)&&this.hideMenu()}}return a.\u0275fac=function(l){return new(l||a)(t.Y36(u.Z),t.Y36(o.F0),t.Y36(c._W),t.Y36(t.SBq),t.Y36(T.P),t.Y36(g.a))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-full"]],hostBindings:function(l,d){1&l&&t.NdJ("resize",function(b){return d.onResize(b)},!1,t.Jf7)},decls:22,vars:25,consts:[["id","main-wrapper",3,"ngClass","dir"],[1,"topbar"],[1,"d-flex","top-navbar","navbar-expand-md",3,"ngClass"],[1,"navbar-header",3,"ngClass"],["href","javascript:void(0)",1,"nav-toggler","waves-effect","waves-light","d-block","d-md-none",3,"click"],[3,"ngClass"],["href","javascript:void(0)",1,"navbar-brand","d-flex","justify-content-center",3,"click"],["class","logo-icon",4,"ngIf"],["href","javascript:void(0)","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent",1,"topbartoggler","d-block","d-md-none","waves-effect","waves-light",3,"click"],[1,"ti-more"],["id","navbarSupportedContent",1,"navbar-collapse","collapse",3,"ngbCollapse"],[1,"w-100",3,"toggleSidebar"],[1,"left-sidebar",3,"mouseover","mouseout"],[1,"scroll-sidebar",3,"perfectScrollbar"],[3,"toggleSidebar"],[1,"page-wrapper",3,"click"],[1,"container-fluid",3,"click"],[3,"show","config"],[1,"chat-windows"],[1,"logo-icon"],["src","assets/images/Boothby-Logo-1.png","alt","homepage","height","55","width","180",1,"dark-logo","mt-2"],["src","assets/images/Boothby-Logo-1.png","alt","homepage","height","55","width","180",1,"light-logo","mt-2"],[1,""]],template:function(l,d){1&l&&(t.TgZ(0,"div",0),t.TgZ(1,"header",1),t.TgZ(2,"nav",2),t.TgZ(3,"div",3),t.TgZ(4,"a",4),t.NdJ("click",function(){return d.showMobileMenu=!d.showMobileMenu}),t._UZ(5,"i",5),t.qZA(),t.TgZ(6,"a",6),t.NdJ("click",function(){return d.util.navigateToDashboard()}),t.YNc(7,Qe,3,0,"b",7),t.YNc(8,Fe,3,0,"b",7),t.qZA(),t.TgZ(9,"a",8),t.NdJ("click",function(){return d.isCollapsed=!d.isCollapsed}),t._UZ(10,"i",9),t.qZA(),t.qZA(),t.TgZ(11,"div",10),t.TgZ(12,"app-navigation",11),t.NdJ("toggleSidebar",function(b){return d.toggleSidebarType(b)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"aside",12),t.NdJ("mouseover",function(){return d.Logo()})("mouseout",function(){return d.Logo()}),t.TgZ(14,"div",13),t.TgZ(15,"app-sidebar",14),t.NdJ("toggleSidebar",function(b){return d.toggleSidebarType(b)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",15),t.NdJ("click",function(b){return d.clickout(b)}),t._UZ(17,"app-breadcrumb"),t.TgZ(18,"div",16),t.NdJ("click",function(b){return d.clickout(b)}),t._UZ(19,"ngx-loading",17),t._UZ(20,"router-outlet"),t.qZA(),t.qZA(),t._UZ(21,"div",18),t.qZA()),2&l&&(t.Q6J("ngClass",t.VKq(22,Ye,d.showMobileMenu))("dir",d.options.dir),t.uIk("data-theme",d.options.theme)("data-layout",d.options.layout)("data-sidebartype",d.options.sidebartype)("data-sidebar-position",d.options.sidebarpos)("data-header-position",d.options.headerpos)("data-boxed-layout",d.options.boxed),t.xp6(1),t.uIk("data-navbarbg",d.options.navbarbg),t.xp6(1),t.Q6J("ngClass","skin6"==d.options.navbarbg?"navbar-light":"navbar-dark"),t.xp6(1),t.Q6J("ngClass",d.expandLogo?"expand-logo":""),t.uIk("data-logobg",d.options.logobg),t.xp6(2),t.Q6J("ngClass",d.showMobileMenu?"ti-close":"ti-menu"),t.xp6(2),t.Q6J("ngIf","full"==d.options.sidebartype),t.xp6(1),t.Q6J("ngIf","mini-sidebar"==d.options.sidebartype),t.xp6(1),t.uIk("aria-expanded",!d.isCollapsed),t.xp6(2),t.Q6J("ngbCollapse",!d.isCollapsed),t.uIk("data-navbarbg",d.options.navbarbg),t.xp6(2),t.uIk("data-sidebarbg",d.options.sidebarbg),t.xp6(1),t.Q6J("perfectScrollbar",d.config),t.xp6(5),t.Q6J("show",d.loading)("config",t.DdM(24,We)))},directives:[p.mk,p.O5,y._D,ie,B.$V,Pe,Re,Tt.RJ,o.lC],styles:[".mrgnleft[_ngcontent-%COMP%] {\r\n  margin-left: 0px !important;\r\n}\r\n\r\n.footerx[_ngcontent-%COMP%] {\r\n  position: fixed;\r\n  left: 0;\r\n  bottom: 0;\r\n  height: 14px;\r\n  background-color: #fafafb;\r\n  color: #3c4146;\r\n  \r\n  padding-left: 5px;\r\n  font-size: 10px;\r\n  padding-bottom: 16px;\r\n  padding-top: 3px;\r\n  width: 250px;\r\n}"]}),a})(),children:[{path:"dashboard",loadChildren:()=>Promise.all([r.e(122),r.e(357),r.e(592),r.e(795)]).then(r.bind(r,7060)).then(a=>a.DashboardModule),canActivate:[n.a1],data:{menuTitle:Z.rO.Dashboard}},{path:"calendar",loadChildren:()=>Promise.all([r.e(592),r.e(183)]).then(r.bind(r,7183)).then(a=>a.CalenderModule)},{path:"clients",loadChildren:()=>Promise.all([r.e(317),r.e(10),r.e(932),r.e(186),r.e(592),r.e(569)]).then(r.bind(r,6569)).then(a=>a.ClientsModule),canActivate:[n.g0],data:{menuTitle:Z.rO.Clients}},{path:"students",loadChildren:()=>Promise.all([r.e(317),r.e(533),r.e(10),r.e(186),r.e(592),r.e(146)]).then(r.bind(r,8146)).then(a=>a.StudentModule),canActivate:[n.g0],data:{menuTitle:Z.rO.Students}},{path:"users",loadChildren:()=>Promise.all([r.e(317),r.e(10),r.e(932),r.e(592),r.e(223)]).then(r.bind(r,5223)).then(a=>a.UsersModule),canActivate:[n.g0],data:{menuTitle:Z.rO.Users}},{path:"profile",loadChildren:()=>Promise.all([r.e(317),r.e(10),r.e(932),r.e(592),r.e(223)]).then(r.bind(r,5223)).then(a=>a.UsersModule),canActivate:[n.NU]},{path:"reports",loadChildren:()=>Promise.all([r.e(317),r.e(38),r.e(592),r.e(621)]).then(r.bind(r,2621)).then(a=>a.ReportsModule),canActivate:[n.g0],data:{menuTitle:Z.rO.Reports}},{path:"record-mileage",loadChildren:()=>Promise.all([r.e(122),r.e(357),r.e(524)]).then(r.bind(r,7524)).then(a=>a.RecordMileageModule),canActivate:[n.g0],data:{menuTitle:Z.rO.Record_Mileage}},{path:"data-dna-detail",loadChildren:()=>Promise.all([r.e(317),r.e(932),r.e(489)]).then(r.bind(r,5489)).then(a=>a.DataDnaDetailModule),canActivate:[n.g0],data:{menuTitle:Z.rO.Data_DNA}},{path:"time-tracking",loadChildren:()=>Promise.all([r.e(317),r.e(533),r.e(592),r.e(185)]).then(r.bind(r,9185)).then(a=>a.TimeModule),canActivate:[n.g0],data:{menuTitle:Z.rO.Time_Tracking}},{path:"billing",loadChildren:()=>Promise.all([r.e(317),r.e(533),r.e(122),r.e(38),r.e(592),r.e(553)]).then(r.bind(r,9553)).then(a=>a.BillingModule),canActivate:[n.g0],data:{menuTitle:Z.rO.Billing}},{path:"invoicing",loadChildren:()=>Promise.all([r.e(533),r.e(592),r.e(24)]).then(r.bind(r,4426)).then(a=>a.InvoicingModule),canActivate:[n.g0],data:{menuTitle:Z.rO.Invoicing}},{path:"settings",loadChildren:()=>Promise.all([r.e(317),r.e(592),r.e(178)]).then(r.bind(r,1178)).then(a=>a.SettingsModule),canActivate:[n.g0],data:{menuTitle:Z.rO.Settings}}]}];var Ke=r(5690),He=r(8366),je=r(3422),Ve=r(1841),ze=r(5819),Ge=r(4362),Xe=r(3052),tn=r.n(Xe);const en={suppressScrollX:!0,wheelSpeed:1,wheelPropagation:!0,minScrollbarLength:20};let nn=(()=>{class a{constructor(){}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({providers:[p.uU,{provide:B.op,useValue:en}],imports:[[p.ez,je.kn.forRoot(),e.UX,ze.Q,y.IJ,o.Bz.forChild($e),Ve.JF,e.u5,B.Xd,He.UU.forRoot(),Ke.P4.forRoot(),Tt.q,Ge.q,L.CT.forRoot({player:ge})]]}),a})();function ge(){return tn()}},9543:function(et,U,r){r.d(U,{m:function(){return ut}});var e=r(907),o=r(9269),n=r(7716),i=r(2664),h=r(1831),t=r(9344),u=r(9426),c=r(640),T=r(2663),g=r(3679),p=r(1321),y=r(1314),N=r(8682),$=r(9790);function z(X,L){1&X&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&X&&(n.xp6(1),n.hij("",n.lcZ(2,1,"Name")," is required "))}function st(X,L){if(1&X&&(n.TgZ(0,"div",41),n.YNc(1,z,3,3,"div",42),n.qZA()),2&X){n.oxw();const B=n.MAs(13);n.xp6(1),n.Q6J("ngIf",null==B?null:B.errors.required)}}const dt=function(){return{backdropBorderRadius:"3px"}},nt=function(X){return{"is-invalid":X}};let ut=(()=>{class X{constructor(B,j,ot,G,lt){this.modalService=B,this.util=j,this.toastr=ot,this.eventService=G,this.clientService=lt,this.inputObj=null,this.readOnly=!1,this.client=new e.m7,this.permissions=new o.m,this.loading=!1,this.loadingState=!1,this.serviceAreas=[]}ngOnInit(){this.permissions=this.util.getAllowedPermissions(),this.inputObj&&(this.client=this.inputObj)}onsubmit(){this.loading=!0,this.clientService.saveClient(this.client).then(B=>{this.modalService.dismissAll(),this.eventService.onClientEventSaved.emit(this.client),this.loading=!1,this.toastr.success(null===this.inputObj?this.client.name+" Added":this.client.name+" Updated","Success")}).catch(B=>{this.loading=!1,console.log(B)})}onCancelClicked(){this.modalService.dismissAll()}}return X.\u0275fac=function(B){return new(B||X)(n.Y36(i.FF),n.Y36(h.Z),n.Y36(t._W),n.Y36(u.P),n.Y36(c.y))},X.\u0275cmp=n.Xpm({type:X,selectors:[["app-add-edit-client"]],inputs:{inputObj:"inputObj",readOnly:"readOnly"},decls:73,vars:58,consts:[[3,"show","config"],["name","form",3,"ngSubmit","keydown.enter"],["addForm","ngForm"],[1,"modal-body",3,"ngClass"],[1,"col-lg-12"],[1,"form-body"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[1,"form-group"],[3,"labelStr","isRequired"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["name","ngModel"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-6"],[3,"labelStr"],["type","text","name","poNumber",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["poNumber","ngModel"],["name","defaultInvoiceFormat",1,"browser-default","custom-select",3,"ngModel","ngModelChange"],["defaultInvoiceFormat","ngModel"],["selected","",3,"ngValue"],[3,"ngValue"],["type","text","name","billingAttn",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["billingAttn","ngModel"],["type","text","name","billingOffice1",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["billingOffice1","ngModel"],["type","text","name","billingOffice2",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["billingOffice2","ngModel"],[1,"col-md-3","mt-4"],[1,"custom-control","custom-checkbox"],["name","placementSchool","type","checkbox","id","placementSchool",1,"custom-control-input",3,"ngModel","ngModelChange"],["placementSchool","ngModel"],["for","placementSchool",1,"custom-control-label"],[1,"col-md-5","mt-4"],["name","prospective","type","checkbox","id","prospective",1,"custom-control-input",3,"ngModel","ngModelChange"],["prospective","ngModel"],["for","prospective",1,"custom-control-label"],[1,"modal-footer"],[1,"row","form-controls-right"],[3,"showSaveBtn","loader","type","saveBtnSizeAndStyle","cancelBtnSizeAndStyle","onCancelClick"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(B,j){if(1&B){const ot=n.EpF();n._UZ(0,"ngx-loading",0),n.TgZ(1,"form",1,2),n.NdJ("ngSubmit",function(){return n.CHM(ot),n.MAs(2).form.valid&&j.onsubmit()})("keydown.enter",function(lt){return lt.preventDefault()}),n.TgZ(3,"div",3),n.TgZ(4,"div",4),n.TgZ(5,"div",5),n.TgZ(6,"div",6),n.TgZ(7,"div",7),n.TgZ(8,"div",8),n.TgZ(9,"div",9),n.TgZ(10,"div",10),n._UZ(11,"field-label",11),n.TgZ(12,"input",12,13),n.NdJ("ngModelChange",function(lt){return j.client.name=lt}),n.ALo(14,"translate"),n.qZA(),n.YNc(15,st,2,1,"div",14),n.qZA(),n.qZA(),n.qZA(),n.TgZ(16,"div",8),n.TgZ(17,"div",15),n.TgZ(18,"div",10),n._UZ(19,"field-label",16),n.TgZ(20,"input",17,18),n.NdJ("ngModelChange",function(lt){return j.client.poNumber=lt}),n.ALo(22,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(23,"div",15),n.TgZ(24,"div",10),n._UZ(25,"field-label",16),n.TgZ(26,"select",19,20),n.NdJ("ngModelChange",function(lt){return j.client.defaultInvoiceFormat=lt}),n.TgZ(28,"option",21),n._uU(29,"Select Default Template"),n.qZA(),n.TgZ(30,"option",21),n._uU(31,"Simplified"),n.qZA(),n.TgZ(32,"option",22),n._uU(33,"Detailed"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(34,"div",8),n.TgZ(35,"div",9),n.TgZ(36,"div",10),n._UZ(37,"field-label",16),n.TgZ(38,"input",23,24),n.NdJ("ngModelChange",function(lt){return j.client.billingAttn=lt}),n.ALo(40,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(41,"div",8),n.TgZ(42,"div",15),n.TgZ(43,"div",10),n._UZ(44,"field-label",16),n.TgZ(45,"input",25,26),n.NdJ("ngModelChange",function(lt){return j.client.billingOffice1=lt}),n.ALo(47,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(48,"div",15),n.TgZ(49,"div",10),n._UZ(50,"field-label",16),n.TgZ(51,"input",27,28),n.NdJ("ngModelChange",function(lt){return j.client.billingOffice2=lt}),n.ALo(53,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(54,"div",8),n.TgZ(55,"div",29),n.TgZ(56,"div",30),n.TgZ(57,"input",31,32),n.NdJ("ngModelChange",function(lt){return j.client.placementSchool=lt}),n.qZA(),n.TgZ(59,"label",33),n.TgZ(60,"span"),n._uU(61,"Placement School"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(62,"div",8),n.TgZ(63,"div",34),n.TgZ(64,"div",30),n.TgZ(65,"input",35,36),n.NdJ("ngModelChange",function(lt){return j.client.prospective=lt}),n.qZA(),n.TgZ(67,"label",37),n.TgZ(68,"span"),n._uU(69,"Is Prospective Customer"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(70,"div",38),n.TgZ(71,"div",39),n.TgZ(72,"app-save-button",40),n.NdJ("onCancelClick",function(){return j.onCancelClicked()}),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&B){const ot=n.MAs(2),G=n.MAs(13),lt=n.MAs(21),it=n.MAs(39),O=n.MAs(46),I=n.MAs(52);n.Q6J("show",j.loading)("config",n.DdM(47,dt)),n.xp6(3),n.Q6J("ngClass",j.readOnly?"readonly":""),n.xp6(8),n.Q6J("labelStr","Client Name")("isRequired",!0),n.xp6(1),n.s9C("placeholder",n.lcZ(14,37," ")),n.Q6J("ngModel",j.client.name)("ngClass",n.VKq(48,nt,ot.submitted&&G.invalid)),n.xp6(3),n.Q6J("ngIf",ot.submitted&&G.invalid),n.xp6(4),n.Q6J("labelStr","PO Number"),n.xp6(1),n.s9C("placeholder",n.lcZ(22,39," ")),n.Q6J("ngModel",j.client.poNumber)("ngClass",n.VKq(50,nt,ot.submitted&&lt.invalid)),n.xp6(5),n.Q6J("labelStr","Invoice Template"),n.xp6(1),n.Q6J("ngModel",j.client.defaultInvoiceFormat),n.xp6(2),n.Q6J("ngValue",null),n.xp6(2),n.Q6J("ngValue","SIMPLIFIED"),n.xp6(2),n.Q6J("ngValue","DETAILED"),n.xp6(5),n.Q6J("labelStr","Billing Attn"),n.xp6(1),n.s9C("placeholder",n.lcZ(40,41," ")),n.Q6J("ngModel",j.client.billingAttn)("ngClass",n.VKq(52,nt,ot.submitted&&it.invalid)),n.xp6(6),n.Q6J("labelStr","Billing Office 1"),n.xp6(1),n.s9C("placeholder",n.lcZ(47,43," ")),n.Q6J("ngModel",j.client.billingOffice1)("ngClass",n.VKq(54,nt,ot.submitted&&O.invalid)),n.xp6(5),n.Q6J("labelStr","Billing Office 2"),n.xp6(1),n.s9C("placeholder",n.lcZ(53,45," ")),n.Q6J("ngModel",j.client.billingOffice2)("ngClass",n.VKq(56,nt,ot.submitted&&I.invalid)),n.xp6(6),n.Q6J("ngModel",j.client.placementSchool),n.xp6(8),n.Q6J("ngModel",j.client.prospective),n.xp6(7),n.Q6J("showSaveBtn",j.permissions.CAN_MANAGE_CLIENTS)("loader",j.loading)("type","submit")("saveBtnSizeAndStyle","btn-outline-success")("cancelBtnSizeAndStyle","btn-outline-danger")}},directives:[T.RJ,g._Y,g.JL,g.F,p.mk,y.t,g.Fj,g.Q7,g.JJ,g.On,p.O5,g.EJ,g.YN,g.Kr,g.Wl,N.t],pipes:[$.X$],styles:[""]}),X})()},5826:function(et,U,r){r.d(U,{a1:function(){return h},g0:function(){return t},NU:function(){return u}});var e=r(7570),o=r(7716),n=r(9895),i=r(1831);let h=(()=>{class T{constructor(p,y){this.router=p,this.util=y}canActivate(p,y){return!!JSON.parse(localStorage.getItem("BTS_USER_IN_SESSION"))||this.router.navigateByUrl("/bts/login",{}),!0}}return T.\u0275fac=function(p){return new(p||T)(o.LFG(n.F0),o.LFG(i.Z))},T.\u0275prov=o.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),t=(()=>{class T{constructor(p,y,N){this.router=p,this.util=y,this.route=N,this.isAllowed=!1}canActivate(p,y){const N=this.util.getAllowedPermissions();switch(p.data.menuTitle){case e.rO.Clients:return c(N.CAN_VIEW_CLIENTS_SECTION,this.router);case e.rO.Data_DNA:return c(N.CAN_VIEW_DATA_DNA_SECTION,this.router);case e.rO.Billing:return c(N.CAN_MANAGE_BILLING,this.router);case e.rO.Settings:return c(N.CAN_MANAGE_SETTINGS,this.router);case"UserDetails":return c(N.CAN_MANAGE_USERS,this.router);case e.rO.Audit:return c(this.util.isAdmin,this.router);case e.rO.Invoicing:return this.isAllowed=N.CAN_MANAGE_BILLING&&!this.util.isProvider(),c(this.isAllowed,this.router);case e.rO.Record_Mileage:return this.isAllowed=N.CAN_RECORD_MILEAGE,c(this.isAllowed,this.router);default:return!0}}}return T.\u0275fac=function(p){return new(p||T)(o.LFG(n.F0),o.LFG(i.Z),o.LFG(n.gz))},T.\u0275prov=o.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),u=(()=>{class T{constructor(p,y,N){this.router=p,this.util=y,this.route=N}canActivate(p,y){let N=this.util.getBtsUserFromSession();return y.url===`/bts/profile/${N.id}`||(this.router.navigateByUrl("/bts",{}),!1)}}return T.\u0275fac=function(p){return new(p||T)(o.LFG(n.F0),o.LFG(i.Z),o.LFG(n.gz))},T.\u0275prov=o.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function c(T,g){if(T)return!0;g.navigateByUrl("/bts/unauthorized",{})}},7703:function(et,U,r){r.d(U,{m:function(){return K}});var e=r(7247),o=r(6826),n=r(7716),i=r(2664),h=r(1831),t=r(9426),u=r(178),c=r(9344),T=r(2663),g=r(3679),p=r(1314),y=r(6640),N=r(1321),$=r(3422),z=r(3401),st=r(8682),dt=r(6975),nt=r(5870),ut=r(8946),X=r(9790),L=r(1464);const B=["addForm"];function j(E,Q){if(1&E&&(n.ynx(0),n.TgZ(1,"ng-option",39),n._uU(2),n.qZA(),n.BQk()),2&E){const m=Q.$implicit;n.xp6(1),n.Q6J("value",m),n.xp6(1),n.hij(" ",m.name,"")}}function ot(E,Q){1&E&&(n.TgZ(0,"div"),n._uU(1," payment type is required "),n.qZA())}function G(E,Q){if(1&E&&(n.TgZ(0,"div",40),n.YNc(1,ot,2,0,"div",41),n.qZA()),2&E){n.oxw();const m=n.MAs(20);n.xp6(1),n.Q6J("ngIf",null==m?null:m.errors.required)}}function lt(E,Q){1&E&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&E&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"Due Date is required")," "))}function it(E,Q){if(1&E&&(n.TgZ(0,"div",40),n.YNc(1,lt,3,3,"div",41),n.qZA()),2&E){n.oxw();const m=n.MAs(34);n.xp6(1),n.Q6J("ngIf",null==m?null:m.errors.required)}}function O(E,Q){1&E&&(n.TgZ(0,"tr"),n.TgZ(1,"td",43),n.TgZ(2,"strong"),n._uU(3,"No Invoices Found"),n.qZA(),n.qZA(),n.qZA())}function I(E,Q){1&E&&(n.TgZ(0,"div",51),n.TgZ(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.qZA()),2&E&&(n.xp6(2),n.hij(" ",n.lcZ(3,1,"Greater than remaining")," "))}function _(E,Q){if(1&E){const m=n.EpF();n.TgZ(0,"tr"),n.ynx(1),n.TgZ(2,"td"),n._uU(3),n.qZA(),n.TgZ(4,"td"),n._uU(5),n.ALo(6,"currency"),n.qZA(),n.TgZ(7,"td"),n._uU(8),n.ALo(9,"currency"),n.qZA(),n.TgZ(10,"td"),n._uU(11),n.ALo(12,"currency"),n.qZA(),n.TgZ(13,"td"),n.TgZ(14,"div",44),n.TgZ(15,"input",45,46),n.NdJ("change",function(S){const J=n.CHM(m).$implicit;return n.oxw(3).togglePaid(S,J)})("ngModelChange",function(S){return n.CHM(m).$implicit.mark_as_Paid=S}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(17,"td",47),n.TgZ(18,"input",48,49),n.NdJ("change",function(){const M=n.CHM(m).$implicit;return n.oxw(3).updateNetBalance(M)})("ngModelChange",function(S){return n.CHM(m).$implicit.amount=S}),n.qZA(),n.YNc(20,I,4,3,"div",50),n.qZA(),n.BQk(),n.qZA()}if(2&E){const m=Q.$implicit,P=Q.index,S=n.MAs(19);n.xp6(3),n.Oqu(m.invoice.title),n.xp6(2),n.hij(" ",n.gM2(6,10,m.invoice.charges,"USD","symbol","1.0-5")," "),n.xp6(3),n.Oqu(n.gM2(9,15,m.remaining_charges,"USD","symbol","1.0-5")),n.xp6(3),n.Oqu(n.xi3(12,20,null==m?null:m.invoice.paidAmount,"USD")),n.xp6(4),n.MGl("name","isPaid",P,""),n.Q6J("ngModel",m.mark_as_Paid),n.xp6(3),n.MGl("name","inputCharges",P,""),n.Q6J("max",m.invoice.remainingAmount)("ngModel",m.amount),n.xp6(2),n.Q6J("ngIf",S.invalid)}}function Z(E,Q){if(1&E&&(n.TgZ(0,"tr"),n.TgZ(1,"td",52),n.TgZ(2,"span",53),n._uU(3,"Total :"),n.qZA(),n._uU(4),n.ALo(5,"nullToDash"),n.ALo(6,"currency"),n.qZA(),n.qZA()),2&E){const m=n.oxw(3);n.xp6(1),n.Q6J("colSpan",6),n.xp6(3),n.hij(" ",n.lcZ(5,2,n.xi3(6,4,null==m.payment?null:m.payment.amount,"USD"))," ")}}function W(E,Q){if(1&E&&(n.TgZ(0,"tbody"),n.YNc(1,O,4,0,"tr",41),n.YNc(2,_,21,23,"tr",13),n.YNc(3,Z,7,7,"tr",41),n.qZA()),2&E){const m=n.oxw(2);n.xp6(1),n.Q6J("ngIf",0==(null==m.invoices?null:m.invoices.length)),n.xp6(1),n.Q6J("ngForOf",m.invoices),n.xp6(1),n.Q6J("ngIf",(null==m.invoices?null:m.invoices.length)>0)}}function k(E,Q){if(1&E&&(n.TgZ(0,"table",42),n.TgZ(1,"thead"),n.TgZ(2,"tr"),n.TgZ(3,"th"),n._uU(4,"Invoice Name"),n.qZA(),n.TgZ(5,"th"),n._uU(6,"Total Charges"),n.qZA(),n.TgZ(7,"th"),n._uU(8,"Remaining Charges ($)"),n.qZA(),n.TgZ(9,"th"),n._uU(10,"Paid ($)"),n.qZA(),n.TgZ(11,"th"),n._uU(12,"Mark as Paid"),n.qZA(),n.TgZ(13,"th"),n._uU(14,"Amount ($)"),n.qZA(),n.qZA(),n.qZA(),n.YNc(15,W,4,3,"tbody",41),n.qZA()),2&E){const m=n.oxw();n.xp6(15),n.Q6J("ngIf",!m.isInvoicesLoading)}}function ct(E,Q){1&E&&(n.TgZ(0,"tr"),n.TgZ(1,"td",43),n.TgZ(2,"strong"),n._uU(3,"No Invoices Found"),n.qZA(),n.qZA(),n.qZA())}function mt(E,Q){if(1&E){const m=n.EpF();n.TgZ(0,"tr"),n.ynx(1),n.TgZ(2,"td"),n._uU(3),n.qZA(),n.TgZ(4,"td"),n._uU(5),n.qZA(),n.TgZ(6,"td"),n._uU(7),n.ALo(8,"nullToDash"),n.ALo(9,"currency"),n.qZA(),n.TgZ(10,"td"),n.TgZ(11,"div",44),n.TgZ(12,"input",54,46),n.NdJ("ngModelChange",function(S){return n.CHM(m).$implicit.isPaid=S}),n.qZA(),n.qZA(),n.qZA(),n.BQk(),n.qZA()}if(2&E){const m=Q.$implicit,P=Q.index;n.xp6(3),n.Oqu(null==m?null:m.title),n.xp6(2),n.Oqu(null==m?null:m.rangeDateTime),n.xp6(2),n.hij(" ",n.lcZ(8,5,n.xi3(9,7,null==m?null:m.charges,"USD"))," "),n.xp6(5),n.MGl("name","isPaid",P,""),n.Q6J("ngModel",m.isPaid)}}function At(E,Q){if(1&E&&(n.TgZ(0,"table",42),n.TgZ(1,"thead"),n.TgZ(2,"tr"),n.TgZ(3,"th"),n._uU(4,"Invoice Name"),n.qZA(),n.TgZ(5,"th"),n._uU(6,"Date"),n.qZA(),n.TgZ(7,"th"),n._uU(8,"Amount ($)"),n.qZA(),n.TgZ(9,"th"),n._uU(10,"is Paid"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(11,"tbody"),n.YNc(12,ct,4,0,"tr",41),n.YNc(13,mt,14,10,"tr",13),n.qZA(),n.qZA()),2&E){const m=n.oxw();n.xp6(12),n.Q6J("ngIf",0==(null==m.payment.invoices?null:m.payment.invoices.length)),n.xp6(1),n.Q6J("ngForOf",m.payment.invoices)}}function ht(E,Q){1&E&&n._UZ(0,"table-loading",55),2&E&&n.Q6J("rows",8)("classList","ph-col-10")}function Zt(E,Q){if(1&E){const m=n.EpF();n.TgZ(0,"button",56),n.NdJ("click",function(){return n.CHM(m),n.oxw().onsubmit(!1)}),n._uU(1," Save & Add New "),n.qZA()}}function Y(E,Q){1&E&&(n.TgZ(0,"button",57),n.tHW(1,58),n._UZ(2,"i",59),n.ALo(3,"translate"),n.N_p(),n.qZA()),2&E&&(n.xp6(3),n.pQV(n.lcZ(3,1,"saving")),n.QtT(1))}const rt=function(){return{backdropBorderRadius:"3px"}},D=function(E){return{"is-invalid":E}},w=function(){return{showWeekNumbers:!1}};let K=(()=>{class E{constructor(m,P,S,M,J){this.modalService=m,this.util=P,this.eventService=S,this._billing_service=M,this._toastr_service=J,this.inputObj=null,this.search=new o.wy,this.loading=!1,this.isInvoicesLoading=!1,this.payment=new e.un,this.invoices=[],this.isEdit=!1,this.todayDate=new Date,this.saveAddNewLoader=!1,this.saveLoader=!1,this.clients=this.util.getBtsClientFromSession()}ngOnInit(){this.search.paid=!1,this.inputObj&&(this.isEdit=!0,this.payment=this.inputObj)}onsubmit(m=!0){var P;"INVALID"==this.addForm.status||!this.payment.client||(null==(null===(P=this.inputObj)||void 0===P?void 0:P.id)&&(this.payment.invoices=this.invoices.map(S=>{const M=JSON.parse(JSON.stringify(S.invoice));return M.charges=S.amount,M})),this.setLoading(m),this._billing_service.addPayment(this.payment).then(S=>{const M=this.inputObj?"Payment Updated":"Payment Added";this.resetLoading(),m?this.modalService.dismissAll():this.payment=new e.un,this.invoices=[],this._toastr_service.success(M,"Success"),this.eventService.onPaymentEventSaved.emit(S)}).catch(S=>{this._toastr_service.success(S,"Error"),this.resetLoading(),this.modalService.dismissAll(),this.invoices=[]}))}togglePaid(m,P){m.target.checked?P.markPaid():P.markUnPaid(),this.setSum()}updateNetBalance(m){m.updateRemBal(),this.setSum()}setSum(){this.payment.amount=this.invoices.reduce((m,P)=>m+P.amount,0)}setLoading(m){this.loading=!0,m?this.saveLoader=!0:this.saveAddNewLoader=!0}resetLoading(){this.loading=!1,this.saveAddNewLoader=!1,this.saveLoader=!1}compareWith(m,P){return m.id==P.id}onClientChanged(m){var P;null==m||null==m||(this.payment.client=m,this.search.clientId=null===(P=this.payment.client)||void 0===P?void 0:P.id,this.isInvoicesLoading=!0,this._billing_service.getAllInvoices(500,0,this.search).then(S=>{const M=this._billing_service.getData(S).resultList;this.invoices=M.map(J=>new e.iG(J)),this.isInvoicesLoading=!1}).catch(S=>{this.isInvoicesLoading=!1}))}onCancelClicked(){this.modalService.dismissAll()}}return E.\u0275fac=function(m){return new(m||E)(n.Y36(i.FF),n.Y36(h.Z),n.Y36(t.P),n.Y36(u.j),n.Y36(c._W))},E.\u0275cmp=n.Xpm({type:E,selectors:[["app-add-edit-payment"]],viewQuery:function(m,P){if(1&m&&n.Gf(B,5),2&m){let S;n.iGM(S=n.CRH())&&(P.addForm=S.first)}},inputs:{inputObj:"inputObj"},decls:58,vars:59,consts:function(){let Q;return Q=$localize`:␟c6f6389642a1b38cbe3ffbeec5ca0001ec2d2ded␟7898809644079602854:${"\ufffd#2\ufffd"}:START_ITALIC_TEXT:${"\ufffd/#2\ufffd"}:CLOSE_ITALIC_TEXT: ${"\ufffd0\ufffd"}:INTERPOLATION: `,[[3,"show","config"],["name","form",3,"ngSubmit","keydown.enter"],["addForm","ngForm"],[1,"modal-body"],[1,"col-lg-12"],[1,"form-body"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-6"],[1,"form-group"],[3,"labelStr","isRequired"],["name","client","bindLabel","name",3,"disabled","dropdownPosition","placeholder","multiple","clearable","ngModel","compareWith","ngModelChange","change"],[4,"ngFor","ngForOf"],["title","payment type",1,"form-text","text-muted",2,"display","initial","margin-left","4px"],[1,"mdi","mdi-information-outline"],["name","type","required","",1,"browser-default","custom-select","cursor-pointer",3,"ngClass","ngModel","ngModelChange"],["type","ngModel"],["selected","",3,"ngValue"],[3,"ngValue"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-4"],[1,"input-group-append"],["autocomplete","off","type","text","bsDatepicker","","name","dateTimeDate","required","",1,"form-control",3,"ngModel","bsConfig","ngClass","placeholder","value","ngModelChange"],["dateReceived","ngModel"],[1,"input-group-text","icon-calender"],[3,"labelStr"],["type","text","name","ssn",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["paymentId","ngModel"],[1,"form-group","d-flex","flex-column"],["checkedTextColor","white","uncheckedTextColor","black","defaultBoColor","#2962FF","color","#2962FF","size","small","uncheckedLabel","Payment","name","isCredit","checkedLabel","Adjustment",3,"ngModel","title","ngModelChange"],[1,"table","table-responsive","smart-table"],["class","table table-striped table-hover v-middle wh-table-people","sortable-table","",4,"ngIf"],[3,"rows","classList",4,"ngIf"],[1,"modal-footer"],["type","button","class","btn btn-outline-success",3,"click",4,"ngIf"],["disabled","","class","btn btn-rounded btn-outline-success",4,"ngIf"],[1,"row","form-controls-right"],[3,"loader","type","showSaveBtn","saveBtnSizeAndStyle","cancelBtnSizeAndStyle","onCancelClick"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],["sortable-table","",1,"table","table-striped","table-hover","v-middle","wh-table-people"],["colspan","24",1,"text-center","pt-3"],[1,"custom-control","custom-checkbox"],["type","checkbox",3,"name","ngModel","change","ngModelChange"],["isPaid","ngModel"],[2,"width","20%"],["disable-scrolling","","type","number",1,"form-control",3,"max","name","ngModel","change","ngModelChange"],["inputCharges","ngModel"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"ml-auto",2,"text-align","end",3,"colSpan"],[1,"fw-bold"],["disabled","true","type","checkbox",3,"name","ngModel","ngModelChange"],[3,"rows","classList"],["type","button",1,"btn","btn-outline-success",3,"click"],["disabled","",1,"btn","btn-rounded","btn-outline-success"],Q,[1,"fas","fa-spinner","fa-spin"]]},template:function(m,P){if(1&m){const S=n.EpF();n._UZ(0,"ngx-loading",0),n.TgZ(1,"form",1,2),n.NdJ("ngSubmit",function(){return n.CHM(S),n.MAs(2).form.valid&&P.onsubmit()})("keydown.enter",function(J){return J.preventDefault()}),n.TgZ(3,"div",3),n.TgZ(4,"div",4),n.TgZ(5,"div",5),n.TgZ(6,"div",6),n.TgZ(7,"div",7),n.TgZ(8,"div",8),n.TgZ(9,"div",9),n.TgZ(10,"div",10),n._UZ(11,"field-label",11),n.TgZ(12,"ng-select",12),n.NdJ("ngModelChange",function(J){return P.payment.client=J})("change",function(J){return P.onClientChanged(J)}),n.YNc(13,j,3,2,"ng-container",13),n.qZA(),n.qZA(),n.qZA(),n.TgZ(14,"div",9),n.TgZ(15,"div",10),n._UZ(16,"field-label",11),n.TgZ(17,"label",14),n._UZ(18,"i",15),n.qZA(),n.TgZ(19,"select",16,17),n.NdJ("ngModelChange",function(J){return P.payment.type=J}),n.TgZ(21,"option",18),n._uU(22,"Check"),n.qZA(),n.TgZ(23,"option",19),n._uU(24,"Wire"),n.qZA(),n.TgZ(25,"option",19),n._uU(26,"Other"),n.qZA(),n.qZA(),n.YNc(27,G,2,1,"div",20),n.qZA(),n.qZA(),n.qZA(),n.TgZ(28,"div",8),n.TgZ(29,"div",21),n.TgZ(30,"div",10),n._UZ(31,"field-label",11),n.TgZ(32,"div",22),n.TgZ(33,"input",23,24),n.NdJ("ngModelChange",function(J){return P.payment.dateReceived=J}),n.ALo(35,"translate"),n.ALo(36,"date"),n.qZA(),n._UZ(37,"span",25),n.qZA(),n.YNc(38,it,2,1,"div",20),n.qZA(),n.qZA(),n.TgZ(39,"div",21),n.TgZ(40,"div",10),n._UZ(41,"field-label",26),n.TgZ(42,"input",27,28),n.NdJ("ngModelChange",function(J){return P.payment.paymentId=J}),n.ALo(44,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(45,"div",21),n.TgZ(46,"div",29),n._UZ(47,"field-label",26),n.TgZ(48,"ui-switch",30),n.NdJ("ngModelChange",function(J){return P.payment.isCredit=J}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(49,"div",31),n.YNc(50,k,16,1,"table",32),n.YNc(51,At,14,2,"table",32),n.YNc(52,ht,1,2,"table-loading",33),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(53,"div",34),n.YNc(54,Zt,2,0,"button",35),n.YNc(55,Y,4,3,"button",36),n.TgZ(56,"div",37),n.TgZ(57,"app-save-button",38),n.NdJ("onCancelClick",function(){return P.onCancelClicked()}),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&m){const S=n.MAs(2),M=n.MAs(20),J=n.MAs(34),H=n.MAs(43);n.Q6J("show",P.loading)("config",n.DdM(51,rt)),n.xp6(11),n.Q6J("labelStr","Client")("isRequired",!0),n.xp6(1),n.Q6J("disabled",!(null==P.inputObj||!P.inputObj.id))("dropdownPosition","bottom")("placeholder","Search Client")("multiple",!1)("clearable",!0)("ngModel",P.payment.client)("compareWith",P.compareWith),n.xp6(1),n.Q6J("ngForOf",P.clients),n.xp6(3),n.Q6J("labelStr","Payment Type")("isRequired",!0),n.xp6(3),n.Q6J("ngClass",n.VKq(52,D,S.submitted&&M.invalid))("ngModel",P.payment.type),n.xp6(2),n.Q6J("ngValue","Check"),n.xp6(2),n.Q6J("ngValue","Wire"),n.xp6(2),n.Q6J("ngValue","Other"),n.xp6(2),n.Q6J("ngIf",S.submitted&&M.invalid),n.xp6(4),n.Q6J("labelStr","Date Applied")("isRequired",!0),n.xp6(2),n.s9C("placeholder",n.lcZ(35,44,"Due Date")),n.MGl("value"," ",n.xi3(36,46,J.value,"MM/dd/yyyy"),""),n.Q6J("ngModel",P.payment.dateReceived)("bsConfig",n.DdM(54,w))("ngClass",n.VKq(55,D,S.submitted&&J.invalid)),n.xp6(5),n.Q6J("ngIf",S.submitted&&J.invalid),n.xp6(3),n.Q6J("labelStr","Checking Number/Tracking ID"),n.xp6(1),n.s9C("placeholder",n.lcZ(44,49," ")),n.Q6J("ngModel",P.payment.paymentId)("ngClass",n.VKq(57,D,S.submitted&&H.invalid)),n.xp6(6),n.Q6J("ngModel",P.payment.isCredit)("title","is adjustment"),n.xp6(2),n.Q6J("ngIf",!P.isEdit),n.xp6(1),n.Q6J("ngIf",P.isEdit),n.xp6(1),n.Q6J("ngIf",P.isInvoicesLoading),n.xp6(2),n.Q6J("ngIf",!P.saveAddNewLoader&&!P.saveLoader),n.xp6(1),n.Q6J("ngIf",P.saveAddNewLoader),n.xp6(2),n.Q6J("loader",P.saveLoader)("type","submit")("showSaveBtn",!P.saveAddNewLoader)("saveBtnSizeAndStyle","btn-outline-success")("cancelBtnSizeAndStyle","btn-outline-danger")}},directives:[T.RJ,g._Y,g.JL,g.F,p.t,y.w9,g.JJ,g.On,N.sg,g.EJ,g.Q7,N.mk,g.YN,g.Kr,N.O5,$.Y5,g.Fj,$.Np,z.ob,st.t,y.xv,dt.Q,g.Wl,g.Fd,g.wV,nt.p,ut.I],pipes:[X.X$,N.uU,N.H9,L.W],styles:[""]}),E})()},4569:function(et,U,r){r.d(U,{L:function(){return o}});class o{adjustDate(i){null!=i&&(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0))}}},5165:function(et,U,r){r.d(U,{d:function(){return o}});var e=r(4569);class o extends e.L{constructor(){super(...arguments),this.wbs=null,this.title=null,this.clientId=null,this.clientName=null,this.studentId=null,this.billedBy=null,this.approvedBy=null,this.submittedBy=null,this.locationId=null,this.providerIds=[],this.startDateTime=null,this.endDateTime=null,this.submittedDateFrom=null,this.submittedDateTo=null,this.approvedDateFrom=null,this.approvedDateTo=null,this.billDateFrom=null,this.billDateTo=null,this.joint=null,this.placement=null,this.status=null,this.paid=null,this.paymentType=null,this.startDate=null,this.endDate=null,this.employeeOnly=null,this.deleted=!1,this.contractSearch=null,this.excludeZeroCharge=!1,this.hourly=null,this.includeNotes=!1,this.termDetailId=null,this.clientIds=[],this.locationIds=[],this.serviceTypeIds=[],this.serviceType=null,this.excludeBilled=!1}fixDates(){this.adjustDate(this.startDateTime),this.adjustDate(this.endDateTime),this.adjustDate(this.submittedDateFrom),this.adjustDate(this.submittedDateTo),this.adjustDate(this.approvedDateFrom),this.adjustDate(this.approvedDateTo),this.adjustDate(this.billDateFrom),this.adjustDate(this.billDateTo)}}},389:function(et,U,r){r.d(U,{$N:function(){return o},EJ:function(){return u}});var e=r(83);class o extends e.j{constructor(){super(...arguments),this.active=!1,this.activityNote=null,this.approved=!1,this.approvedBy=null,this.approvedDate=null,this.billable=null,this.billedBy=null,this.billedDate=null,this.checked=!1,this.client=null,this.duration=30,this.editSeries=null,this.endAfter=null,this.endAfterDate=null,this.endDateTime=null,this.estimatedPrice=null,this.googleCallId=null,this.googleCallLink=null,this.isJoint=!1,this.isPlacement=!1,this.location=null,this.occurenceType="DAILY",this.provider=null,this.recurring=!1,this.seriesDetails=[],this.seriesId=null,this.startDateTime=null,this.status=null,this.studentNotes=null,this.students=[],this.submitted=!1,this.submittedBy=null,this.submittedDate=null,this.title=null,this.totalHoursBillable=null,this.wbs=null,this.weeklySeries=[],this._viewMoreStudents=!1,this.poNumber=null,this.totalSessions=0}}class u{constructor(){this.totalDuration=null,this.auditCount=0,this.postedCount=0,this.unpostedCount=0,this.postedDuration=0,this.unpostedDuration=0,this.unpostedPayableDuration=0,this.totalPayableDuration=0}}},4171:function(et,U,r){r.d(U,{dv:function(){return N},Vl:function(){return st},QA:function(){return X},YO:function(){return $},T$:function(){return z}});var o={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let n;const i=new Uint8Array(16);function h(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}const t=[];for(let L=0;L<256;++L)t.push((L+256).toString(16).slice(1));var p=function(L,B,j){if(o.randomUUID&&!B&&!L)return o.randomUUID();const ot=(L=L||{}).random||(L.rng||h)();if(ot[6]=15&ot[6]|64,ot[8]=63&ot[8]|128,B){j=j||0;for(let G=0;G<16;++G)B[j+G]=ot[G];return B}return function(L,B=0){return t[L[B+0]]+t[L[B+1]]+t[L[B+2]]+t[L[B+3]]+"-"+t[L[B+4]]+t[L[B+5]]+"-"+t[L[B+6]]+t[L[B+7]]+"-"+t[L[B+8]]+t[L[B+9]]+"-"+t[L[B+10]]+t[L[B+11]]+t[L[B+12]]+t[L[B+13]]+t[L[B+14]]+t[L[B+15]]}(ot)};class N{constructor(B){this.id=null,this.poNumber=null,this.rangeDateTime=null,this.amount=null,this.chargeIds=null,this.requireDetailedInvoice=!1,this.checked=!1,this.gFileId=null,this.excludePo=!1,this.id=p(),B&&(this.client=B.client,this.rangeDateTime=B.rangeDateTime,this.poNumber=B.poNumber,this.amount=B.amount,this.chargeIds=B.chargeIds,this.requireDetailedInvoice=B.requireDetailedInvoice)}}class ${constructor(){this.clientId=null,this.locationId=null,this.charges=[]}}class z{constructor(){this.description=null,this.amount=null}}class st{constructor(){this.datetime=null,this.type=null,this.transactionId=null,this.amountPayment=null,this.amountAdjustment=null,this.amountInvoice=null,this.status=null,this.balance=0}}class X{constructor(){this.actual=[],this.detail=[],this.target=[]}}},907:function(et,U,r){r.d(U,{m7:function(){return e},u1:function(){return o},j5:function(){return n},Bt:function(){return i},bQ:function(){return h}});class e{constructor(){this.active=!0,this.billingAttn=null,this.billingOffice1=null,this.billingOffice2=null,this.createdBy=null,this.createdDate=null,this.customId=null,this.deleted=!1,this.id=null,this.placementSchool=!1,this.prospective=!1,this.name=null,this.poNumber=null,this.defaultInvoiceFormat=null,this.quarters=[],this.locations=[],this.updatedBy=null,this.updatedDate=null,this.createdByUserName=null,this.updatedByUserName=null}}class o{constructor(c=null){this.endDate=null,this.quarterNo=null,this.startDate=null,this.quarterNo=c}}class n{constructor(){this.active=!0,this.address=null,this.createdBy=null,this.createdDate=null,this.deleted=!1,this.fax=null,this.googleMapId=null,this.id=null,this.imageUrl=null,this.phone=null,this.title=null,this.updatedBy=null,this.updatedDate=null,this.website=null,this.pocs=[],this.createdByUserName=null,this.updatedByUserName=null}}class i{constructor(){this.client=null,this.clientLocation=null,this.createdBy=null,this.createdDate=null,this.deleted=!0,this.id=null,this.serviceType=null,this.targetAmount=null,this.targetHour=null,this.updatedBy=null,this.updatedDate=null}}class h{constructor(){this.active=!0,this.createdBy=null,this.createdDate=null,this.deleted=!1,this.fax=null,this.firstName=null,this.id=null,this.img_url=null,this.lastName=null,this.mobile=null,this.phone=null,this.primaryEmail=null,this.secondary_email=null,this.starred=!0,this.title=null,this.updatedBy=null,this.updatedDate=null,this.clientLocation=new n,this.createdByUserName=null,this.updatedByUserName=null}}},4520:function(et,U,r){r.d(U,{E:function(){return o},J:function(){return n}});var e=r(83);class o extends e.j{constructor(){super(...arguments),this.deleted=!1,this.createdByUserName=null,this.evalDurationAvg=null,this.averageNumberOfHoursNeededPerServiceDay=null,this.avgDailyPlanningHours=null,this.contractSetupHours=null,this.documentationHoursPerDay=null,this.fileReviewHoursPerStudent=null,this.iepDurationAvg=null,this.percentOfWeeklySupervisionThatRequiresInvolvementOfAssi=null,this.rateAssistant=null,this.rateProfessional=null,this.rspReportHoursAvg=null,this.screenDurationAvg=null,this.serviceArea=null,this.supervisionFactor=null,this.tasks=[],this.updatedByUserName=null}}class n{constructor(){this.frequency=null,this.staff_type="Professional",this.task_hours=null,this.task_name=null}}},7247:function(et,U,r){r.d(U,{$d:function(){return e},iG:function(){return o},un:function(){return n}});class e{constructor(){this.active=null,this.charges=null,this.client=null,this.createdBy=null,this.createdByUserName=null,this.createdDate=null,this.deleted=null,this.gfileId=null,this.id=null,this.isPaid=null,this.status=null,this.paidAmount=null,this.rangeDateTime=null,this.remainingAmount=null,this.title=null,this.updatedBy=3,this.updatedByUserName=null,this.updatedDate=null,this.checked=!1,this.billingCode=null,this.poNumber=null}}class o{constructor(h){this.remaining_charges=null,this.mark_as_Paid=!1,this.amount=null,this.invoice=new e,this.invoice=h,this.remaining_charges=h.remainingAmount}getRemainingBalance(){return Number((this.invoice.charges-this.invoice.paidAmount).toFixed(5))}markPaid(){this.amount=this.getRemainingBalance(),this.remaining_charges=0,this.mark_as_Paid=!0}markUnPaid(){this.remaining_charges=this.getRemainingBalance(),this.amount=0,this.mark_as_Paid=!1}updateRemBal(){const h=this.getRemainingBalance();this.remaining_charges=h-this.amount}}class n{constructor(){this.amount=0,this.client=null,this.createdBy=null,this.createdByUserName=null,this.createdDate=null,this.dateReceived=new Date,this.deleted=null,this.id=null,this.invoices=null,this.isCredit=null,this.note=null,this.paymentId=null,this.type="Check",this.updatedBy=null,this.updatedByUserName=null,this.updatedDate=null,this._viewMore=!1}}},1431:function(et,U,r){r.d(U,{O:function(){return e},s:function(){return o}});class e{constructor(){this.colorCode="",this.createdBy=null,this.createdDate=null,this.defaultRate=null,this.defaultUnit=null,this.deleted=!1,this.description=null,this.id=null,this.serviceArea=null,this.title=null,this.updatedBy=null,this.updatedDate=null,this.scheduled=!1,this.checked=!1,this.createdByUserName=null,this.updatedByUserName=null,this.billingCode=null}}class o{constructor(){this.colorCode="",this.createdBy=null,this.createdDate=null,this.deleted=!1,this.id=null,this.title=null,this.updatedBy=null,this.updatedDate=null,this.createdByUserName=null,this.updatedByUserName=null}}},8852:function(et,U,r){r.d(U,{Db:function(){return e},To:function(){return o},DV:function(){return n}});class e{constructor(){this.active=!0,this.attachedToCaseload=!1,this.createdDate=null,this.client=null,this.dateOfBirth=null,this.firstName=null,this.profilePictureUrl=null,this.fullName=null,this.gender=null,this.id=null,this.lastName=null,this.location=null,this.medicadId=null,this.middleName=null,this.ssn=null,this.createdBy=null,this.updatedBy=null,this.updatedDate=null,this.deleted=!1,this.treatments=[],this.providers=[],this.folderId=null,this.folderUrl=null,this.serviceTypes=[],this.users=[],this.createdByUserName=null,this.updatedByUserName=null,this.checked=!1}}class o{constructor(t="0"){this.deleted=!1,this.id=null,this.servicePo=null,this.localId=null,this.serviceType=null,this.localId=t}}class n{constructor(){this.deleted=!1,this.id=null,this.student=null,this.user=null}}},4231:function(et,U,r){r.d(U,{b0:function(){return o},Kw:function(){return t}});var e=r(3677);class o{constructor(){this.active=!0,this.email=null,this.fullName=null,this.title=null,this.id=null,this.role=null,this.username=null,this.password=null,this.createdBy=null,this.createdDate=null,this.dateOfBirth=null,this.defaultRate=null,this.employeeId=null,this.fax=null,this.firstName=null,this.lastName=null,this.middleName=null,this.folder_url=null,this.calendarId=null,this.notes=null,this.mobileNo=null,this.oauthId=null,this.phone=null,this.profilePic=null,this.updatedBy=null,this.updatedDate=null,this.deleted=!1,this.salaryAmount=null,this.salaryAmountPerPeriod=null,this.secondaryRate=null,this.serviceTypeSecondaryRate=null,this.syncCalender=!1,this.targetHours=null,this.targetWeeklyHours=null,this.prefDuration=null,this.overTimeRate=null,this.isSalaried=!1,this.billTarget=null,this.searchTags=null,this.permissions=[],this.serviceTypes=[],this.themePreference=new e.a,this.staff=[],this.lastLoginDate=null,this.createdByUserName=null,this.updatedByUserName=null}}class t{constructor(){this.id=null,this.reportTo=null}}},83:function(et,U,r){r.d(U,{j:function(){return e}});class e{constructor(){this.id=null,this.deleted=!1,this.updatedBy=null,this.updatedDate=null,this.createdDate=null,this.createdBy=null,this.createdByUserName=null,this.updatedByUserName=null}}},6826:function(et,U,r){r.d(U,{ol:function(){return o},sF:function(){return n},Yj:function(){return i},wy:function(){return h},gO:function(){return u}});var e=r(4569);class o{constructor(){this.LogType=null,this.userId=null,this.startDate=null,this.endDate=null,this.clientId=null,this.deleted=null,this.locationId=null,this.serviceId=null,this.serviceTypeId=null,this.dueStartDate=null,this.dueEndDate=null,this.account=null,this.taskType=null,this.activityType=null,this.success=!1,this.type=null,this.createdByUserId=null,this.isSimpleResponse=!1,this.userIds=[],this.calendarIds=[],this.paymentMethod=null,this.contactName=null,this.userName=null}}class n extends e.L{constructor(){super(...arguments),this.clientId=null,this.deleted=null,this.endDate=null,this.keyword=null,this.locationId=null,this.serviceId=null,this.startDate=null,this.userId=null,this.forPlacement=!1}fixDates(){this.adjustDate(this.startDate),this.adjustDate(this.endDate)}}class i extends e.L{constructor(){super(...arguments),this.startDate=null,this.providerIds=[],this.endDate=null}fixDates(){this.adjustDate(this.startDate),this.adjustDate(this.endDate)}}class h extends e.L{constructor(){super(...arguments),this.clientId=null,this.endDate=null,this.keyword=null,this.locationId=null,this.paid=null,this.serviceId=null,this.startDate=null,this.userId=null,this.status=null,this.excludeVoid=!1}fixDates(){this.adjustDate(this.startDate),this.adjustDate(this.endDate)}}class u{constructor(){this.sortColumn=null,this.sortDirection=null}}},7061:function(et,U,r){r.d(U,{M:function(){return h}});var e=r(529),o=r(7716),n=r(8393),i=r(1831);let h=(()=>{class t extends e.d{constructor(c,T){super("/bts/api/v1/session",c),this.provider=c,this.util=T}getAllActivities(c=10,T=0){return this.getList(`?pageSize=${c}&pageNo=${T}`)}searchActivity(c,T=10,g=0,p=null,y=null){null==p&&(p="startDateTime"),null==y&&(y="DESC");let N=this.util.getRoleBaseSearchParam(c);N&&c.providerIds.push(N);let $=this.util.getQueryMethod({pageSize:T,pageNo:g,sortColumn:p,sortDirection:y});return this.save(c,`/search${$}`)}searchActivitySimple(c,T=10,g=0,p=null,y=null,N=!1,$=!1){null==p&&(p="startDateTime"),null==y&&(y="ASC");let z=this.util.getRoleBaseSearchParam(c);z&&c.providerIds.push(z);let st=this.util.getQueryMethod({pageSize:T,pageNo:g,sortColumn:p,sortDirection:y,students:N,notes:$});return this.save(c,`/search/simple${st}`)}searchBillable(c,T=10,g=0,p="startDateTime",y="ASC",N=""){const z=this.util.getQueryMethod({pageSize:T,pageNo:g,sortColumn:null,sortDirection:null,sort:N||null});return this.save(c,`/billable${z}`)}searchAuditable(c,T=10,g=0,p=null,y=null){null==p&&(p="startDateTime"),null==y&&(y="ASC");let N=this.util.getQueryMethod({pageSize:T,pageNo:g,sortColumn:p,sortDirection:y});return this.save(c,`/audit${N}`)}saveActivity(c){return this.postActivityLog(c),null!=c.id?this.updateActivity(c):this.save(c)}updateActivity(c){return this.update(c)}updateActivityByStatus(c,T){return this.update(c,`/status?status=${T}`)}shiftActivityHours(c){return this.update(c.ids,`/update?shiftHours=${c.shiftHours}`)}deleteActivity(c){return this.delete(c)}fetchActivityById(c){return this.getById(c)}getActivityCount(c,T=null,g=null){let p=this.util.getQueryMethod({startDate:T,endDate:g});return this.getRecord(`/count/user/${c}${p}`)}getActivityCountPost(c,T){return this.save(T,`/count/user/${c}`)}getPayrollReport(c){return this.save(c,"/payroll")}runReport(c,T=10,g=0,p=null,y=null,N=null,$=!1){let z=JSON.parse(JSON.stringify(c)),st=this.util.getRoleBaseSearchParam(c);st&&z.providerIds.push(st);let dt=this.util.getQueryMethod({pageSize:T,pageNo:g,sortColumn:p,sortDirection:y});return $?this.downloadPost(`/report/${N}/xlsx${dt}`,z):this.save(z,`/report/${N}${dt}`)}getReport(c,T=10,g=0,p=null,y=null,N=null){return null==p&&(p="startDateTime"),null==y&&(y="ASC"),this.runReport(c,T,g,p,y,N,!1)}exportReport(c,T=null,g=null,p=null){return null==T&&(T="startDateTime"),null==g&&(g="ASC"),this.runReport(c,5e3,0,T,g,p,!0)}validateSessionBilling(c){return this.update(c,"validate/bill")}}return t.\u0275fac=function(c){return new(c||t)(o.LFG(n.U),o.LFG(i.Z))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},178:function(et,U,r){r.d(U,{j:function(){return u}});var e=r(5165),o=r(529),n=r(6826),i=r(7716),h=r(8393),t=r(1831);let u=(()=>{class c extends o.d{constructor(g,p){super("/bts/api/v1/billing",g),this.provider=g,this.util=p}searchCharges(g,p=10,y=0,N=null,$=null,z=null){const st=this.util.getQueryMethod({pageSize:p,pageNo:y,sortColumn:N,sortDirection:$,report:z});return this.save(g,`/search/charges${st}`)}summaryReport(g,p=10,y=0,N=!1){const $="/report/charges/summary";return N?this.downloadPost(`${$}/xlsx`,g):this.save(g,`${$}?pageSize=${p}&pageNo=${y}`)}searchChargesForInvoice(g){return this.save(g,"/search/charges/invoice")}deleteCharge(g){return this.deleteRecord(`/charge/${g}`)}chargeIncludeInInvoice(g,p){return this.save(null,`/charge/${g}/${p}`)}createInvoiceForCharges(g){return this.save(g,"/invoice")}reprintInvoiceForCharges(g){return this.save(null,`/invoice/${g}/reprint`)}createBulkInvoiceForCharges(g){return this.save(g,"/invoice/bulk")}getAllInvoices(g=10,p=0,y=new n.wy,N=null,$=null){let z=this.util.getQueryMethod({sortColumn:N,sortDirection:$,pageSize:g,pageNo:p});return this.save(y,`/search/invoices${z}`)}downloadInvoiceAging(g){return this.downloadPost("/invoice/aging/export",g)}updateInvoice(g){return this.update(g,"/invoice")}deleteInvoice(g){return this.deleteRecord(`invoice/${g}`)}deleteBulkInvoices(g){return this.deleteWithData(g,"invoice")}getAllpayments(g=10,p=0,y=new e.d,N=null,$=null){let z=this.util.getQueryMethod({pageSize:g,pageNo:p,sortColumn:N,sortDirection:$});return this.save(y,`/search/payments${z}`)}addPayment(g){return null!==(null==g?void 0:g.id)?this.update(g,"payment"):this.save(g,"/payment")}deletePayment(g){return this.deleteRecord(`payment/${g}`)}createQuickBill(g){return this.save(g,"/qb")}controlReport(g){return this.downloadPost("/search/charges/export/xlsx?report=CONTROL_CLIENT_W_POSTED_ACTIVITIES",g)}specialAidReport(g,p=null,y=null){const $=this.util.getQueryMethod({report:"SPECIAL_ED_AID_REPORT",sortColumn:p,sortDirection:y});return this.downloadPost("/search/charges/export/xlsx"+$,g)}invoiceHistoryReport(g){return this.downloadPost("/search/invoices/export/xlsx",g)}ActualTargetHoursReport(g){return this.save(g,"/report/performance/tracking")}exportPerformanceTrackingReport(g,p="excel"){let y="";switch(p){case"excel":y="/report/performance/tracking/export/xlsx";break;case"word":y="/report/performance/tracking/export/word";break;default:return}return this.downloadPost(y,g)}downloadInvoice(g){return this.downloadPost("/invoice/bulk/download",g)}downloadPdf(g){return this.downloadGet(`/invoice/${g}/pdf/download`)}}return c.\u0275fac=function(g){return new(g||c)(i.LFG(h.U),i.LFG(t.Z))},c.\u0275prov=i.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},640:function(et,U,r){r.d(U,{y:function(){return h}});var e=r(529),o=r(7716),n=r(8393),i=r(1831);let h=(()=>{class t extends e.d{constructor(c,T){super("/bts/api/v1/client",c),this.provider=c,this.util=T}getAllClients(c=null,T=10,g=0,p=null,y=null){const{deleted:N=null,prospective:$=null,placementSchool:z=null,keyword:st=null}=c;let nt=this.util.getQueryMethod({pageSize:T,pageNo:g,deleted:N,prospective:$,placementSchool:z,keyword:st,sortColumn:p,sortDirection:y});return this.getList(nt)}saveClient(c){return null!=c.id?this.updateClient(c):this.save(c,"/create")}updateClient(c){return this.update(c,"/"+c.id+"/update")}deleteClient(c){return this.delete(c)}fetchClientById(c){return this.getById(c)}getByProviderId(c,T=!1){let g=this.util.getQueryMethod({includeJoint:T});return this.getRecord(`/provider/${c}${g}`)}}return t.\u0275fac=function(c){return new(c||t)(o.LFG(n.U),o.LFG(i.Z))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},955:function(et,U,r){r.d(U,{_:function(){return i}});var e=r(529),o=r(7716),n=r(8393);let i=(()=>{class h extends e.d{constructor(u){super("/bts/api/v1/client-location",u),this.provider=u}saveClientLocation(u,c=0){return null!=u.id?this.updateClientLocation(u):this.save(u,`/${c}/client`)}updateClientLocation(u){return this.update(u,"/"+u.client.id+"/client")}fetchByClientId(u){return this.getList(`/${u}/client`)}}return h.\u0275fac=function(u){return new(u||h)(o.LFG(n.U))},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},5300:function(et,U,r){r.d(U,{a:function(){return i}});var e=r(529),o=r(7716),n=r(8393);let i=(()=>{class h extends e.d{constructor(u){super("/bts/api/v1/user",u),this.provider=u}updateUser(u){return this.update(u)}getAllUser(u=null,c=null,T=10,g=0){let p=`?pageSize=${T}&pageNo=${g}`;return null!=u&&(p+=`&deleted=${u}`),null!=c&&(p+=`&title=${c}`),this.getList(p)}saveUser(u){return null!=u.id?this.updateUser(u):this.save(u,"/create")}activateUser(u){return this.update(null,`/activate/${u}`)}fetchUserById(u){return this.getById(u)}deleteUser(u){return this.deleteRecord(u)}uploadProfilePic(u,c){return this.uploadImg(u,c?`/${c}/profile/upload/image`:"/profile/upload/image")}updateServices(u){return this.update(u,"/services")}attachStaffMember(u,c){return this.save(null,`/${u}/staff/${c}/true`)}removeStaffMember(u,c){return this.save(null,`/${u}/staff/${c}/false`)}getUserLocations(u){return this.getList(`/${u}/locations`)}attachLocation(u,c){return this.save({userId:u,locIds:c},"/locations/attach")}removeLocation(u,c){return this.deleteRecord(`/${u}/location/${c}`)}getLocationProviders(u){return this.getList(`/locations/location/${u}`)}getLocationForProviderAndClient(u,c){return this.getList(`/${u}/locations/client/${c}`)}getUserClients(u){return this.getList(`/${u}/clients`)}attachClient(u,c){return this.save(null,`/${u}/client/${c}`)}removeClient(u,c){return this.deleteRecord(`/${u}/client/${c}`)}}return h.\u0275fac=function(u){return new(u||h)(o.LFG(n.U))},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},2228:function(et,U,r){r.d(U,{L:function(){return i}});var e=r(529),o=r(7716),n=r(8393);let i=(()=>{class h extends e.d{constructor(u){super("/bts/api/v1/default-data-dna",u),this.provider=u}updateDataDna(u){return this.update(u,"/update")}getAllDataDna(u=10,c=0){return this.getList(`?pageSize=${u}&pageNo=${c}`)}saveDataDna(u){return null!=u.id?this.updateDataDna(u):this.save(u,"/create")}fetchDataDnaById(u){return this.getById(u)}fetchDataDnaByServiceArea(u){return this.getList(`/area/${u}`)}}return h.\u0275fac=function(u){return new(u||h)(o.LFG(n.U))},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},2814:function(et,U,r){r.d(U,{w:function(){return i}});var e=r(529),o=r(7716),n=r(8393);let i=(()=>{class h extends e.d{constructor(u){super("/bts/api/v1/service-area",u),this.provider=u}getAllServiceArea(u=10,c=0,T=!1){let g=`?pageSize=${u}&pageNo=${c}`;return null!==T&&(g=`${g}&deleted=${T}`),this.getList(g)}saveServiceArea(u){return null!=u.id?this.updateServiceArea(u):this.save(u)}updateServiceArea(u){return this.update(u,"/"+u.id+"/update")}fetchServiceAreaById(u){return this.getById(u)}}return h.\u0275fac=function(u){return new(u||h)(o.LFG(n.U))},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},5320:function(et,U,r){r.d(U,{D:function(){return i}});var e=r(529),o=r(7716),n=r(8393);let i=(()=>{class h extends e.d{constructor(u){super("/bts/api/v1/service-type",u),this.provider=u}getAllServiceTypes(u=null,c=null,T=10,g=0){let p=`?pageSize=${T}&pageNo=${g}`;return null!=u&&(p+=`&deleted=${u}`),null!=c&&(p+=`&title=${c}`),this.getList(p)}saveServiceType(u){return null!=u.id?this.updateServiceType(u):this.save(u)}updateServiceType(u){return this.update(u,`/${u.id}/update`)}fetchServiceTypeById(u){return this.getById(u)}getFullById(u){return this.getRecord(`/${u}/full`)}searchServiceType(u,c,T=10,g=1){let p="/search";return null!=c&&(p=`${p}?pageSize=${T}&pageNo=${g}&active=${c}&title=${u}`),this.getList(p)}activate(u){return this.deleteRecord(`/${u}/activate`)}}return h.\u0275fac=function(u){return new(u||h)(o.LFG(n.U))},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},4339:function(et,U,r){r.d(U,{V:function(){return h}});var e=r(529),o=r(7716),n=r(8393),i=r(1831);let h=(()=>{class t extends e.d{constructor(c,T){super("/bts/api/v1/student",c),this.provider=c,this.util=T}getAllStudents(c,T=10,g=0,p=null,y=null){null==p&&(p="lastName"),null==y&&(y="ASC");let N=this.util.getQueryMethod({pageSize:T,pageNo:g,sortColumn:p,sortDirection:y});return this.save(c,`/search${N}`)}saveStudent(c,T=!1){return null!=c.id?this.updateStudent(c):this.save(c,`?createIfExist=${T}`)}updateStudent(c){return this.update(c)}updateStudentNotes(c){return this.update(c,"/notes")}fetchStudentById(c){return this.getById(c)}attachStudentProvider(c=[],T){return this.save(c,`/${T}/provider`)}attachCaseLoads(c=[],T){return this.save(c,`/provider/${T}/students`)}detachCaseLoads(c=[],T){return this.deleteWithData(c,`/provider/${T}/students`)}fetchTreatMents(c){return this.getList(`/${c}/service-types`)}fetchProviders(c){return this.getList(`/${c}/providers`)}searchEntity(c,T=1e3,g=0){return this.getAllStudents(c,T,g)}getStudentByProviderId(c){return this.getList(`/provider/${c}`)}removeFromProvider(c){return this.deleteRecord(`${c}/detach/student-provider`)}attachTreatment(c,T){return null!=c.id?this.updateTreatment(c,T):this.addTreatment(c,T)}addTreatment(c,T){return this.save(c,`/${T}/treatment`)}updateTreatment(c,T){return this.update(c,`/${T}/treatment`)}getClientStudent(c){return this.getList(`/client/${c}`)}deleteTreatment(c){return this.deleteRecord(`/${c}/detach/student-treatment`)}deleteProvider(c){return this.deleteRecord(`/${c}/detach/student-provider`)}deleteCaseloadFromProvider(c,T){return this.deleteRecord(`/detach/${c}/provider/${T}`)}activateStudent(c){return this.update(null,`/${c}/activate`)}}return t.\u0275fac=function(c){return new(c||t)(o.LFG(n.U),o.LFG(i.Z))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},1710:function(et,U,r){r.d(U,{B:function(){return i}});var e=r(529),o=r(7716),n=r(8393);let i=(()=>{class h extends e.d{constructor(u){super("/bts/api/v1/wbs",u),this.provider=u}getAllWBS(u=null,c=null,T=500,g=0){let p=`?pageSize=${T}&pageNo=${g}`;return null!=u&&(p+=`&deleted=${u}`),null!=c&&(p+=`&title=${c}`),this.getList(p)}saveWBS(u){return null!=u.id?this.updateWBS(u):this.save(u)}updateWBS(u){return this.update(u,"/"+u.id+"/update")}getWbsById(u){return this.getById(u)}getByProviderId(u){return this.getRecord(`/user/${u}`)}activate(u){return this.update(null,`/${u}/activate`)}}return h.\u0275fac=function(u){return new(u||h)(o.LFG(n.U))},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},9216:function(et,U,r){r.d(U,{l:function(){return it}});var e=r(1431),o=r(7570),n=r(7716),i=r(2664),h=r(9344),t=r(9426),u=r(5320),c=r(2814),T=r(2663),g=r(3679),p=r(1314),y=r(1321),N=r(6640),$=r(3401),z=r(8682),st=r(9790),dt=r(1201);function nt(O,I){1&O&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&O&&(n.xp6(1),n.hij("",n.lcZ(2,1,"Title")," is required "))}function ut(O,I){if(1&O&&(n.TgZ(0,"div",40),n.YNc(1,nt,3,3,"div",41),n.qZA()),2&O){n.oxw();const _=n.MAs(13);n.xp6(1),n.Q6J("ngIf",null==_?null:_.errors.required)}}function X(O,I){if(1&O&&(n.TgZ(0,"ng-option",43),n._uU(1),n.qZA()),2&O){const _=n.oxw().$implicit;n.Q6J("value",_),n.xp6(1),n.hij(" ",_.title,"")}}function L(O,I){if(1&O&&(n.ynx(0),n.YNc(1,X,2,2,"ng-option",42),n.BQk()),2&O){const _=I.$implicit;n.xp6(1),n.Q6J("ngIf",null!==_.title&&""!==_.title)}}function B(O,I){1&O&&(n.TgZ(0,"div"),n._uU(1,"Service Area is required"),n.qZA())}function j(O,I){if(1&O&&(n.TgZ(0,"div",40),n.YNc(1,B,2,0,"div",41),n.qZA()),2&O){n.oxw();const _=n.MAs(2);n.xp6(1),n.Q6J("ngIf",null==_.controls.serviceArea||null==_.controls.serviceArea.errors?null:_.controls.serviceArea.errors.required)}}function ot(O,I){if(1&O&&(n.ynx(0),n.TgZ(1,"ng-option",43),n._uU(2),n.qZA(),n.BQk()),2&O){const _=I.$implicit;n.xp6(1),n.Q6J("value",_.value),n.xp6(1),n.hij(" ",_.label,"")}}const G=function(){return{backdropBorderRadius:"3px"}},lt=function(O){return{"is-invalid":O}};let it=(()=>{class O{constructor(_,Z,W,k,ct){this.modalService=_,this.toastr=Z,this.eventService=W,this.serviceTypeService=k,this.serviceAreaServ=ct,this.inputObj=null,this.serviceType=new e.O,this.loading=!1,this.loadingState=!1,this.serviceAreas=[],this.billingCodes=o.jj}ngOnInit(){this.inputObj&&(this.serviceType=JSON.parse(JSON.stringify(this.inputObj))),this.loadServiceAreas()}onsubmit(){this.loading=!0,this.serviceTypeService.saveServiceType(this.serviceType).then(_=>{this.modalService.dismissAll(),this.eventService.onServiceTypeEventSaved.emit(this.serviceType),this.loading=!1,this.toastr.success(null===this.inputObj?this.serviceType.title+" Added":this.serviceType.title+" Updated","Success")}).catch(_=>{this.loading=!1,console.log(_)})}loadServiceAreas(){this.loading=!0,this.serviceAreaServ.getAllServiceArea(500,0).then(_=>{let Z=this.serviceTypeService.getData(_);this.serviceAreas=Z.resultList,this.loading=!1}).catch(_=>{this.loading=!1,console.log(_)})}onCancelClicked(){this.modalService.dismissAll()}compareFn(_,Z){return _.id===Z.id}}return O.\u0275fac=function(_){return new(_||O)(n.Y36(i.FF),n.Y36(h._W),n.Y36(t.P),n.Y36(u.D),n.Y36(c.w))},O.\u0275cmp=n.Xpm({type:O,selectors:[["app-add-edit-service-type"]],inputs:{inputObj:"inputObj"},decls:56,vars:58,consts:[[3,"show","config"],["name","form",3,"ngSubmit","keydown.enter"],["addForm","ngForm"],[1,"modal-body",2,"overflow","visible"],[1,"col-lg-12"],[1,"form-body"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[1,"form-group"],[3,"labelStr","isRequired"],["type","text","name","title","required","",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["title","ngModel"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-6"],[1,"form-group",2,"position","relative"],["title","Select the service area that will be assigned to this service type",1,"form-text","text-muted",2,"display","initial","margin-left","4px"],[1,"mdi","mdi-information-outline"],["name","serviceArea","bindLabel","title",3,"appendTo","required","ngClass","dropdownPosition","placeholder","clearable","ngModel","compareWith","ngModelChange"],["serviceArea","ngModel"],[4,"ngFor","ngForOf"],["id","ngselect",2,"position","absolute","background","rgba(0, 0, 255, 0.5)"],[1,"col-md-4"],["title","Select the billing code of the service type",1,"form-text","text-muted",2,"display","initial","margin-left","4px"],["name","billingCode","bindLabel","title",3,"appendTo","required","ngClass","dropdownPosition","placeholder","clearable","ngModel","ngModelChange"],["billingCode","ngModel"],[1,"col-md-2"],[3,"labelStr"],["type","color","name","colorCode",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["colorCode","ngModel"],[1,"form-group","has-danger"],["title","(Optional) provide a brief description about this task for context, or additional instructions, if needed",1,"form-text","text-muted",2,"display","initial","margin-left","4px"],["name","taskDescription","rows","2",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","d-flex","align-items-center"],[1,"mr-3",3,"labelStr","isRequired"],["checkedTextColor","white","uncheckedTextColor","black","defaultBgColor","#26daab","color","red","size","medium","uncheckedLabel","Active","checkedLabel","Inactive","name","deleted",3,"ngModel","title","ngModelChange"],[1,"modal-footer"],[1,"row","form-controls-right"],[3,"loader","type","saveBtnSizeAndStyle","cancelBtnSizeAndStyle","onCancelClick"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value",4,"ngIf"],[3,"value"]],template:function(_,Z){if(1&_){const W=n.EpF();n._UZ(0,"ngx-loading",0),n.TgZ(1,"form",1,2),n.NdJ("ngSubmit",function(){return n.CHM(W),n.MAs(2).form.valid&&Z.onsubmit()})("keydown.enter",function(ct){return ct.preventDefault()}),n.TgZ(3,"div",3),n.TgZ(4,"div",4),n.TgZ(5,"div",5),n.TgZ(6,"div",6),n.TgZ(7,"div",7),n.TgZ(8,"div",8),n.TgZ(9,"div",9),n.TgZ(10,"div",10),n._UZ(11,"field-label",11),n.TgZ(12,"input",12,13),n.NdJ("ngModelChange",function(ct){return Z.serviceType.title=ct}),n.ALo(14,"translate"),n.qZA(),n.YNc(15,ut,2,1,"div",14),n.qZA(),n.qZA(),n.qZA(),n.TgZ(16,"div",8),n.TgZ(17,"div",15),n.TgZ(18,"div",16),n._UZ(19,"field-label",11),n.TgZ(20,"label",17),n._UZ(21,"i",18),n.qZA(),n.TgZ(22,"ng-select",19,20),n.NdJ("ngModelChange",function(ct){return Z.serviceType.serviceArea=ct}),n.YNc(24,L,2,1,"ng-container",21),n.ALo(25,"sort"),n.qZA(),n._UZ(26,"div",22),n.YNc(27,j,2,1,"div",14),n.qZA(),n.qZA(),n.TgZ(28,"div",23),n.TgZ(29,"div",16),n._UZ(30,"field-label",11),n.TgZ(31,"label",24),n._UZ(32,"i",18),n.qZA(),n.TgZ(33,"ng-select",25,26),n.NdJ("ngModelChange",function(ct){return Z.serviceType.billingCode=ct}),n.YNc(35,ot,3,2,"ng-container",21),n.qZA(),n.qZA(),n.qZA(),n.TgZ(36,"div",27),n.TgZ(37,"div",10),n._UZ(38,"field-label",28),n.TgZ(39,"input",29,30),n.NdJ("ngModelChange",function(ct){return Z.serviceType.colorCode=ct}),n.ALo(41,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(42,"div",8),n.TgZ(43,"div",9),n.TgZ(44,"div",31),n._UZ(45,"field-label",11),n.TgZ(46,"label",32),n._UZ(47,"i",18),n.qZA(),n.TgZ(48,"textarea",33),n.NdJ("ngModelChange",function(ct){return Z.serviceType.description=ct}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(49,"div",8),n.TgZ(50,"div",34),n._UZ(51,"field-label",35),n.TgZ(52,"ui-switch",36),n.NdJ("ngModelChange",function(ct){return Z.serviceType.deleted=ct}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(53,"div",37),n.TgZ(54,"div",38),n.TgZ(55,"app-save-button",39),n.NdJ("onCancelClick",function(){return Z.onCancelClicked()}),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&_){const W=n.MAs(2),k=n.MAs(13);n.Q6J("show",Z.loading)("config",n.DdM(51,G)),n.xp6(11),n.Q6J("labelStr","Title")("isRequired",!0),n.xp6(1),n.s9C("placeholder",n.lcZ(14,44," ")),n.Q6J("ngModel",Z.serviceType.title)("ngClass",n.VKq(52,lt,W.submitted&&k.invalid)),n.xp6(3),n.Q6J("ngIf",W.submitted&&k.invalid),n.xp6(4),n.Q6J("labelStr","Service Area")("isRequired",!0),n.xp6(3),n.Q6J("appendTo","#ngselect")("required",!0)("ngClass",n.VKq(54,lt,W.submitted&&"INVALID"==(null==W.controls||null==W.controls.serviceArea?null:W.controls.serviceArea.status)))("dropdownPosition","bottom")("placeholder","Select Service Area")("clearable",!0)("ngModel",Z.serviceType.serviceArea)("compareWith",Z.compareFn),n.xp6(2),n.Q6J("ngForOf",n.xi3(25,46,Z.serviceAreas,"title")),n.xp6(3),n.Q6J("ngIf",W.submitted),n.xp6(3),n.Q6J("labelStr","Billing Code")("isRequired",!1),n.xp6(3),n.Q6J("appendTo","#ngselect")("required",!1)("ngClass",n.VKq(56,lt,W.submitted&&"INVALID"==(null==W.controls||null==W.controls.billingCode?null:W.controls.billingCode.status)))("dropdownPosition","bottom")("placeholder","Select Billing Code")("clearable",!0)("ngModel",Z.serviceType.billingCode),n.xp6(2),n.Q6J("ngForOf",Z.billingCodes),n.xp6(3),n.Q6J("labelStr","Color Code"),n.xp6(1),n.s9C("placeholder",n.lcZ(41,49," ")),n.Q6J("ngModel",Z.serviceType.colorCode),n.xp6(6),n.Q6J("labelStr","Description / Instruction")("isRequired",!1),n.xp6(3),n.Q6J("ngModel",Z.serviceType.description),n.xp6(3),n.Q6J("labelStr","Status")("isRequired",!1),n.xp6(1),n.Q6J("ngModel",Z.serviceType.deleted)("title","service type status"),n.xp6(3),n.Q6J("loader",Z.loading)("type","submit")("saveBtnSizeAndStyle","btn-outline-success")("cancelBtnSizeAndStyle","btn-outline-danger")}},directives:[T.RJ,g._Y,g.JL,g.F,p.t,g.Fj,g.Q7,g.JJ,g.On,y.mk,y.O5,N.w9,y.sg,$.ob,z.t,N.xv],pipes:[st.X$,dt.F],styles:[""]}),O})()},8999:function(et,U,r){r.d(U,{l:function(){return lt}});var e=r(6157),o=r(4520),n=r(7716),i=r(2664),h=r(9344),t=r(9426),u=r(2228),c=r(2814),T=r(2663),g=r(3679),p=r(1314),y=r(1321),N=r(5870),$=r(8682),z=r(1201),st=r(9790);function dt(it,O){if(1&it&&(n.TgZ(0,"option",59),n._uU(1),n.qZA()),2&it){const I=n.oxw().$implicit;n.Q6J("ngValue",I),n.xp6(1),n.hij(" ",I.title," ")}}function nt(it,O){if(1&it&&(n.ynx(0),n.YNc(1,dt,2,2,"option",58),n.BQk()),2&it){const I=O.$implicit;n.xp6(1),n.Q6J("ngIf",null!==I.title&&""!==I.title)}}function ut(it,O){1&it&&(n.TgZ(0,"div"),n._uU(1," Service Area is required "),n.qZA())}function X(it,O){if(1&it&&(n.TgZ(0,"div",60),n.YNc(1,ut,2,0,"div",61),n.qZA()),2&it){n.oxw();const I=n.MAs(15);n.xp6(1),n.Q6J("ngIf",null==I?null:I.errors.required)}}function L(it,O){if(1&it&&(n.TgZ(0,"option",78),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&it){const I=O.$implicit;n.Q6J("value",I.value),n.xp6(1),n.Oqu(n.lcZ(2,2,I.label))}}const B=function(it){return{"pt-4":it}};function j(it,O){if(1&it){const I=n.EpF();n.TgZ(0,"div",8),n.TgZ(1,"div",48),n.TgZ(2,"div",10),n._UZ(3,"field-label",19),n.TgZ(4,"input",62,63),n.NdJ("ngModelChange",function(Z){return n.CHM(I).$implicit.task_name=Z}),n.ALo(6,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(7,"div",64),n.TgZ(8,"div",10),n._UZ(9,"field-label",19),n.TgZ(10,"input",65),n.NdJ("ngModelChange",function(Z){return n.CHM(I).$implicit.task_hours=Z}),n.ALo(11,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(12,"div",66),n.TgZ(13,"div",10),n.TgZ(14,"label",67),n._uU(15),n.ALo(16,"translate"),n.qZA(),n.TgZ(17,"select",68,69),n.NdJ("ngModelChange",function(Z){return n.CHM(I).$implicit.frequency=Z}),n.TgZ(19,"option",70),n._uU(20),n.ALo(21,"translate"),n.qZA(),n.YNc(22,L,3,4,"option",71),n.qZA(),n.qZA(),n.qZA(),n.TgZ(23,"div",64),n.TgZ(24,"div",10),n.TgZ(25,"label",67),n._uU(26),n.ALo(27,"translate"),n.qZA(),n.TgZ(28,"select",68,72),n.NdJ("ngModelChange",function(Z){return n.CHM(I).$implicit.staff_type=Z}),n.TgZ(30,"option",70),n._uU(31),n.ALo(32,"translate"),n.qZA(),n.TgZ(33,"option",73),n._uU(34),n.ALo(35,"translate"),n.qZA(),n.TgZ(36,"option",74),n._uU(37),n.ALo(38,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(39,"div",75),n.TgZ(40,"span"),n.TgZ(41,"a",76),n.NdJ("click",function(){const W=n.CHM(I).index;return n.oxw().removeItem(W)}),n._UZ(42,"i",77),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&it){const I=O.$implicit,_=O.index,Z=n.oxw();n.xp6(3),n.Q6J("labelStr","Task Name"),n.xp6(1),n.MGl("name","name-",_,""),n.s9C("placeholder",n.lcZ(6,20,"Task Name ")),n.Q6J("ngModel",I.task_name),n.xp6(5),n.Q6J("labelStr","Hours"),n.xp6(1),n.MGl("name","hours-",_,""),n.s9C("placeholder",n.lcZ(11,22,"Hours ")),n.Q6J("ngModel",I.task_hours),n.xp6(5),n.Oqu(n.lcZ(16,24,"Frequency")),n.xp6(2),n.MGl("name","frequency-",_,""),n.Q6J("ngModel",I.frequency),n.xp6(3),n.Oqu(n.lcZ(21,26,"Choose")),n.xp6(2),n.Q6J("ngForOf",Z.DATA_DNA_TASKS_FREQUENCY),n.xp6(4),n.Oqu(n.lcZ(27,28,"Staff Type")),n.xp6(2),n.MGl("name","staffType-",_,""),n.Q6J("ngModel",I.staff_type),n.xp6(3),n.Oqu(n.lcZ(32,30,"Choose")),n.xp6(3),n.Oqu(n.lcZ(35,32,"Professional")),n.xp6(3),n.Oqu(n.lcZ(38,34,"Assistant")),n.xp6(2),n.Q6J("ngClass",n.VKq(36,B,0==_))}}const ot=function(){return{backdropBorderRadius:"3px"}},G=function(it){return{"is-invalid":it}};let lt=(()=>{class it{constructor(I,_,Z,W,k){this.modalService=I,this.toastr=_,this.eventService=Z,this.dataDNAService=W,this.serviceAreaServ=k,this.inputObj=null,this.dataDna=new o.E,this.DATA_DNA_TASKS_FREQUENCY=e.b$,this.loading=!1,this.loadingState=!1,this.serviceAreas=[]}onWheel(I){"number"===I.target.type&&I.preventDefault()}ngOnInit(){this.inputObj&&(this.dataDna=this.inputObj,null==this.dataDna.tasks&&(this.dataDna.tasks=[])),this.loadServiceAreas()}onsubmit(){this.loading=!0,this.dataDNAService.saveDataDna(this.dataDna).then(I=>{this.modalService.dismissAll(),this.eventService.onDataDnaSaveEventSaved.emit(this.dataDna),this.loading=!1,this.toastr.success(null===this.inputObj?" Added":" Updated","Success")}).catch(I=>{this.loading=!1,console.log(I)})}getDataDnaById(I){this.loading=!0,this.dataDNAService.fetchDataDnaById(I).then(_=>{this.dataDna=this.dataDNAService.getData(_),this.loadServiceAreas(),null==this.dataDna.tasks&&(this.dataDna.tasks=[]),this.loading=!1}).catch(_=>{this.loading=!1,console.log(_)})}loadServiceAreas(){this.loading=!0,this.serviceAreaServ.getAllServiceArea(500,0).then(I=>{var _;let Z=this.serviceAreaServ.getData(I);if(this.serviceAreas=Z.resultList,null===(_=this.dataDna.serviceArea)||void 0===_?void 0:_.id){let W=this.serviceAreas.find(k=>k.id===this.dataDna.serviceArea.id);W&&(this.dataDna.serviceArea=W)}this.loading=!1}).catch(I=>{this.loading=!1,console.log(I)})}addRecord(){var I;null===(I=this.dataDna.tasks)||void 0===I||I.push(new o.J)}removeItem(I){var _;null===(_=this.dataDna.tasks)||void 0===_||_.splice(I,1)}onCancelClicked(){this.modalService.dismissAll()}}return it.\u0275fac=function(I){return new(I||it)(n.Y36(i.FF),n.Y36(h._W),n.Y36(t.P),n.Y36(u.L),n.Y36(c.w))},it.\u0275cmp=n.Xpm({type:it,selectors:[["app-add-edit-data-dna"]],hostBindings:function(I,_){1&I&&n.NdJ("wheel",function(W){return _.onWheel(W)})},inputs:{inputObj:"inputObj"},decls:129,vars:111,consts:function(){let O;return O=$localize`:␟cfb44b9252f5724343c009ed74b0b1eaee07299d␟7630567217718464789: Add Default Task `,[[3,"show","config"],["name","form",3,"ngSubmit","keydown.enter"],["addForm","ngForm"],[1,"modal-body"],[1,"col-lg-12"],[1,"form-body"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[1,"form-group"],[3,"labelStr","isRequired"],["title","Select the service area that will be assigned to this data dna",1,"form-text","text-muted",2,"display","initial","margin-left","4px"],[1,"mdi","mdi-information-outline"],["name","serviceArea","required","",1,"browser-default","custom-select",3,"ngClass","ngModel","ngModelChange"],["serviceArea","ngModel"],["selected","",3,"ngValue"],[4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[3,"labelStr"],["disable-scrolling","","type","number","name","iepDurationAvg",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["iepDurationAvg","ngModel"],[1,"col-md-6"],["disable-scrolling","","type","number","name","evalDurationAvg",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["evalDurationAvg","ngModel"],[1,"form-group","has-danger"],["disable-scrolling","","type","number","name","screenDurationAvg",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["screenDurationAvg","ngModel"],["disable-scrolling","","type","number","name","avgDailyPlanningHours",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["avgDailyPlanningHours","ngModel"],["disable-scrolling","","type","number","name","rspReportHoursAvg",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["rspReportHoursAvg","ngModel"],["disable-scrolling","","type","number","name","documentationHoursPerDay",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["documentationHoursPerDay","ngModel"],["disable-scrolling","","type","number","name","fileReviewHoursPerStudent",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["fileReviewHoursPerStudent","ngModel"],[1,"row","mt-2"],["disable-scrolling","","type","number","name","contractSetupHours",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["contractSetupHours","ngModel"],["disable-scrolling","","type","number","name","rateProfessional",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["rateProfessional","ngModel"],["disable-scrolling","","type","number","name","rateAssistant",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["rateAssistant","ngModel"],["disable-scrolling","","type","number","name","averageNumberOfHoursNeededPerServiceDay",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["averageNumberOfHoursNeededPerServiceDay","ngModel"],[1,"col-md-8"],["disable-scrolling","","type","number","name","percentOfWeeklySupervisionThatRequiresInvolvementOfAssi",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["percentOfWeeklySupervisionThatRequiresInvolvementOfAssi","ngModel"],[1,"col-md-4"],["disable-scrolling","","type","number","name","supervisionFactor",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["supervisionFactor","ngModel"],["class","row",4,"ngFor","ngForOf"],[1,"row","col-md-5"],["type","button",1,"btn","btn-outline-info","btn-sm","mt-2",3,"click"],O,[1,"modal-footer"],[1,"row","form-controls-right"],[3,"loader","type","saveBtnSizeAndStyle","cancelBtnSizeAndStyle","onCancelClick"],[3,"ngValue",4,"ngIf"],[3,"ngValue"],[1,"invalid-feedback"],[4,"ngIf"],["type","text",1,"form-control",3,"name","ngModel","placeholder","ngModelChange"],["name","ngModel"],[1,"col-md-2"],["disable-scrolling","","type","number",1,"form-control",3,"name","ngModel","placeholder","ngModelChange"],[1,"col-md-3"],[1,"control-label"],[1,"form-control","custom-select",3,"ngModel","name","ngModelChange"],["frequency","ngModel"],["value","null","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["staffType","ngModel"],["value","Professional"],["value","Assistant"],[1,"col-md-1","text-center","font-22",3,"ngClass"],["href","javascript:void(0)","title","Remove",3,"click"],[1,"mdi","mdi-close","btn-remove"],[3,"value"]]},template:function(I,_){if(1&I){const Z=n.EpF();n._UZ(0,"ngx-loading",0),n.TgZ(1,"form",1,2),n.NdJ("ngSubmit",function(){return n.CHM(Z),n.MAs(2).form.valid&&_.onsubmit()})("keydown.enter",function(k){return k.preventDefault()}),n.TgZ(3,"div",3),n.TgZ(4,"div",4),n.TgZ(5,"div",5),n.TgZ(6,"div",6),n.TgZ(7,"div",7),n.TgZ(8,"div",8),n.TgZ(9,"div",9),n.TgZ(10,"div",10),n._UZ(11,"field-label",11),n.TgZ(12,"label",12),n._UZ(13,"i",13),n.qZA(),n.TgZ(14,"select",14,15),n.NdJ("ngModelChange",function(k){return _.dataDna.serviceArea=k}),n.TgZ(16,"option",16),n._uU(17," Select Service Area... "),n.qZA(),n.YNc(18,nt,2,1,"ng-container",17),n.ALo(19,"sort"),n.qZA(),n.YNc(20,X,2,1,"div",18),n.qZA(),n.qZA(),n.qZA(),n.TgZ(21,"div",8),n.TgZ(22,"div",9),n.TgZ(23,"div",10),n._UZ(24,"field-label",19),n.ALo(25,"translate"),n.TgZ(26,"input",20,21),n.NdJ("ngModelChange",function(k){return _.dataDna.iepDurationAvg=k}),n.ALo(28,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(29,"div",8),n.TgZ(30,"div",22),n.TgZ(31,"div",10),n._UZ(32,"field-label",19),n.ALo(33,"translate"),n.TgZ(34,"input",23,24),n.NdJ("ngModelChange",function(k){return _.dataDna.evalDurationAvg=k}),n.ALo(36,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(37,"div",22),n.TgZ(38,"div",25),n._UZ(39,"field-label",19),n.ALo(40,"translate"),n.TgZ(41,"input",26,27),n.NdJ("ngModelChange",function(k){return _.dataDna.screenDurationAvg=k}),n.ALo(43,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(44,"div",8),n.TgZ(45,"div",22),n.TgZ(46,"div",10),n._UZ(47,"field-label",19),n.ALo(48,"translate"),n.TgZ(49,"input",28,29),n.NdJ("ngModelChange",function(k){return _.dataDna.avgDailyPlanningHours=k}),n.ALo(51,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(52,"div",22),n.TgZ(53,"div",10),n._UZ(54,"field-label",19),n.ALo(55,"translate"),n.TgZ(56,"input",30,31),n.NdJ("ngModelChange",function(k){return _.dataDna.rspReportHoursAvg=k}),n.ALo(58,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(59,"div",8),n.TgZ(60,"div",22),n.TgZ(61,"div",10),n._UZ(62,"field-label",19),n.ALo(63,"translate"),n.TgZ(64,"input",32,33),n.NdJ("ngModelChange",function(k){return _.dataDna.documentationHoursPerDay=k}),n.ALo(66,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(67,"div",22),n.TgZ(68,"div",10),n._UZ(69,"field-label",19),n.ALo(70,"translate"),n.TgZ(71,"input",34,35),n.NdJ("ngModelChange",function(k){return _.dataDna.fileReviewHoursPerStudent=k}),n.ALo(73,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(74,"div",36),n.TgZ(75,"div",9),n.TgZ(76,"div",10),n._UZ(77,"field-label",19),n.ALo(78,"translate"),n.TgZ(79,"input",37,38),n.NdJ("ngModelChange",function(k){return _.dataDna.contractSetupHours=k}),n.ALo(81,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(82,"div",8),n.TgZ(83,"div",22),n.TgZ(84,"div",10),n._UZ(85,"field-label",19),n.ALo(86,"translate"),n.TgZ(87,"input",39,40),n.NdJ("ngModelChange",function(k){return _.dataDna.rateProfessional=k}),n.ALo(89,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(90,"div",22),n.TgZ(91,"div",10),n._UZ(92,"field-label",19),n.ALo(93,"translate"),n.TgZ(94,"input",41,42),n.NdJ("ngModelChange",function(k){return _.dataDna.rateAssistant=k}),n.ALo(96,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(97,"div",36),n.TgZ(98,"div",9),n.TgZ(99,"div",10),n._UZ(100,"field-label",19),n.ALo(101,"translate"),n.TgZ(102,"input",43,44),n.NdJ("ngModelChange",function(k){return _.dataDna.averageNumberOfHoursNeededPerServiceDay=k}),n.ALo(104,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(105,"div",8),n.TgZ(106,"div",45),n.TgZ(107,"div",10),n._UZ(108,"field-label",19),n.ALo(109,"translate"),n.TgZ(110,"input",46,47),n.NdJ("ngModelChange",function(k){return _.dataDna.percentOfWeeklySupervisionThatRequiresInvolvementOfAssi=k}),n.ALo(112,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(113,"div",48),n.TgZ(114,"div",10),n._UZ(115,"field-label",19),n.ALo(116,"translate"),n.TgZ(117,"input",49,50),n.NdJ("ngModelChange",function(k){return _.dataDna.supervisionFactor=k}),n.ALo(119,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(120,"div",6),n.TgZ(121,"div",7),n.YNc(122,j,43,38,"div",51),n.TgZ(123,"div",52),n.TgZ(124,"button",53),n.NdJ("click",function(){return _.addRecord()}),n.SDv(125,54),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(126,"div",55),n.TgZ(127,"div",56),n.TgZ(128,"app-save-button",57),n.NdJ("onCancelClick",function(){return _.onCancelClicked()}),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&I){const Z=n.MAs(2),W=n.MAs(15);n.Q6J("show",_.loading)("config",n.DdM(108,ot)),n.xp6(11),n.Q6J("labelStr","Service Area")("isRequired",!0),n.xp6(3),n.Q6J("ngClass",n.VKq(109,G,Z.submitted&&W.invalid))("ngModel",_.dataDna.serviceArea),n.xp6(2),n.Q6J("ngValue",null),n.xp6(2),n.Q6J("ngForOf",n.xi3(19,53,_.serviceAreas,"title")),n.xp6(2),n.Q6J("ngIf",Z.submitted&&W.invalid),n.xp6(4),n.Q6J("labelStr",n.lcZ(25,56,"Average Time per Student for IEP Writing and Meeting Attendance in HOURS")),n.xp6(2),n.s9C("placeholder",n.lcZ(28,58,"Average Time per Student for IEP Writing and Meeting Attendance in HOURS")),n.Q6J("ngModel",_.dataDna.iepDurationAvg),n.xp6(6),n.Q6J("labelStr",n.lcZ(33,60,"Average Evaluation Time in HOURS")),n.xp6(2),n.s9C("placeholder",n.lcZ(36,62,"Average Evaluation Time in HOURS")),n.Q6J("ngModel",_.dataDna.evalDurationAvg),n.xp6(5),n.Q6J("labelStr",n.lcZ(40,64,"Average Screening Time in HOURS")),n.xp6(2),n.s9C("placeholder",n.lcZ(43,66,"Average Screening Time in HOURS")),n.Q6J("ngModel",_.dataDna.screenDurationAvg),n.xp6(6),n.Q6J("labelStr",n.lcZ(48,68,"Average Daily Planning Time in HOURS")),n.xp6(2),n.s9C("placeholder",n.lcZ(51,70,"Average Daily Planning Time in HOUR")),n.Q6J("ngModel",_.dataDna.avgDailyPlanningHours),n.xp6(5),n.Q6J("labelStr",n.lcZ(55,72,"Average Time Required For Progress Report in HOURS")),n.xp6(2),n.s9C("placeholder",n.lcZ(58,74,"Average Time Required For Progress Report in HOURS")),n.Q6J("ngModel",_.dataDna.rspReportHoursAvg),n.xp6(6),n.Q6J("labelStr",n.lcZ(63,76,"Average Daily Time For Documentation in HOURS")),n.xp6(2),n.s9C("placeholder",n.lcZ(66,78,"Average Daily Time For Documentation in HOURS")),n.Q6J("ngModel",_.dataDna.documentationHoursPerDay),n.xp6(5),n.Q6J("labelStr",n.lcZ(70,80,"Average Time Required For File Review in HOURS")),n.xp6(2),n.s9C("placeholder",n.lcZ(73,82,"Average Time Required For File Review in HOURS")),n.Q6J("ngModel",_.dataDna.fileReviewHoursPerStudent),n.xp6(6),n.Q6J("labelStr",n.lcZ(78,84,"Average Time For A Typical Account Setup in HOURS.")),n.xp6(2),n.s9C("placeholder",n.lcZ(81,86,"Average Time For A Typical Account Setup in HOURS.")),n.Q6J("ngModel",_.dataDna.contractSetupHours),n.xp6(6),n.Q6J("labelStr",n.lcZ(86,88,"Hourly Rate for Professional ($/HOUR)")),n.xp6(2),n.s9C("placeholder",n.lcZ(89,90,"Hourly Rate for Professional ($/HOUR)")),n.Q6J("ngModel",_.dataDna.rateProfessional),n.xp6(5),n.Q6J("labelStr",n.lcZ(93,92,"Hourly Rate for Assistant ($/HOUR)")),n.xp6(2),n.s9C("placeholder",n.lcZ(96,94,"Hourly Rate for Assistant ($/HOUR)")),n.Q6J("ngModel",_.dataDna.rateAssistant),n.xp6(6),n.Q6J("labelStr",n.lcZ(101,96,"Average number of hours needed per service day for professional/assistant to complete documentation of services provided.")),n.xp6(2),n.s9C("placeholder",n.lcZ(104,98,"Average number of hours needed per service day for professional/assistant to complete documentation of services provided.")),n.Q6J("ngModel",_.dataDna.averageNumberOfHoursNeededPerServiceDay),n.xp6(6),n.Q6J("labelStr",n.lcZ(109,100,"Percent of weekly supervision that requires involvement of assistant")),n.xp6(2),n.s9C("placeholder",n.lcZ(112,102,"Percent of weekly supervision that requires involvement of assistant")),n.Q6J("ngModel",_.dataDna.percentOfWeeklySupervisionThatRequiresInvolvementOfAssi),n.xp6(5),n.Q6J("labelStr",n.lcZ(116,104,"Supervision factor % (less than 1)")),n.xp6(2),n.s9C("placeholder",n.lcZ(119,106,"Supervision factor % (less than 1)")),n.Q6J("ngModel",_.dataDna.supervisionFactor),n.xp6(5),n.Q6J("ngForOf",_.dataDna.tasks),n.xp6(6),n.Q6J("loader",_.loading)("type","submit")("saveBtnSizeAndStyle","btn-outline-success")("cancelBtnSizeAndStyle","btn-outline-danger")}},directives:[T.RJ,g._Y,g.JL,g.F,p.t,g.EJ,g.Q7,y.mk,g.JJ,g.On,g.YN,g.Kr,y.sg,y.O5,g.wV,g.Fj,N.p,$.t],pipes:[z.F,st.X$],styles:[""]}),it})()},7302:function(et,U,r){r.d(U,{Y:function(){return dt}});var e=r(1431),o=r(7716),n=r(2664),i=r(9344),h=r(9426),t=r(2814),u=r(2663),c=r(3679),T=r(1314),g=r(1321),p=r(8682),y=r(9790);function N(nt,ut){1&nt&&(o.TgZ(0,"div"),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&nt&&(o.xp6(1),o.hij("",o.lcZ(2,1,"Title")," is required "))}function $(nt,ut){if(1&nt&&(o.TgZ(0,"div",21),o.YNc(1,N,3,3,"div",22),o.qZA()),2&nt){o.oxw();const X=o.MAs(13);o.xp6(1),o.Q6J("ngIf",null==X?null:X.errors.required)}}const z=function(){return{backdropBorderRadius:"3px"}},st=function(nt){return{"is-invalid":nt}};let dt=(()=>{class nt{constructor(X,L,B,j){this.modalService=X,this.toastr=L,this.eventService=B,this.serviceAreaService=j,this.inputObj=null,this.serviceArea=new e.s,this.loading=!1}ngOnInit(){this.inputObj&&(this.serviceArea=this.inputObj)}onsubmit(){this.loading=!0,this.serviceAreaService.saveServiceArea(this.serviceArea).then(X=>{this.modalService.dismissAll(),this.loading=!1,this.toastr.success(null===this.inputObj?this.serviceArea.title+" Added":this.serviceArea.title+" Updated","Success"),this.eventService.onServiceAreaEventSaved.emit(this.serviceArea)}).catch(X=>{this.loading=!1,console.log(X)})}onCancelClicked(){this.modalService.dismissAll()}}return nt.\u0275fac=function(X){return new(X||nt)(o.Y36(n.FF),o.Y36(i._W),o.Y36(h.P),o.Y36(t.w))},nt.\u0275cmp=o.Xpm({type:nt,selectors:[["app-add-edit-service-area"]],inputs:{inputObj:"inputObj"},decls:24,vars:22,consts:[[3,"show","config"],["name","form",3,"ngSubmit","keydown.enter"],["addForm","ngForm"],[1,"modal-body"],[1,"col-lg-12"],[1,"form-body"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-10"],[1,"form-group"],[3,"labelStr","isRequired"],["type","text","name","title","required","",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["title","ngModel"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-2"],[3,"labelStr"],["type","color","name","code",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"modal-footer"],[1,"row","form-controls-right"],[3,"loader","type","saveBtnSizeAndStyle","cancelBtnSizeAndStyle","onCancelClick"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(X,L){if(1&X){const B=o.EpF();o._UZ(0,"ngx-loading",0),o.TgZ(1,"form",1,2),o.NdJ("ngSubmit",function(){return o.CHM(B),o.MAs(2).form.valid&&L.onsubmit()})("keydown.enter",function(ot){return ot.preventDefault()}),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o.TgZ(5,"div",5),o.TgZ(6,"div",6),o.TgZ(7,"div",7),o.TgZ(8,"div",8),o.TgZ(9,"div",9),o.TgZ(10,"div",10),o._UZ(11,"field-label",11),o.TgZ(12,"input",12,13),o.NdJ("ngModelChange",function(ot){return L.serviceArea.title=ot}),o.ALo(14,"translate"),o.qZA(),o.YNc(15,$,2,1,"div",14),o.qZA(),o.qZA(),o.TgZ(16,"div",15),o.TgZ(17,"div",10),o._UZ(18,"field-label",16),o.TgZ(19,"input",17),o.NdJ("ngModelChange",function(ot){return L.serviceArea.colorCode=ot}),o.ALo(20,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(21,"div",18),o.TgZ(22,"div",19),o.TgZ(23,"app-save-button",20),o.NdJ("onCancelClick",function(){return L.onCancelClicked()}),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&X){const B=o.MAs(2),j=o.MAs(13);o.Q6J("show",L.loading)("config",o.DdM(19,z)),o.xp6(11),o.Q6J("labelStr","Title")("isRequired",!0),o.xp6(1),o.s9C("placeholder",o.lcZ(14,15," ")),o.Q6J("ngModel",L.serviceArea.title)("ngClass",o.VKq(20,st,B.submitted&&j.invalid)),o.xp6(3),o.Q6J("ngIf",B.submitted&&j.invalid),o.xp6(3),o.Q6J("labelStr","Color Code"),o.xp6(1),o.s9C("placeholder",o.lcZ(20,17,"Color Code (Hex Format)")),o.Q6J("ngModel",L.serviceArea.colorCode),o.xp6(4),o.Q6J("loader",L.loading)("type","submit")("saveBtnSizeAndStyle","btn-outline-success")("cancelBtnSizeAndStyle","btn-outline-danger")}},directives:[u.RJ,c._Y,c.JL,c.F,T.t,c.Fj,c.Q7,c.JJ,c.On,g.mk,g.O5,p.t],pipes:[y.X$],styles:[""]}),nt})()},6580:function(et,U,r){r.d(U,{o:function(){return it}});var e=r(389),o=r(7716),n=r(1831),i=r(2664),h=r(7061),t=r(9426),u=r(9075),c=r(4339),T=r(2663),g=r(1321),p=r(8682),y=r(1314),N=r(1464),$=r(6876);function z(O,I){if(1&O&&(o.TgZ(0,"div"),o.TgZ(1,"span",20),o._uU(2),o.ALo(3,"nullToDash"),o.qZA(),o.qZA()),2&O){const _=I.$implicit;o.xp6(2),o.hij(" ",o.lcZ(3,1,null==_?null:_.fullName)," ")}}function st(O,I){if(1&O&&(o.ynx(0),o.YNc(1,z,4,3,"div",19),o.BQk()),2&O){const _=o.oxw();o.xp6(1),o.Q6J("ngForOf",_.activity.students)}}function dt(O,I){1&O&&(o.ynx(0),o.TgZ(1,"span"),o._uU(2," --- "),o.qZA(),o.BQk())}function nt(O,I){if(1&O&&(o.TgZ(0,"div",21),o.TgZ(1,"strong"),o._uU(2),o.qZA(),o.qZA()),2&O){const _=o.oxw();o.xp6(2),o.Oqu(null==_.activity?null:_.activity.status)}}function ut(O,I){if(1&O&&(o.TgZ(0,"div",22),o.TgZ(1,"strong"),o._uU(2),o.qZA(),o.qZA()),2&O){const _=o.oxw();o.xp6(2),o.Oqu(null==_.activity?null:_.activity.status)}}function X(O,I){if(1&O&&(o.TgZ(0,"div",23),o.TgZ(1,"strong"),o._uU(2),o.qZA(),o.qZA()),2&O){const _=o.oxw();o.xp6(2),o.Oqu(null==_.activity?null:_.activity.status)}}function L(O,I){if(1&O&&(o.TgZ(0,"div",24),o.TgZ(1,"strong"),o._uU(2),o.qZA(),o.qZA()),2&O){const _=o.oxw();o.xp6(2),o.Oqu(null==_.activity?null:_.activity.status)}}function B(O,I){if(1&O&&(o.TgZ(0,"div",25),o._UZ(1,"field-label",26),o.TgZ(2,"small",27),o._uU(3),o.ALo(4,"nullToDash"),o.qZA(),o.TgZ(5,"small",27),o._uU(6),o.ALo(7,"date"),o.ALo(8,"date"),o.qZA(),o.qZA()),2&O){const _=o.oxw();o.xp6(1),o.Q6J("labelStr","Created By")("isRequired",!1),o.xp6(2),o.Oqu(o.lcZ(4,5,_.activity.createdByUserName)),o.xp6(3),o.AsE("",o.xi3(7,7,null==_.activity?null:_.activity.createdDate,"MM/dd/yyyy")," @ ",o.xi3(8,10,null==_.activity?null:_.activity.createdDate,"shortTime"),"")}}function j(O,I){if(1&O&&(o.TgZ(0,"div",25),o._UZ(1,"field-label",26),o.TgZ(2,"small",27),o._uU(3),o.ALo(4,"nullToDash"),o.qZA(),o.TgZ(5,"small",27),o._uU(6),o.ALo(7,"date"),o.ALo(8,"date"),o.qZA(),o.qZA()),2&O){const _=o.oxw();o.xp6(1),o.Q6J("labelStr","Posted by")("isRequired",!1),o.xp6(2),o.Oqu(o.lcZ(4,5,null==_.activity.submittedBy?null:_.activity.submittedBy.fullName)),o.xp6(3),o.AsE("",o.xi3(7,7,null==_.activity?null:_.activity.submittedDate,"MM/dd/yyyy")," @ ",o.xi3(8,10,null==_.activity?null:_.activity.submittedDate,"shortTime"),"")}}function ot(O,I){if(1&O&&(o.TgZ(0,"div",25),o._UZ(1,"field-label",26),o.TgZ(2,"small",27),o._uU(3),o.ALo(4,"nullToDash"),o.qZA(),o.TgZ(5,"small",27),o._uU(6),o.ALo(7,"date"),o.ALo(8,"date"),o.qZA(),o.qZA()),2&O){const _=o.oxw();o.xp6(1),o.Q6J("labelStr","Approved by")("isRequired",!1),o.xp6(2),o.Oqu(o.lcZ(4,5,null==_.activity.approvedBy?null:_.activity.approvedBy.fullName)),o.xp6(3),o.AsE("",o.xi3(7,7,null==_.activity?null:_.activity.approvedDate,"MM/dd/yyyy")," @ ",o.xi3(8,10,null==_.activity?null:_.activity.approvedDate,"shortTime"),"")}}function G(O,I){if(1&O&&(o.TgZ(0,"div",25),o._UZ(1,"field-label",26),o.TgZ(2,"small",27),o._uU(3),o.ALo(4,"nullToDash"),o.qZA(),o.TgZ(5,"small",27),o._uU(6),o.ALo(7,"date"),o.ALo(8,"date"),o.qZA(),o.qZA()),2&O){const _=o.oxw();o.xp6(1),o.Q6J("labelStr","Billed by")("isRequired",!1),o.xp6(2),o.Oqu(o.lcZ(4,5,null==_.activity.billedBy?null:_.activity.billedBy.fullName)),o.xp6(3),o.AsE("",o.xi3(7,7,null==_.activity?null:_.activity.billedDate,"MM/dd/yyyy")," @ ",o.xi3(8,10,null==_.activity?null:_.activity.billedDate,"shortTime"),"")}}const lt=function(){return{backdropBorderRadius:"3px"}};let it=(()=>{class O{constructor(_,Z,W,k,ct,mt){this.util=_,this.modalService=Z,this.service=W,this.eventService=k,this.sanitizer=ct,this.studentService=mt,this.activityID=null,this.activity=new e.$N,this.studentList=[],this.itemsList=[],this.sessionUser=null,this.loading=!1,this.sessionUser=this.util.getBtsUserFromSession()}ngOnInit(){this.activityID&&this.getActivityById(this.activityID)}getActivityById(_){this.loading=!0,this.service.fetchActivityById(_).then(Z=>{this.activity=this.service.getData(Z),this.loading=!1}).catch(Z=>{this.loading=!1,console.log(Z)})}onCancelClicked(){this.modalService.dismissAll()}}return O.\u0275fac=function(_){return new(_||O)(o.Y36(n.Z),o.Y36(i.FF),o.Y36(h.M),o.Y36(t.P),o.Y36(u.H7),o.Y36(c.V))},O.\u0275cmp=o.Xpm({type:O,selectors:[["app-activity-detail"]],inputs:{activityID:"activityID",activity:"activity"},decls:92,vars:46,consts:[[3,"show","config"],[1,"modal-body"],[1,"row"],[1,"col-lg-12","col-md-12"],[1,"card"],[1,"card-body"],[1,"col-4"],[1,""],[1,"row","mt-2"],[4,"ngIf"],["class","badge text-white","style","background-color:#2952a3;",4,"ngIf"],["class","badge text-white","style","background-color:#ffca28;",4,"ngIf"],["class","badge text-white","style","background-color:#be6d00;",4,"ngIf"],["class","badge text-white","style","background-color:#0d7813;",4,"ngIf"],[1,"col-12"],[1,"journal-image-width","p-3",3,"innerHtml"],["title","Authored Info","class","col-md-3",4,"ngIf"],[1,"d-flex","justify-content-end","m-l-0"],[3,"showSaveBtn","saveBtnSizeAndStyle","cancelBtnSizeAndStyle","onCancelClick"],[4,"ngFor","ngForOf"],[1,"badge","bg-success","mr-2","text-white"],[1,"badge","text-white",2,"background-color","#2952a3"],[1,"badge","text-white",2,"background-color","#ffca28"],[1,"badge","text-white",2,"background-color","#be6d00"],[1,"badge","text-white",2,"background-color","#0d7813"],["title","Authored Info",1,"col-md-3"],[1,"font-12",3,"labelStr","isRequired"],[1,"text-muted",2,"display","block"]],template:function(_,Z){1&_&&(o._UZ(0,"ngx-loading",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o.TgZ(5,"div",5),o.TgZ(6,"div",2),o.TgZ(7,"div",6),o.TgZ(8,"strong"),o._uU(9,"Title: "),o.qZA(),o.qZA(),o.TgZ(10,"div",7),o._uU(11),o.ALo(12,"nullToDash"),o.qZA(),o.qZA(),o.TgZ(13,"div",8),o.TgZ(14,"div",6),o.TgZ(15,"strong"),o._uU(16,"Provider: "),o.qZA(),o.qZA(),o._uU(17),o.ALo(18,"nullToDash"),o.qZA(),o.TgZ(19,"div",8),o.TgZ(20,"div",6),o.TgZ(21,"strong"),o._uU(22,"Client: "),o.qZA(),o.qZA(),o._uU(23),o.ALo(24,"nullToDash"),o.qZA(),o.TgZ(25,"div",8),o.TgZ(26,"div",6),o.TgZ(27,"strong"),o._uU(28,"Students: "),o.qZA(),o.qZA(),o.YNc(29,st,2,1,"ng-container",9),o.YNc(30,dt,3,0,"ng-container",9),o.qZA(),o.TgZ(31,"div",8),o.TgZ(32,"div",6),o.TgZ(33,"strong"),o._uU(34,"WBS"),o.qZA(),o.qZA(),o._uU(35),o.ALo(36,"nullToDash"),o.qZA(),o.TgZ(37,"div",8),o.TgZ(38,"div",6),o.TgZ(39,"strong"),o._uU(40,"Location"),o.qZA(),o.qZA(),o._uU(41),o.ALo(42,"nullToDash"),o.qZA(),o.TgZ(43,"div",8),o.TgZ(44,"div",6),o.TgZ(45,"strong"),o._uU(46,"Start Date Time: "),o.qZA(),o.qZA(),o.TgZ(47,"div",7),o._uU(48),o.ALo(49,"date"),o.qZA(),o.qZA(),o.TgZ(50,"div",8),o.TgZ(51,"div",6),o.TgZ(52,"strong"),o._uU(53,"End Date Time: "),o.qZA(),o.qZA(),o.TgZ(54,"div",7),o._uU(55),o.ALo(56,"date"),o.qZA(),o.qZA(),o.TgZ(57,"div",8),o.TgZ(58,"div",6),o.TgZ(59,"strong"),o._uU(60,"Duration(Minutes): "),o.qZA(),o.qZA(),o.TgZ(61,"div",7),o._uU(62),o.ALo(63,"nullToDash"),o.qZA(),o.qZA(),o.TgZ(64,"div",8),o.TgZ(65,"div",6),o.TgZ(66,"strong"),o._uU(67,"Status: "),o.qZA(),o.qZA(),o.YNc(68,nt,3,1,"div",10),o.YNc(69,ut,3,1,"div",11),o.YNc(70,X,3,1,"div",12),o.YNc(71,L,3,1,"div",13),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(72,"div",2),o.TgZ(73,"div",3),o.TgZ(74,"div",4),o.TgZ(75,"div",5),o.TgZ(76,"div",2),o.TgZ(77,"div",14),o.TgZ(78,"strong"),o._uU(79,"Description"),o.qZA(),o.qZA(),o.TgZ(80,"div",14),o._UZ(81,"div",15),o.ALo(82,"safe"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(83,"div",14),o.TgZ(84,"div",2),o.YNc(85,B,9,13,"div",16),o.YNc(86,j,9,13,"div",16),o.YNc(87,ot,9,13,"div",16),o.YNc(88,G,9,13,"div",16),o.qZA(),o.TgZ(89,"div",17),o.TgZ(90,"div",7),o.TgZ(91,"app-save-button",18),o.NdJ("onCancelClick",function(){return Z.onCancelClicked()}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&_&&(o.Q6J("show",Z.loading)("config",o.DdM(45,lt)),o.xp6(11),o.hij(" ",o.lcZ(12,24,null==Z.activity?null:Z.activity.title)," "),o.xp6(6),o.hij(" ",o.lcZ(18,26,null==Z.activity||null==Z.activity.provider?null:Z.activity.provider.fullName)," "),o.xp6(6),o.hij(" ",o.lcZ(24,28,null==Z.activity||null==Z.activity.client?null:Z.activity.client.name)," "),o.xp6(6),o.Q6J("ngIf",(null==Z.activity||null==Z.activity.students?null:Z.activity.students.length)>0),o.xp6(1),o.Q6J("ngIf",0==(null==Z.activity||null==Z.activity.students?null:Z.activity.students.length)||null==Z.activity.students),o.xp6(5),o.hij(" ",o.lcZ(36,30,null==Z.activity||null==Z.activity.wbs?null:Z.activity.wbs.title)," "),o.xp6(6),o.hij(" ",o.lcZ(42,32,null==Z.activity||null==Z.activity.location?null:Z.activity.location.title)," "),o.xp6(7),o.hij(" ",o.xi3(49,34,null==Z.activity?null:Z.activity.startDateTime,"MM/dd/yyyy h:mm a")," "),o.xp6(7),o.hij(" ",o.xi3(56,37,null==Z.activity?null:Z.activity.endDateTime,"MM/dd/yyyy h:mm a")," "),o.xp6(7),o.hij(" ",o.lcZ(63,40,null==Z.activity?null:Z.activity.duration)," \xa0min"),o.xp6(6),o.Q6J("ngIf","UNPOSTED"===(null==Z.activity?null:Z.activity.status)),o.xp6(1),o.Q6J("ngIf","POSTED"===(null==Z.activity?null:Z.activity.status)),o.xp6(1),o.Q6J("ngIf","APPROVED"===(null==Z.activity?null:Z.activity.status)),o.xp6(1),o.Q6J("ngIf","BILLED"===(null==Z.activity?null:Z.activity.status)),o.xp6(10),o.Q6J("innerHtml",null!=Z.activity&&Z.activity.activityNote?o.xi3(82,42,null==Z.activity?null:Z.activity.activityNote,"html"):"",o.oJD),o.xp6(4),o.Q6J("ngIf",null==Z.activity?null:Z.activity.createdDate),o.xp6(1),o.Q6J("ngIf",null==Z.activity?null:Z.activity.submittedDate),o.xp6(1),o.Q6J("ngIf",null==Z.activity?null:Z.activity.approvedDate),o.xp6(1),o.Q6J("ngIf",null==Z.activity?null:Z.activity.billedDate),o.xp6(3),o.Q6J("showSaveBtn",!1)("saveBtnSizeAndStyle","btn-outline-success")("cancelBtnSizeAndStyle","btn-outline-danger"))},directives:[T.RJ,g.O5,p.t,g.sg,y.t],pipes:[N.W,g.uU,$.y],styles:[".nav a.nav-link.active,   .nav .show > a.nav-link {\r\n\tcolor: #fff;\r\n\tbackground-color: #0346ff;\r\n}\r\n.padding-top-0[_ngcontent-%COMP%] {\r\n\tpadding-top: 0rem;\r\n}\r\n.lol-custom-prepend[_ngcontent-%COMP%] {\r\n\tmargin-top: 21px;\r\n\theight: 35px;\r\n}\r\n.cursor-pointer[_ngcontent-%COMP%]:hover {\r\n\tcursor: pointer;\r\n}\r\n.lol-mod-matter-select[_ngcontent-%COMP%] {\r\n\twidth: calc(100% - 20px);\r\n}\r\n.btn-viewMatter[_ngcontent-%COMP%] {\r\n\tpadding-left: 10px;\r\n}\r\n.btn-viewMatter[_ngcontent-%COMP%]:hover {\r\n\ttransition: 0.5s;\r\n\tcolor: #06c;\r\n}\r\n  .lol-notification-list .form-group {\r\n\tmargin-bottom: 0.25rem !important;\r\n}\r\n.person-pill-pic[_ngcontent-%COMP%] {\r\n\tmargin-right: 10px;\r\n\tborder-radius: 50%;\r\n\theight: 28px;\r\n\twidth: 28px;\r\n\tline-height: 28px;\r\n\ttext-align: center;\r\n\ttransition: 1.2s;\r\n}\r\n.disable-gray[_ngcontent-%COMP%] {\r\n\tbackground-color: gray !important;\r\n\topacity: 0.5;\r\n}\r\n .multiselect-dropdown > div > span.dropdown-btn {\r\n\tborder-color: #e9ecef !important;\r\n}\r\n .multiselect-dropdown .dropdown-list {\r\n\tposition: absolute !important;\r\n\twidth: 400px !important;\r\n}\r\n .positionSticky .multiselect-dropdown .dropdown-list {\r\n\tposition: sticky !important;\r\n}\r\n.invalidField[_ngcontent-%COMP%] {\r\n\tborder: 1px solid red;\r\n\tdisplay: block;\r\n}\r\nselect.decorated[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover {\r\n\tbox-shadow: 0 0 10px 100px #e0dada70 inset;\r\n}\r\n.dropdown-toggle[_ngcontent-%COMP%]::after {\r\n\tdisplay: none;\r\n}\r\n.dropdown-toggle.calendar-color-0[_ngcontent-%COMP%], .dropdown-item.calendar-color-0[_ngcontent-%COMP%] {\r\n\tbackground-color: transparent;\r\n}\r\n.dropdown-toggle.calendar-color-1[_ngcontent-%COMP%], .dropdown-item.calendar-color-1[_ngcontent-%COMP%] {\r\n\tbackground-color: #a4bdfc;\r\n}\r\n.dropdown-toggle.calendar-color-2[_ngcontent-%COMP%], .dropdown-item.calendar-color-2[_ngcontent-%COMP%] {\r\n\tbackground-color: #7ae7bf !important;\r\n}\r\n.dropdown-toggle.calendar-color-3[_ngcontent-%COMP%], .dropdown-item.calendar-color-3[_ngcontent-%COMP%] {\r\n\tbackground-color: #dbadff;\r\n}\r\n.dropdown-toggle.calendar-color-4[_ngcontent-%COMP%], .dropdown-item.calendar-color-4[_ngcontent-%COMP%] {\r\n\tbackground-color: #ff887c;\r\n}\r\n.dropdown-toggle.calendar-color-5[_ngcontent-%COMP%], .dropdown-item.calendar-color-5[_ngcontent-%COMP%] {\r\n\tbackground-color: #fbd75b;\r\n}\r\n.dropdown-toggle.calendar-color-6[_ngcontent-%COMP%], .dropdown-item.calendar-color-6[_ngcontent-%COMP%] {\r\n\tbackground-color: #ffb878;\r\n}\r\n.dropdown-toggle.calendar-color-7[_ngcontent-%COMP%], .dropdown-item.calendar-color-7[_ngcontent-%COMP%] {\r\n\tbackground-color: #46d6db;\r\n}\r\n.dropdown-toggle.calendar-color-8[_ngcontent-%COMP%], .dropdown-item.calendar-color-8[_ngcontent-%COMP%] {\r\n\tbackground-color: #e1e1e1;\r\n}\r\n.dropdown-toggle.calendar-color-9[_ngcontent-%COMP%], .dropdown-item.calendar-color-9[_ngcontent-%COMP%] {\r\n\tbackground-color: #5484ed;\r\n}\r\n.dropdown-toggle.calendar-color-10[_ngcontent-%COMP%], .dropdown-item.calendar-color-10[_ngcontent-%COMP%] {\r\n\tbackground-color: #51b749;\r\n}\r\n.dropdown-toggle.calendar-color-11[_ngcontent-%COMP%], .dropdown-item.calendar-color-11[_ngcontent-%COMP%] {\r\n\tbackground-color: #dc2127;\r\n}\r\n.lol-helper-icon[_ngcontent-%COMP%] {\r\n\tdisplay: block;\r\n    float: right;\r\n    top: -12px;\r\n    position: relative;\r\n\tz-index: 2;\r\n}\r\n.lol-note-area[_ngcontent-%COMP%] {\r\n\tmargin-top: 20px;\r\n}"]}),O})()},1373:function(et,U,r){r.d(U,{H:function(){return te}});var e=r(7716),o=r(6157),n=r(389),i=r(9269),h=r(6826),t=r(7570),u=r(529),c=r(8393);let T=(()=>{class A extends u.d{constructor(s){super("/bts/api/v1/session/series",s),this.provider=s}}return A.\u0275fac=function(s){return new(s||A)(e.LFG(c.U))},A.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();var g=r(2875),p=r(7061),y=r(955),N=r(5300),$=r(4339),z=r(640),st=r(9426),dt=r(2664),nt=r(9075),ut=r(1710),X=r(9344),L=r(1321),B=r(1831),j=r(2663),ot=r(6580),G=r(3679),lt=r(1314),it=r(6640),O=r(3422),I=r(8366),_=r(8682),Z=r(5078),W=r(5870),k=r(9790),ct=r(1464);const mt=["errorModal"];function At(A,V){if(1&A&&e._UZ(0,"app-activity-detail",4),2&A){const s=e.oxw();e.Q6J("activity",s.activity)}}function ht(A,V){1&A&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&A&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Title is required")," "))}function Zt(A,V){if(1&A&&(e.TgZ(0,"div",65),e.YNc(1,ht,3,3,"div",66),e.qZA()),2&A){e.oxw();const s=e.MAs(15);e.xp6(1),e.Q6J("ngIf",null==s?null:s.errors.required)}}function Y(A,V){1&A&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&A&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Activity is required")," "))}function rt(A,V){if(1&A&&(e.TgZ(0,"div",65),e.YNc(1,Y,3,3,"div",66),e.qZA()),2&A){e.oxw();const s=e.MAs(1);e.xp6(1),e.Q6J("ngIf",null==s.controls.wbs.errors?null:s.controls.wbs.errors.required)}}function D(A,V){1&A&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&A&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Client is required")," "))}function w(A,V){if(1&A&&(e.TgZ(0,"div",65),e.YNc(1,D,3,3,"div",66),e.qZA()),2&A){e.oxw();const s=e.MAs(1);e.xp6(1),e.Q6J("ngIf",null==s.controls.client.errors?null:s.controls.client.errors.required)}}function K(A,V){if(1&A&&(e.TgZ(0,"div",67),e._uU(1," Please select a valid location. The location "),e.TgZ(2,"strong"),e._uU(3),e.qZA(),e._uU(4," with this session has been deleted "),e.qZA()),2&A){const s=e.oxw(2);e.xp6(3),e.hij(" (",s.deletedLocation,") ")}}function E(A,V){1&A&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&A&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Location is required")," "))}function Q(A,V){if(1&A&&(e.TgZ(0,"div",65),e.YNc(1,E,3,3,"div",66),e.qZA()),2&A){e.oxw();const s=e.MAs(1);e.xp6(1),e.Q6J("ngIf",null==s.controls.location.errors?null:s.controls.location.errors.required)}}function m(A,V){if(1&A){const s=e.EpF();e.TgZ(0,"div",70),e.TgZ(1,"input",75,76),e.NdJ("ngModelChange",function(C){return e.CHM(s),e.oxw(3).activity.editSeries=C}),e.qZA(),e.TgZ(3,"label",77),e._uU(4,"Edit Series "),e.qZA(),e.qZA()}if(2&A){const s=e.oxw(3);e.xp6(1),e.Q6J("ngModel",s.activity.editSeries),e.xp6(2),e.Q6J("title","Future Activities will also be updated")}}function P(A,V){if(1&A){const s=e.EpF();e.TgZ(0,"div",15),e.TgZ(1,"div",68),e._UZ(2,"field-label",69),e.TgZ(3,"div",70),e.TgZ(4,"input",71,72),e.NdJ("change",function(){return e.CHM(s),e.oxw(2).setStudentSearchList()})("change",function(){return e.CHM(s),e.oxw(2).onPlacementChange()})("ngModelChange",function(C){return e.CHM(s),e.oxw(2).onPlacementModelChange(C,!0)})("ngModelChange",function(C){return e.CHM(s),e.oxw(2).activity.isJoint=C}),e.qZA(),e.TgZ(6,"label",73),e._uU(7," Is Placement School Activity "),e.qZA(),e.qZA(),e._UZ(8,"field-label",69),e.YNc(9,m,5,2,"div",74),e.qZA(),e.qZA()}if(2&A){const s=e.oxw(2);e.xp6(2),e.Q6J("labelStr",""),e.xp6(2),e.Q6J("ngModel",s.activity.isJoint),e.xp6(4),e.Q6J("labelStr",""),e.xp6(1),e.Q6J("ngIf",null!==(null==s.activity?null:s.activity.seriesId))}}function S(A,V){1&A&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&A&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Start Date is required")))}function M(A,V){if(1&A&&(e.TgZ(0,"div",65),e.YNc(1,S,3,3,"div",66),e.qZA()),2&A){e.oxw();const s=e.MAs(60);e.xp6(1),e.Q6J("ngIf",null==s?null:s.errors.required)}}const J=function(){return{standalone:!0}};function H(A,V){if(1&A){const s=e.EpF();e.TgZ(0,"timepicker",78),e.NdJ("ngModelChange",function(C){return e.CHM(s),e.oxw(2).time=C})("click",function(){return e.CHM(s),e.oxw(2).onTimeChange()}),e.qZA()}if(2&A){const s=e.oxw(2);e.Q6J("ngModel",s.time)("showMeridian",!0)("ngModelOptions",e.DdM(4,J))("minuteStep",15)}}function R(A,V){if(1&A&&(e.TgZ(0,"option",79),e._uU(1),e.qZA()),2&A){const s=V.$implicit;e.Q6J("ngValue",s.value),e.xp6(1),e.hij(" ",s.label," ")}}function gt(A,V){1&A&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&A&&(e.xp6(1),e.Oqu(e.lcZ(2,1," required")))}function vt(A,V){if(1&A&&(e.TgZ(0,"div",65),e.YNc(1,gt,3,3,"div",66),e.qZA()),2&A){e.oxw();const s=e.MAs(76);e.xp6(1),e.Q6J("ngIf",null==s?null:s.errors.required)}}function yt(A,V){if(1&A){const s=e.EpF();e.TgZ(0,"div",80),e.TgZ(1,"div",16),e._UZ(2,"field-label",69),e.TgZ(3,"div",81),e.TgZ(4,"input",82,83),e.NdJ("ngModelChange",function(C){return e.CHM(s),e.oxw(2).activity.recurring=C})("change",function(C){return e.CHM(s),e.oxw(2).changeRepeat(C)}),e.qZA(),e.TgZ(6,"label",84),e._uU(7," Repeat "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&A){const s=e.oxw(2);e.xp6(2),e.Q6J("labelStr",""),e.xp6(2),e.Q6J("ngModel",s.activity.recurring)}}function Tt(A,V){1&A&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&A&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"required")))}function Ot(A,V){if(1&A&&(e.TgZ(0,"div",65),e.YNc(1,Tt,3,3,"div",66),e.qZA()),2&A){e.oxw();const s=e.MAs(5);e.xp6(1),e.Q6J("ngIf",null==s?null:s.errors.required)}}const St=function(){return{showWeekNumbers:!1}},ft=function(A){return{"is-invalid":A}};function Pt(A,V){if(1&A){const s=e.EpF();e.TgZ(0,"div",38),e.TgZ(1,"div",16),e._UZ(2,"field-label",17),e.TgZ(3,"div",39),e.TgZ(4,"input",95,96),e.NdJ("ngModelChange",function(C){return e.CHM(s),e.oxw(3).activity.endAfterDate=C}),e.ALo(6,"translate"),e.ALo(7,"date"),e.qZA(),e._UZ(8,"span",42),e.qZA(),e.YNc(9,Ot,2,1,"div",20),e.qZA(),e.qZA()}if(2&A){const s=e.MAs(5);e.oxw(2);const v=e.MAs(1),C=e.oxw();e.xp6(2),e.Q6J("labelStr","End Date")("isRequired",!0),e.xp6(2),e.s9C("placeholder",e.lcZ(6,8,"End Date Time")),e.s9C("value",e.xi3(7,10,s.value,"MM/dd/yyyy")),e.Q6J("ngModel",C.activity.endAfterDate)("bsConfig",e.DdM(13,St))("ngClass",e.VKq(14,ft,v.submitted&&s.invalid)),e.xp6(5),e.Q6J("ngIf",v.submitted&&s.invalid)}}function It(A,V){1&A&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&A&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Occurance is required")," "))}function Ut(A,V){if(1&A&&(e.TgZ(0,"div",65),e.YNc(1,It,3,3,"div",66),e.qZA()),2&A){e.oxw();const s=e.MAs(4);e.xp6(1),e.Q6J("ngIf",null==s?null:s.errors.required)}}function qt(A,V){if(1&A){const s=e.EpF();e.TgZ(0,"div",97),e.TgZ(1,"div",16),e._UZ(2,"field-label",17),e.TgZ(3,"input",98,99),e.NdJ("ngModelChange",function(C){return e.CHM(s),e.oxw(3).activity.endAfter=C}),e.qZA(),e.YNc(5,Ut,2,1,"div",20),e.qZA(),e.qZA()}if(2&A){const s=e.MAs(4);e.oxw(2);const v=e.MAs(1),C=e.oxw();e.xp6(2),e.Q6J("labelStr","Occurances")("isRequired",!0),e.xp6(1),e.Q6J("ngModel",C.activity.endAfter)("ngClass",e.VKq(5,ft,v.submitted&&s.invalid)),e.xp6(2),e.Q6J("ngIf",v.submitted&&s.invalid)}}function Nt(A,V){if(1&A){const s=e.EpF();e.TgZ(0,"div",85),e.TgZ(1,"div",43),e.TgZ(2,"div",16),e._UZ(3,"field-label",69),e.TgZ(4,"select",86),e.NdJ("ngModelChange",function(C){return e.CHM(s),e.oxw(2).activity.occurenceType=C}),e.TgZ(5,"option",79),e._uU(6,"Daily"),e.qZA(),e.TgZ(7,"option",79),e._uU(8,"Weekly"),e.qZA(),e.TgZ(9,"option",79),e._uU(10,"Monthly"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",38),e.TgZ(12,"div",16),e.TgZ(13,"label",87),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"select",88,89),e.NdJ("ngModelChange",function(C){return e.CHM(s),e.oxw(2).ends=C})("ngModelChange",function(C){return e.CHM(s),e.oxw(2).onEndsChanges(C)}),e.TgZ(18,"option",90),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"option",91),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"option",92),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(27,Pt,10,16,"div",93),e.YNc(28,qt,6,7,"div",94),e.qZA()}if(2&A){const s=e.oxw(2);e.xp6(3),e.Q6J("labelStr","Repeats"),e.xp6(1),e.Q6J("ngModel",s.activity.occurenceType),e.xp6(1),e.Q6J("ngValue","DAILY"),e.xp6(2),e.Q6J("ngValue","WEEKLY"),e.xp6(2),e.Q6J("ngValue","MONTHLY"),e.xp6(5),e.Oqu(e.lcZ(15,12,"Ends")),e.xp6(2),e.Q6J("ngModel",s.ends),e.xp6(3),e.Oqu(e.lcZ(20,14,"Choose")),e.xp6(3),e.Oqu(e.lcZ(23,16,"After")),e.xp6(3),e.Oqu(e.lcZ(26,18,"On")),e.xp6(2),e.Q6J("ngIf","on"==s.ends),e.xp6(1),e.Q6J("ngIf","after"==s.ends)}}function wt(A,V){if(1&A){const s=e.EpF();e.TgZ(0,"ul",103),e.TgZ(1,"li",104),e.TgZ(2,"div",105),e.TgZ(3,"input",106),e.NdJ("ngModelChange",function(C){return e.CHM(s).$implicit.value=C}),e.qZA(),e.TgZ(4,"label",107),e._uU(5),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&A){const s=V.$implicit,v=V.index;e.xp6(3),e.MGl("id","copyInfoCheck-",v,""),e.MGl("name","check-",v,""),e.Q6J("ngModel",s.value),e.xp6(1),e.MGl("for","copyInfoCheck-",v,""),e.xp6(1),e.Oqu(s.label)}}function Lt(A,V){if(1&A&&(e.TgZ(0,"div",100),e.TgZ(1,"div",43),e.TgZ(2,"span"),e._uU(3,"Repeat On"),e.qZA(),e.qZA(),e.TgZ(4,"div",101),e.YNc(5,wt,6,5,"ul",102),e.qZA(),e.qZA()),2&A){const s=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",s.weekSeries)}}function Jt(A,V){if(1&A&&(e.TgZ(0,"li",113),e._uU(1),e.qZA()),2&A){const s=V.$implicit;e.xp6(1),e.hij(" ",s.fullNameWithClient,"")}}function Bt(A,V){1&A&&(e.TgZ(0,"div",67),e.TgZ(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&A&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Student is required")))}function Et(A,V){1&A&&(e.TgZ(0,"div",67),e.TgZ(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&A&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Only one student is allowed in this activity")))}function kt(A,V){if(1&A){const s=e.EpF();e.TgZ(0,"div",15),e.TgZ(1,"div",25),e.TgZ(2,"div",108),e._UZ(3,"field-label",17),e.TgZ(4,"label",109),e._UZ(5,"i",27),e.qZA(),e.TgZ(6,"ng-select",110),e.NdJ("ngModelChange",function(C){return e.CHM(s),e.oxw(2).activityStudents=C}),e.qZA(),e.TgZ(7,"ul",111),e.YNc(8,Jt,2,1,"li",112),e.qZA(),e.YNc(9,Bt,4,3,"div",34),e.YNc(10,Et,4,3,"div",34),e.qZA(),e.qZA(),e.qZA()}if(2&A){e.oxw();const s=e.MAs(1),v=e.oxw();e.xp6(3),e.Q6J("labelStr","Students")("isRequired",!0===(null==v.activity||null==v.activity.wbs?null:v.activity.wbs.requireStudent)),e.xp6(3),e.Q6J("multiple",!0)("items",v.studentsDropdownList)("dropdownPosition","bottom")("placeholder","Select Students")("ngModel",v.activityStudents),e.xp6(2),e.Q6J("ngForOf",v.activityStudents),e.xp6(1),e.Q6J("ngIf",s.submitted&&1==(null==v.activity.wbs?null:v.activity.wbs.requireStudent)&&0==(null==v.activityStudents?null:v.activityStudents.length)),e.xp6(1),e.Q6J("ngIf",s.submitted&&!(null!=v.activity&&null!=v.activity.wbs&&v.activity.wbs.isGroup)&&(null==v.activityStudents?null:v.activityStudents.length)>1)}}function Rt(A,V){1&A&&(e.TgZ(0,"div",67),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&A&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Activity note is required")," "))}function Qt(A,V){1&A&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&A&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Activity Note is required")," "))}function Ft(A,V){if(1&A&&(e.TgZ(0,"div",65),e.YNc(1,Qt,3,3,"div",66),e.qZA()),2&A){e.oxw();const s=e.MAs(94);e.xp6(1),e.Q6J("ngIf",null==s?null:s.errors.required)}}function Yt(A,V){if(1&A&&(e.TgZ(0,"div",115),e._UZ(1,"field-label",116),e.TgZ(2,"small",117),e._uU(3),e.ALo(4,"nullToDash"),e.qZA(),e.TgZ(5,"small",117),e._uU(6),e.ALo(7,"date"),e.ALo(8,"date"),e.qZA(),e.qZA()),2&A){const s=e.oxw(3);e.xp6(1),e.Q6J("labelStr","Created By")("isRequired",!1),e.xp6(2),e.Oqu(e.lcZ(4,5,s.activity.createdByUserName)),e.xp6(3),e.AsE("",e.xi3(7,7,null==s.activity?null:s.activity.createdDate,"MM/dd/yyyy")," @ ",e.xi3(8,10,null==s.activity?null:s.activity.createdDate,"shortTime"),"")}}function Wt(A,V){if(1&A&&(e.TgZ(0,"div",115),e._UZ(1,"field-label",116),e.TgZ(2,"small",117),e._uU(3),e.ALo(4,"nullToDash"),e.qZA(),e.TgZ(5,"small",117),e._uU(6),e.ALo(7,"date"),e.ALo(8,"date"),e.qZA(),e.qZA()),2&A){const s=e.oxw(3);e.xp6(1),e.Q6J("labelStr","Posted by")("isRequired",!1),e.xp6(2),e.Oqu(e.lcZ(4,5,null==s.activity.submittedBy?null:s.activity.submittedBy.fullName)),e.xp6(3),e.AsE("",e.xi3(7,7,null==s.activity?null:s.activity.submittedDate,"MM/dd/yyyy")," @ ",e.xi3(8,10,null==s.activity?null:s.activity.submittedDate,"shortTime"),"")}}function $t(A,V){if(1&A&&(e.TgZ(0,"div",115),e._UZ(1,"field-label",116),e.TgZ(2,"small",117),e._uU(3),e.ALo(4,"nullToDash"),e.qZA(),e.TgZ(5,"small",117),e._uU(6),e.ALo(7,"date"),e.ALo(8,"date"),e.qZA(),e.qZA()),2&A){const s=e.oxw(3);e.xp6(1),e.Q6J("labelStr","Approved by")("isRequired",!1),e.xp6(2),e.Oqu(e.lcZ(4,5,null==s.activity.approvedBy?null:s.activity.approvedBy.fullName)),e.xp6(3),e.AsE("",e.xi3(7,7,null==s.activity?null:s.activity.approvedDate,"MM/dd/yyyy")," @ ",e.xi3(8,10,null==s.activity?null:s.activity.approvedDate,"shortTime"),"")}}function Kt(A,V){if(1&A&&(e.TgZ(0,"div",115),e._UZ(1,"field-label",116),e.TgZ(2,"small",117),e._uU(3),e.ALo(4,"nullToDash"),e.qZA(),e.TgZ(5,"small",117),e._uU(6),e.ALo(7,"date"),e.ALo(8,"date"),e.qZA(),e.qZA()),2&A){const s=e.oxw(3);e.xp6(1),e.Q6J("labelStr","Billed by")("isRequired",!1),e.xp6(2),e.Oqu(e.lcZ(4,5,null==s.activity.billedBy?null:s.activity.billedBy.fullName)),e.xp6(3),e.AsE("",e.xi3(7,7,null==s.activity?null:s.activity.billedDate,"MM/dd/yyyy")," @ ",e.xi3(8,10,null==s.activity?null:s.activity.billedDate,"shortTime"),"")}}function Ht(A,V){if(1&A&&(e.TgZ(0,"div",9),e.TgZ(1,"div",36),e.TgZ(2,"div",14),e.TgZ(3,"h6"),e._uU(4,"Session Details"),e.qZA(),e.TgZ(5,"div",15),e.YNc(6,Yt,9,13,"div",114),e.YNc(7,Wt,9,13,"div",114),e.YNc(8,$t,9,13,"div",114),e.YNc(9,Kt,9,13,"div",114),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&A){const s=e.oxw(2);e.xp6(6),e.Q6J("ngIf",null==s.activity?null:s.activity.createdDate),e.xp6(1),e.Q6J("ngIf",null==s.activity?null:s.activity.submittedDate),e.xp6(1),e.Q6J("ngIf",null==s.activity?null:s.activity.approvedDate),e.xp6(1),e.Q6J("ngIf",null==s.activity?null:s.activity.billedDate)}}function jt(A,V){if(1&A){const s=e.EpF();e.TgZ(0,"div",118),e.TgZ(1,"button",119),e.NdJ("click",function(){e.CHM(s);const C=e.oxw(2);return C.deleteSeries(C.activity.id)}),e._uU(2," Delete Series "),e.qZA(),e.qZA()}if(2&A){const s=e.oxw(2);e.xp6(1),e.Q6J("loader",s.seriesDeleteLoader)}}function Vt(A,V){if(1&A){const s=e.EpF();e.TgZ(0,"button",120),e.NdJ("click",function(){e.CHM(s);const C=e.oxw(2);return C.deleteActivity(C.activity.id)}),e._uU(1," Delete Activity "),e.qZA()}if(2&A){const s=e.oxw(2);e.Q6J("loader",s.activityDeleteLoader)}}function zt(A,V){if(1&A){const s=e.EpF();e.TgZ(0,"form",5,6),e.NdJ("ngSubmit",function(){e.CHM(s);const C=e.MAs(1),q=e.oxw();return C.form.valid&&q.onsubmit()})("keydown.enter",function(C){return C.preventDefault()}),e.TgZ(2,"div",7),e.TgZ(3,"div",8),e.TgZ(4,"div",9),e.TgZ(5,"div",10),e.TgZ(6,"div",11),e.TgZ(7,"div",12),e.TgZ(8,"div",13),e.TgZ(9,"div",14),e.TgZ(10,"div",15),e.TgZ(11,"div",9),e.TgZ(12,"div",16),e._UZ(13,"field-label",17),e.TgZ(14,"input",18,19),e.NdJ("ngModelChange",function(C){return e.CHM(s),e.oxw().activity.title=C}),e.qZA(),e.YNc(16,Zt,2,1,"div",20),e.qZA(),e.qZA(),e.TgZ(17,"div",21),e.TgZ(18,"div",16),e._UZ(19,"field-label",17),e.TgZ(20,"ng-select",22),e.NdJ("ngModelChange",function(C){return e.CHM(s),e.oxw().activity.provider=C})("change",function(C){return e.CHM(s),e.oxw().onUserChange(C)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",9),e.TgZ(22,"div",16),e._UZ(23,"field-label",17),e.TgZ(24,"ng-select",23,24),e.NdJ("ngModelChange",function(C){return e.CHM(s),e.oxw().activity.wbs=C})("change",function(){return e.CHM(s),e.oxw().changeTitle()}),e.qZA(),e.YNc(26,rt,2,1,"div",20),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",12),e.TgZ(28,"div",13),e.TgZ(29,"div",14),e.TgZ(30,"div",15),e.TgZ(31,"div",25),e.TgZ(32,"div",16),e._UZ(33,"field-label",17),e.TgZ(34,"label",26),e._UZ(35,"i",27),e.qZA(),e.TgZ(36,"ng-select",28,29),e.NdJ("ngModelChange",function(C){return e.CHM(s),e.oxw().activity.client=C})("change",function(){return e.CHM(s),e.oxw().onClientChange()}),e.qZA(),e.YNc(38,w,2,1,"div",20),e.qZA(),e.qZA(),e.TgZ(39,"div",25),e.TgZ(40,"div",16),e._UZ(41,"field-label",30),e.TgZ(42,"label",31),e._UZ(43,"i",27),e.qZA(),e.TgZ(44,"ng-select",32,33),e.NdJ("ngModelChange",function(C){return e.CHM(s),e.oxw().activity.location=C}),e.qZA(),e.YNc(46,K,5,1,"div",34),e.YNc(47,Q,2,1,"div",20),e.qZA(),e.qZA(),e.qZA(),e.YNc(48,P,10,4,"div",35),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"div",15),e.TgZ(50,"div",9),e.TgZ(51,"div",36),e.TgZ(52,"div",14),e.TgZ(53,"div",37),e.TgZ(54,"div",15),e.TgZ(55,"div",38),e.TgZ(56,"div",16),e._UZ(57,"field-label",17),e.TgZ(58,"div",39),e.TgZ(59,"input",40,41),e.NdJ("ngModelChange",function(C){return e.CHM(s),e.oxw().dueDateInput=C})("ngModelChange",function(){return e.CHM(s),e.oxw().onActivityDate()}),e.ALo(61,"translate"),e.qZA(),e._UZ(62,"span",42),e.qZA(),e.YNc(63,M,2,1,"div",20),e.qZA(),e.qZA(),e.TgZ(64,"div",43),e.TgZ(65,"div",16),e._UZ(66,"field-label",17),e.YNc(67,H,1,5,"ng-template",null,44,e.W1O),e.TgZ(69,"input",45,46),e.NdJ("ngModelChange",function(C){return e.CHM(s),e.oxw().timeInput=C}),e.qZA(),e._UZ(71,"span",47),e.qZA(),e.qZA(),e.TgZ(72,"div",43),e.TgZ(73,"div",16),e._UZ(74,"field-label",17),e.TgZ(75,"select",48,49),e.NdJ("ngModelChange",function(C){return e.CHM(s),e.oxw().activity.duration=C}),e.TgZ(77,"option",50),e._uU(78,"-Select-"),e.qZA(),e.YNc(79,R,2,2,"option",51),e.qZA(),e.YNc(80,vt,2,1,"div",20),e.qZA(),e.qZA(),e.YNc(81,yt,8,2,"div",52),e.qZA(),e.YNc(82,Nt,29,20,"div",53),e.YNc(83,Lt,6,1,"div",54),e._UZ(84,"hr",55),e.YNc(85,kt,11,10,"div",35),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(86,"div",15),e.TgZ(87,"div",9),e.TgZ(88,"div",36),e.TgZ(89,"div",14),e.TgZ(90,"div",25),e.TgZ(91,"div",16),e._UZ(92,"field-label",17),e.TgZ(93,"textarea",56,57),e.NdJ("ngModelChange",function(C){return e.CHM(s),e.oxw().activity.activityNote=C}),e._uU(95,"                                            "),e.qZA(),e.YNc(96,Rt,3,3,"div",34),e.YNc(97,Ft,2,1,"div",20),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(98,Ht,10,4,"div",58),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(99,"div",59),e.TgZ(100,"div",60),e.YNc(101,jt,3,1,"div",61),e.TgZ(102,"div",62),e.YNc(103,Vt,2,1,"button",63),e.TgZ(104,"app-save-button",64),e.NdJ("onCancelClick",function(){return e.CHM(s),e.oxw().onCancelClicked()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&A){const s=e.MAs(1),v=e.MAs(15),C=e.MAs(60),q=e.MAs(68),at=e.MAs(76),pt=e.MAs(94),F=e.oxw();e.xp6(13),e.Q6J("labelStr","Title")("isRequired",!0),e.xp6(1),e.Q6J("ngModel",F.activity.title)("ngClass",e.VKq(85,ft,s.submitted&&v.invalid)),e.xp6(2),e.Q6J("ngIf",s.submitted&&v.invalid),e.xp6(1),e.Q6J("ngClass",null===F.inputObj?"":"readonly"),e.xp6(2),e.Q6J("labelStr","Assigned Provider")("isRequired",!0),e.xp6(1),e.Q6J("items",F.users)("dropdownPosition","bottom")("placeholder","search user")("ngModel",F.activity.provider)("clearable",!1),e.xp6(3),e.Q6J("labelStr","Activity")("isRequired",!0),e.xp6(1),e.Q6J("ngClass",e.VKq(87,ft,s.submitted&&"INVALID"==s.controls.wbs.status))("items",F.activityList)("dropdownPosition","bottom")("placeholder","Activity")("ngModel",F.activity.wbs)("clearable",!1),e.xp6(2),e.Q6J("ngIf",s.submitted),e.xp6(7),e.Q6J("labelStr","Client")("isRequired",!0),e.xp6(3),e.Q6J("ngClass",e.VKq(89,ft,s.submitted&&"INVALID"==s.controls.client.status))("ngModel",F.activity.client)("clearable",!1)("dropdownPosition","bottom")("items",F.clientsOptions)("placeholder","select client")("required",!0),e.xp6(2),e.Q6J("ngIf",s.submitted),e.xp6(3),e.Q6J("isRequired",F.isLocationRequired())("labelStr","Location"),e.xp6(3),e.Q6J("title",null!=F.activity&&F.activity.client?"select activity location":"first select client!")("ngClass",e.VKq(91,ft,s.submitted&&"INVALID"==s.controls.location.status))("ngModel",F.activity.location)("dropdownPosition","bottom")("items",F.clientLocations)("placeholder","select location")("required",F.isLocationRequired())("disabled",null==(null==F.activity?null:F.activity.client)),e.xp6(2),e.Q6J("ngIf",!F.isLocationValid&&(null==s.controls.location.errors?null:s.controls.location.errors.required)),e.xp6(1),e.Q6J("ngIf",s.submitted),e.xp6(1),e.Q6J("ngIf",!F.loadingState),e.xp6(9),e.Q6J("labelStr","Start Date")("isRequired",!0),e.xp6(2),e.s9C("placeholder",e.lcZ(61,83,"Due Date")),e.Q6J("minDate",F.minDateForSession)("ngModel",F.dueDateInput)("bsConfig",e.DdM(93,St))("ngClass",e.VKq(94,ft,s.submitted&&C.invalid)),e.xp6(4),e.Q6J("ngIf",s.submitted&&C.invalid),e.xp6(3),e.Q6J("labelStr","Start Time")("isRequired",!0),e.xp6(3),e.Q6J("popover",q)("outsideClick",!0)("ngModel",F.timeInput),e.xp6(5),e.Q6J("labelStr","Duration")("isRequired",!0),e.xp6(1),e.Q6J("ngModel",F.activity.duration)("ngClass",e.VKq(96,ft,s.submitted&&at.invalid)),e.xp6(2),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",F.durations),e.xp6(1),e.Q6J("ngIf",s.submitted&&at.invalid),e.xp6(1),e.Q6J("ngIf",null==F.inputObj),e.xp6(1),e.Q6J("ngIf",(null==F.activity?null:F.activity.recurring)&&!F.loadingState&&null==F.inputObj),e.xp6(1),e.Q6J("ngIf",F.activity&&"WEEKLY"==(null==F.activity?null:F.activity.occurenceType)&&null==F.inputObj),e.xp6(2),e.Q6J("ngIf",!F.loadingState),e.xp6(7),e.Q6J("labelStr","Notes")("isRequired",!0===(null==F.activity||null==F.activity.wbs?null:F.activity.wbs.requireNotes)),e.xp6(1),e.Q6J("ngModel",F.activity.activityNote)("required",!0===(null==F.activity||null==F.activity.wbs?null:F.activity.wbs.requireNotes)),e.xp6(3),e.Q6J("ngIf",s.submitted&&!(null!=F.activity&&F.activity.activityNote)&&(null==F.activity||null==F.activity.wbs?null:F.activity.wbs.requireNotes)&&pt.errors.required),e.xp6(1),e.Q6J("ngIf",s.submitted&&pt.invalid),e.xp6(1),e.Q6J("ngIf",null==F.activity?null:F.activity.id),e.xp6(3),e.Q6J("ngIf",null!==(null==F.activity?null:F.activity.seriesId)&&(null==F.activity?null:F.activity.id)),e.xp6(2),e.Q6J("ngIf",F.activity.id&&!F.isReadOnly),e.xp6(1),e.Q6J("loader",F.loading)("type","submit")("showSaveBtn",!F.isReadOnly)("saveBtnSizeAndStyle","btn-outline-success")("cancelBtnSizeAndStyle","btn-outline-danger")}}function Gt(A,V){if(1&A){const s=e.EpF();e.TgZ(0,"div",121),e.TgZ(1,"h5",122),e._uU(2,"Activity Error"),e.qZA(),e.TgZ(3,"a",123,3),e.NdJ("click",function(){return e.CHM(s).$implicit.dismiss("Cross click")}),e._UZ(5,"i",124),e.qZA(),e.qZA(),e.TgZ(6,"div",125),e.TgZ(7,"p"),e._UZ(8,"span",126),e._uU(9," is Boothby Therapy Services specific code, please select Boothby Therapy Services as client and try again "),e.qZA(),e.qZA(),e.TgZ(10,"div",59),e.TgZ(11,"button",127),e.NdJ("click",function(){return e.CHM(s).$implicit.close("Close click")}),e._uU(12," Ok "),e.qZA(),e.qZA()}if(2&A){const s=e.oxw();e.xp6(8),e.Q6J("innerHTML","<strong>"+s.activity.wbs.title+"</strong>",e.oJD)}}const Xt=function(){return{backdropBorderRadius:"3px"}};let te=(()=>{class A{constructor(s,v,C,q,at,pt,F,bt,Mt,ee,ne,ie,oe,le){this._activity_series_service=s,this.confirmDialog=v,this._activity_service=C,this.locationService=q,this._user_service=at,this.studentService=pt,this.ClientsService=F,this.eventService=bt,this.modalService=Mt,this.sanitizer=ee,this.WbsService=ne,this.toastr=ie,this.datePipe=oe,this.util=le,this.studentsDropdownList=[],this.selectedStudents=[],this.studentDropdownSettings={},this.activityStudents=[],this.users=this.util.getBtsUsersListsFromSession(),this.inputObj=null,this.startDateTime=new Date,this.selectedUser=null,this.onDataSaved=new e.vpe,this.permissions=new i.m,this.studentSearchParams=new h.sF,this.isClientHasLocations=!1,this.activityDeleteLoader=!1,this.disableproviderField=!1,this.seriesDeleteLoader=!1,this.durations=o.bK,this.weekSeries=o.Q3,this.dueDateInput=new Date,this.loadingState=!1,this.activity=new n.$N,this.isReadOnly=!1,this.loading=!1,this.seriesId=null,this.time=new Date,this.userFull=null,this.timeInput="",this.clientLocations=[],this.clientsOptions=[],this.ends="on",this.activityList=[],this.clientId=null,this.minDateForSession=null,this.isLocationValid=!0,this.deletedLocation=null,this.calenderLocked=!1}onSelectAll(s){console.log(s)}ngOnInit(){var s,v;if(this.selectedUser&&!this.inputObj&&this.setInitialFieldsOnProviderBase(this.selectedUser),this.inputObj&&this.inputObj.id)this.getUserAsync(null===(s=this.inputObj.provider)||void 0===s?void 0:s.id).then(C=>{this.getActivityById()});else{this.activity=new n.$N,this.activity.provider=null!==(v=this.selectedUser)&&void 0!==v?v:null;let C=new Date;C.setHours(12),C.setMinutes(0),this.timeInput=this.convertTo12Hours(C),this.time=C,this.setPermissionBasedFields(),this.activity.weeklySeries=[],this.weekSeries.forEach(q=>{q.value=!1}),this.minDateForSession=this.util.getCalendarValidRange()}this.startDateTime&&(this.dueDateInput=this.roundMinutesToQuarter(this.startDateTime),this.timeInput=this.convertTo12Hours(this.dueDateInput),this.time=this.getDateWhenEnteredManually(this.timeInput))}setInitialFieldsOnProviderBase(s){this.activity.provider=s,this.getActivityWbsList(s.id),this.setClientListAndFieldbyProviderId(s.id,!1)}onUserChange(s){this.clearUserRelatedFields(),this.getActivityWbsList(s.id),this.setClientListAndFieldbyProviderId(s.id,this.activity.isJoint)}getActivityById(){this.activity.recurring=!1,this.loadingState=!0,this._activity_service.fetchActivityById(this.inputObj.id).then(s=>{this.activity=this._activity_service.getData(s),this.activity.provider&&this.setActivityFields(this.activity.provider),this.dueDateInput=this.activity.startDateTime?new Date(this.activity.startDateTime):null,this.dueDateInput&&(this.timeInput=this.convertTo12Hours(this.dueDateInput),this.time=this.getDateWhenEnteredManually(this.timeInput)),this.activity.seriesId&&this.activity.recurring&&"WEEKLY"==this.activity.occurenceType&&this.setSeries("fetch"),this.checkEndsType(),this.setReadOnly(),this.loadingState=!1}).catch(s=>{this.loadingState=!1,console.log(s)})}setActivityFields(s){this.activity.provider=s,this.setStudentSearchList(),this.setActivityStudents(),this.getActivityWbsList(s.id),this.setClientField(s)}setStudentSearchList(){var s,v,C,q,at,pt,F,bt,Mt;this.studentSearchParams.deleted=!1,this.studentSearchParams.forPlacement=null!==(v=null===(s=this.activity)||void 0===s?void 0:s.isJoint)&&void 0!==v&&v,this.studentSearchParams.userId=null===(C=this.activity.provider)||void 0===C?void 0:C.id,(null===(q=this.activity)||void 0===q?void 0:q.isJoint)?(null===(Mt=this.activity.provider)||void 0===Mt?void 0:Mt.id)&&(this.studentSearchParams.clientId=null):(null===(at=this.activity.client)||void 0===at?void 0:at.id)&&(this.studentSearchParams.clientId=null!==(bt=null===(F=null===(pt=this.activity)||void 0===pt?void 0:pt.client)||void 0===F?void 0:F.id)&&void 0!==bt?bt:null),this.loadStudents()}setActivityStudents(){var s;(null===(s=this.activity.students)||void 0===s?void 0:s.length)>0&&this.activity.students.forEach((v,C)=>{this.activityStudents.push(v)})}setClientField(s){this.setClientListAndFieldbyProviderId(s.id,this.activity.isJoint)}getActivityWbsList(s){this.loadingState=!0,this.WbsService.getByProviderId(s).then(v=>{this.activityList=this.WbsService.getData(v),this.loadingState=!1}).catch(v=>{this.loadingState=!1})}loadStudents(){try{this.loadingState=!0,this.studentService.searchEntity(this.studentSearchParams).then(s=>{let v=this.studentService.getData(s);this.studentsDropdownList=v.resultList,this.loadingState=!1}).catch(s=>{console.log(s),this.loadingState=!1})}catch(s){this.handleUIError(s)}}setPermissionBasedFields(){if(this.permissions=this.util.getAllowedPermissions(),!this.permissions.CAN_MANAGE_ACTIVITIES_FOR_OTHER_USERS&&this.util.isLoggedRole("ADMIN")){let s=this.util.getBtsUserFromSession();this.activity.provider=s||null,this.disableproviderField=!0}}isStudentDisable(){var s,v;let C=!0;return(null===(v=null===(s=this.activity)||void 0===s?void 0:s.client)||void 0===v?void 0:v.id)&&(C=!1),C}postActivity(){try{this.processPostActivity()}catch(s){this.loading=!1,this.handleUIError(s)}}processPostActivity(){this.loading=!0,this.setStudentsPayload(),this.activity.startDateTime=this.dueDateInput,this.ends&&"after"==this.ends&&(this.activity.endAfterDate=null),this.ends&&"on"==this.ends&&(this.activity.endAfter=null),this._activity_service.saveActivity(this.activity).then(s=>{var v;this.eventService.onActivityEventSaved.emit(this._activity_service.getData(s)),this.loading=!1,(null===(v=this.inputObj)||void 0===v?void 0:v.id)?this.toastr.success("Activity Updated successfully"):this.toastr.success("Activity Created successfully"),this.modalService.dismissAll(),this.util.setRecentActivityToSession(this.activity)}).catch(s=>{this.loading=!1,console.log(s),400==s.code&&this.toastr.error(s.message,"Confirm Timing")})}setStudentsPayload(){this.activity.students=[],this.activityStudents.forEach(s=>{this.activity.students.push({id:null,deleted:!1,student:s,fullName:s.fullNameWithClient})})}deleteSeries(s){this.confirmDialog.confirm("'You are about to delete all future activities in this series . Are you sure?'").then(v=>{v&&(console.log("confirm"),this.seriesDeleteLoader=!0,this._activity_series_service.deleteRecord(s).then(C=>{this.toastr.success("Series Deleted","SUCCESS"),this.seriesDeleteLoader=!1,this.modalService.dismissAll(),this.eventService.onActivityEventDelete.emit()}).catch(C=>{console.log(C),this.seriesDeleteLoader=!1}))})}onsubmit(){if(this.IsActvityFormInValid())return;let s=this.getTimeMessage();s?this.confirmDialog.confirm(s).then(v=>{v&&this.postActivity()}):this.postActivity()}deleteActivity(s){this.confirmDialog.confirm("Are you sure to delete this activity?").then(v=>{v&&(this.activityDeleteLoader=!0,this._activity_service.deleteRecord(s).then(C=>{this.loading=!1,this.toastr.success("Activity Deleted","SUCCESS"),this.eventService.onActivityEventDelete.emit(),this.modalService.dismissAll()}).catch(C=>{this.activityDeleteLoader=!1,console.log(C)}))})}changeRepeat(s){s.target.checked||(this.activity.weeklySeries=[],this.activity.occurenceType="DAILY")}clearUserRelatedFields(){this.activity.wbs=null,this.activity.client=null,this.activity.location=null,this.activityList=[],this.clientsOptions=[],this.activity.isJoint||(this.clientLocations=[])}setClientListAndFieldbyProviderId(s,v){this.loadingState=!0,this.ClientsService.getByProviderId(s,v).then(C=>{this.clientsOptions=this.ClientsService.getData(C),this.clientsOptions=this.clientsOptions.filter(q=>q.placementSchool==v),this.activity.client&&(this.clientId=this.activity.client.id,this.setLocationListAndFieldbyClientId(this.clientId)),this.loadingState=!1}).catch(C=>{this.loadingState=!1})}setLocationListAndFieldbyClientId(s){var v,C;let q=o.$.PROVIDER;(null===(v=this.userFull)||void 0===v?void 0:v.role)==q||(null===(C=this.activity.provider)||void 0===C?void 0:C.role)==q?this.getClientLocationsByProviderId(s):(this.loadingState=!0,this.locationService.fetchByClientId(s).then(at=>{this.loadingState=!1,this.clientLocations=this.locationService.getData(at),this.isClientHasLocations=!!this.clientLocations.length,null!==this.activity.location&&(this.clientLocations.forEach((pt,F)=>{this.activity.location.id==this.clientLocations[F].id&&(this.clientLocations[F]=this.activity.location)}),this.validateSelectedLocation())}).catch(at=>{this.loadingState=!1,console.log("error",at)}))}validateSelectedLocation(){var s;(null===(s=this.activity)||void 0===s?void 0:s.location)&&!this.clientLocations.some(v=>v.id===this.activity.location.id)?(this.deletedLocation=this.activity.location.title,this.activity.location=null,this.isLocationValid=!1):this.isLocationValid=!0}getClientLocationsByProviderId(s){var v;this.loadingState=!0,this._user_service.getLocationForProviderAndClient(null===(v=this.activity.provider)||void 0===v?void 0:v.id,s).then(C=>{this.loadingState=!1;let q=this._user_service.getData(C);this.setLocationRequiredForProvider(q),this.clientLocations=q.locations.map(at=>at.location),null!==this.activity.location&&(this.clientLocations.forEach((at,pt)=>{this.activity.location.id==this.clientLocations[pt].id&&(this.clientLocations[pt]=this.activity.location)}),this.validateSelectedLocation())}).catch(C=>{this.loadingState=!1,console.log("error",C)})}setLocationRequiredForProvider(s){this.isClientHasLocations=0!=s.clientLocationsCount}onPlacementModelChange(s=!0,v=!1){v&&(this.activity.location=null,this.activity.client=null),this.activity.provider?this.setClientListAndFieldbyProviderId(this.activity.provider.id,s):this.clientsOptions=[]}setSeries(s){var v;if("save"==s)this.activity.weeklySeries=[],this.weekSeries.forEach(q=>{this.activity.weeklySeries.push({key:q.key,value:q.value})});else for(var C=0;C<(null===(v=this.activity.weeklySeries)||void 0===v?void 0:v.length);C++)this.weekSeries.forEach((q,at)=>{this.weekSeries[at].key==this.activity.weeklySeries[at].key&&(this.weekSeries[at].key=this.activity.weeklySeries[at].key,this.weekSeries[at].value=this.activity.weeklySeries[at].value)})}onActivityDate(){this.dueDateInput=this.getDateTimecombined(this.timeInput),this.calenderLocked=this.util.isActivityLocked(this.dueDateInput)}onTimeChange(){this.timeInput=this.convertTo12Hours(this.time),this.onActivityDate()}getDateTimecombined(s){let C=this.datePipe.transform(this.dueDateInput,"MM/dd/yyyy, h:mm a").split(",")[0]+" "+s;return new Date(C)}convertTo12Hours(s){return this.datePipe.transform(s,"hh:mm a")}getDateWhenEnteredManually(s){let v=this.datePipe.transform((new Date).getTime(),"M/d/yy, h:mm a"),C=v.split(",")[0]+" "+s,q=new Date;return this.isValidDate(new Date(v.split(",")[0]+" "+s))&&(q=new Date(C)),q}isValidDate(s){return s instanceof Date&&!isNaN(s.getTime())}changeTitle(){var s,v;this.activity.title=null===(v=null===(s=this.activity)||void 0===s?void 0:s.wbs)||void 0===v?void 0:v.title}onEndsChanges(s){"after"==s&&(this.activity.endAfterDate=null),"on"==s&&(this.activity.endAfter=null)}checkEndsType(){this.ends=null!==this.activity.endAfter?"after":"on"}IsActvityFormInValid(){let s=!1;return s=this.setRepeatSeries()||this.checkStudentsCount()||this.checkNotes()||this.checkBtsSpecific(),s}setRepeatSeries(){return this.setSeries("save"),!(!this.activity.recurring||"WEEKLY"!=this.activity.occurenceType||!this.weekSeries.every(s=>!1===s.value)||(this.toastr.error("Select at least one day from repeat series"),0))}checkStudentsCount(){var s;const{requireStudent:v,isGroup:C}=this.activity.wbs,q=null===(s=this.activityStudents)||void 0===s?void 0:s.length;return!!(v&&0===q||!C&&q>1)}checkNotes(){return!this.activity.activityNote&&this.activity.wbs.requireNotes}checkBtsSpecific(){return!(!this.activity.wbs.isBts||this.activity.wbs.isBtsBillable||this.util.equalsIgnoreCase(this.activity.client.name,"Boothby Therapy Services")||(this.showErrorModal(),0))}isLocationRequired(){var s,v,C;return!((null===(s=this.activity)||void 0===s?void 0:s.isJoint)||(null===(C=null===(v=this.activity)||void 0===v?void 0:v.wbs)||void 0===C?void 0:C.isBts)||!this.isClientHasLocations)}getTimeMessage(){let s="";const v=new Date(this.dueDateInput),C=v.getDay(),q=v.getHours();let at=q>18||q<6,pt=0===C||6===C;return at&&(s="You're entering your session after typical work hours, is this accurate? If so, proceed!"),pt&&(s="We see you're posting on a weekend - is this accurate? Proceed to post or cancel..."),at&&pt&&(s="We see you're posting on a weekend, and also entering after typical hours, is this accurate? If so, proceed!"),s}showErrorModal(){this.errorModalRef=this.modalService.open(this.errorModal,{centered:!0,size:"lg",windowClass:"modal-holder"})}onClientChange(){this.activity.location=null,this.clearActivityStudents(),this.activity.client&&(this.clientId=this.activity.client.id,this.setLocationListAndFieldbyClientId(this.clientId),this.setStudentSearchList())}onPlacementChange(){this.clearActivityStudents()}clearActivityStudents(){this.activityStudents=[],this.activity.students=[]}setReadOnly(){var s;if(this.util.isAdmin()||"UNPOSTED"===(null===(s=this.activity)||void 0===s?void 0:s.status))return!0;this.isReadOnly=!0}roundMinutesToQuarter(s){const v=new Date(s),C=v.getMinutes(),q=C%15;return v.setMinutes(q<8?C-q:C+(15-q)),v}onCancelClicked(){this.modalService.dismissAll()}getUserAsync(s){return new Promise((v,C)=>{this._user_service.fetchUserById(s).then(q=>{let at=this._user_service.getData(q);this.userFull=at,v(at),this.loadingState=!1}).catch(q=>{this.loadingState=!1,console.log(q),C(q)})})}compareWith(s,v){return s.id===v.student.id}handleUIError(s){const v=`Unexpected error! please try again or ${t._W.CONTACT_SUPPORT_MSG} `,q={from:"Post Activity -- LINE:745",error:JSON.stringify(s,Object.getOwnPropertyNames(s)),activity:this.activity};this.toastr.error(v),this._activity_service.postUiLogs(q)}}return A.\u0275fac=function(s){return new(s||A)(e.Y36(T),e.Y36(g.O),e.Y36(p.M),e.Y36(y._),e.Y36(N.a),e.Y36($.V),e.Y36(z.y),e.Y36(st.P),e.Y36(dt.FF),e.Y36(nt.H7),e.Y36(ut.B),e.Y36(X._W),e.Y36(L.uU),e.Y36(B.Z))},A.\u0275cmp=e.Xpm({type:A,selectors:[["activity-entry"]],viewQuery:function(s,v){if(1&s&&e.Gf(mt,5),2&s){let C;e.iGM(C=e.CRH())&&(v.errorModal=C.first)}},inputs:{inputObj:"inputObj",startDateTime:"startDateTime",selectedUser:"selectedUser"},outputs:{onDataSaved:"onDataSaved"},decls:5,vars:5,consts:[[3,"show","config"],["style","width: 100%",3,"activity",4,"ngIf"],["name","form",3,"ngSubmit","keydown.enter",4,"ngIf"],["errorModal",""],[2,"width","100%",3,"activity"],["name","form",3,"ngSubmit","keydown.enter"],["addForm","ngForm"],[1,"modal-body","activity-entry","overflow-unset"],[1,"row","no-select"],[1,"col-lg-12"],[1,"form-body"],[1,"row","pb-3"],[1,"col-lg-6","col-md-6"],[1,"card","h-100"],[1,"card-body"],[1,"row"],[1,"form-group"],[3,"labelStr","isRequired"],["type","text","name","title","id","activity-title","placeholder","Title","required","","autocomplete","on","autofill","on",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["title","ngModel"],["class","invalid-feedback",4,"ngIf"],[1,"col-lg-12",3,"ngClass"],["name","provider","bindLabel","fullName",3,"items","dropdownPosition","placeholder","ngModel","clearable","ngModelChange","change"],["required","true","name","wbs","bindLabel","title",3,"ngClass","items","dropdownPosition","placeholder","ngModel","clearable","ngModelChange","change"],["wbs","ngModel"],[1,"col-md-12"],["title","Select the client for this Activity",1,"form-text","text-muted",2,"display","initial","margin-left","4px"],[1,"mdi","mdi-information-outline"],["bindLabel","name","name","client",3,"ngClass","ngModel","clearable","dropdownPosition","items","placeholder","required","ngModelChange","change"],["client","ngModel"],[3,"isRequired","labelStr"],["title","Select the client location for this Activity",1,"form-text","text-muted",2,"display","initial","margin-left","4px"],["bindLabel","title","name","location",3,"title","ngClass","ngModel","dropdownPosition","items","placeholder","required","disabled","ngModelChange"],["location","ngModel"],["class","text-danger",4,"ngIf"],["class","row",4,"ngIf"],[1,"card"],[1,"form-group",2,"margin-bottom","0px"],[1,"col-md-4"],[1,"input-group-append"],["autocomplete","off","type","text","bsDatepicker","","name","dateTimeDate","required","",1,"form-control",3,"minDate","placeholder","ngModel","bsConfig","ngClass","ngModelChange"],["dateTimeDate","ngModel"],[1,"input-group-text","icon-calender"],[1,"col-md-3"],["popTemplateTo",""],["autocomplete","off","type","text","placeholder","Time","bsTimepicker","","name","inputTime","required","",1,"form-control","input-sm",3,"popover","outsideClick","ngModel","ngModelChange"],["inputTime","ngModel"],[1,"fa","fa-clock",2,"position","absolute","right","20px","top","32px","color","#42a5f5"],["name","duration","required","",1,"form-control","browser-default","custom-select",3,"ngModel","ngClass","ngModelChange"],["duration","ngModel"],["selected","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","col-md-2 d-flex flex-column align-items-center",4,"ngIf"],["class","row mt-3",4,"ngIf"],["class","row mt-2",4,"ngIf"],[1,"my-2",2,"margin-top","1.0rem !important"],["name","activityNote",1,"form-control",3,"ngModel","required","ngModelChange"],["activityNote","ngModel"],["class","col-lg-12",4,"ngIf"],[1,"modal-footer"],[1,"d-flex","justify-content-between","flex-grow-1"],["class","form-controls-left",4,"ngIf"],[1,"form-controls-right","ml-auto"],["type","button","class","btn btn-danger",3,"loader","click",4,"ngIf"],[3,"loader","type","showSaveBtn","saveBtnSizeAndStyle","cancelBtnSizeAndStyle","onCancelClick"],[1,"invalid-feedback"],[4,"ngIf"],[1,"text-danger"],[1,"col-md-8"],[3,"labelStr"],[1,"custom-control","custom-checkbox"],["name","isJoint","type","checkbox","id","isJointId",1,"custom-control-input",3,"ngModel","change","ngModelChange"],["isJoint","ngModel"],["for","isJointId",1,"custom-control-label"],["class","custom-control custom-checkbox",4,"ngIf"],["name","seriesId","type","checkbox","id","seriesId",1,"custom-control-input",3,"ngModel","ngModelChange"],["seriesId","ngModel"],["for","seriesId",1,"custom-control-label",3,"title"],["canDecrementHours","true","canDecrementMinutes","true",2,"color","#2962ff",3,"ngModel","showMeridian","ngModelOptions","minuteStep","ngModelChange","click"],[3,"ngValue"],[1,"col-md-2","d-flex","flex-column","align-items-center"],[1,"custom-control","mt-2","custom-checkbox"],["name","recurring","type","checkbox","id","recurringId",1,"custom-control-input",3,"ngModel","ngModelChange","change"],["recurring","ngModel"],["for","recurringId",1,"custom-control-label"],[1,"row","mt-3"],["name","occurenceType",1,"custom-select",3,"ngModel","ngModelChange"],[1,"control-label"],["name","entDrop",1,"form-control","custom-select",3,"ngModel","ngModelChange"],["entDrop","ngModel"],["value","null","disabled",""],["value","after"],["value","on"],["class","col-md-4",4,"ngIf"],["class","col-lg-4",4,"ngIf"],["autocomplete","off","type","text","bsDatepicker","","name","repeatEndDateTime","required","",1,"form-control",3,"placeholder","ngModel","bsConfig","value","ngClass","ngModelChange"],["repeatEndDateTime","ngModel"],[1,"col-lg-4"],["disable-scrolling","","type","number","name","occurance","placeholder","Occurance","required","","autocomplete","on","autofill","on",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["occurance","ngModel"],[1,"row","mt-2"],[1,"col-md-9","d-flex","flex-row","justify-content-start"],["class","bg-color",4,"ngFor","ngForOf"],[1,"bg-color"],[1,"bg-item"],[1,"custom-control","custom-checkbox","col-md-1"],["type","checkbox",1,"custom-control-input",3,"id","name","ngModel","ngModelChange"],[1,"custom-control-label",3,"for"],[1,"form-group","has-danger"],["title","select students for activity",1,"form-text","text-muted",2,"display","initial","margin-left","4px"],["name","students","bindLabel","fullNameWithClient",3,"multiple","items","dropdownPosition","placeholder","ngModel","ngModelChange"],[1,"py-0","mt-2"],["class","badge me-2 bg-primary text-white",4,"ngFor","ngForOf"],[1,"badge","me-2","bg-primary","text-white"],["title","Authored Info","class","col-md-3",4,"ngIf"],["title","Authored Info",1,"col-md-3"],[1,"font-12",3,"labelStr","isRequired"],[1,"text-muted",2,"display","block"],[1,"form-controls-left"],["type","button",1,"btn","btn-danger","mr-auto",3,"loader","click"],["type","button",1,"btn","btn-danger",3,"loader","click"],[1,"text-white","modal-header","p-3"],[1,"modal-title"],["data-dismiss","modal",1,"cursorPointer",3,"click"],[1,"mdi","mdi-close"],[1,"modal-body"],[3,"innerHTML"],["type","button",1,"btn","btn-light",3,"click"]],template:function(s,v){1&s&&(e._UZ(0,"ngx-loading",0),e.YNc(1,At,1,1,"app-activity-detail",1),e.YNc(2,zt,105,98,"form",2),e.YNc(3,Gt,13,1,"ng-template",null,3,e.W1O)),2&s&&(e.Q6J("show",v.loadingState)("config",e.DdM(4,Xt)),e.xp6(1),e.Q6J("ngIf",v.isReadOnly),e.xp6(1),e.Q6J("ngIf",!v.isReadOnly))},directives:[j.RJ,L.O5,ot.o,G._Y,G.JL,G.F,lt.t,G.Fj,G.Q7,G.JJ,G.On,L.mk,it.w9,O.Y5,O.Np,I.k5,G.EJ,G.YN,G.Kr,L.sg,_.t,G.Wl,Z.EV,G.wV,W.p],pipes:[k.X$,L.uU,ct.W],styles:[".nav a.nav-link.active,   .nav .show > a.nav-link {\r\n  color: #fff;\r\n  background-color: #0346ff;\r\n}\r\n.padding-top-0[_ngcontent-%COMP%] {\r\n  padding-top: 0rem;\r\n}\r\n.lol-custom-prepend[_ngcontent-%COMP%] {\r\n  margin-top: 21px;\r\n  height: 35px;\r\n}\r\n.cursor-pointer[_ngcontent-%COMP%]:hover {\r\n  cursor: pointer;\r\n}\r\n.disable[_ngcontent-%COMP%] {\r\n  cursor: no-drop;\r\n}\r\n.lol-mod-matter-select[_ngcontent-%COMP%] {\r\n  width: calc(100% - 20px);\r\n}\r\n.btn-viewMatter[_ngcontent-%COMP%] {\r\n  padding-left: 10px;\r\n}\r\n.btn-viewMatter[_ngcontent-%COMP%]:hover {\r\n  transition: 0.5s;\r\n  color: #06c;\r\n}\r\n  .lol-notification-list .form-group {\r\n  margin-bottom: 0.25rem !important;\r\n}\r\n.person-pill-pic[_ngcontent-%COMP%] {\r\n  margin-right: 10px;\r\n  border-radius: 50%;\r\n  height: 28px;\r\n  width: 28px;\r\n  line-height: 28px;\r\n  text-align: center;\r\n  transition: 1.2s;\r\n}\r\n.disable-gray[_ngcontent-%COMP%] {\r\n  background-color: gray !important;\r\n  opacity: 0.5;\r\n}\r\n .multiselect-dropdown > div > span.dropdown-btn {\r\n  border-color: #e9ecef !important;\r\n}\r\n .multiselect-dropdown .dropdown-list {\r\n  position: absolute !important;\r\n  max-width: 100%;\r\n}\r\n .positionSticky .multiselect-dropdown .dropdown-list {\r\n  position: sticky !important;\r\n}\r\n.invalidField[_ngcontent-%COMP%] {\r\n  border: 1px solid red;\r\n  display: block;\r\n}\r\nselect.decorated[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover {\r\n  box-shadow: 0 0 10px 100px #e0dada70 inset;\r\n}\r\n.dropdown-toggle[_ngcontent-%COMP%]::after {\r\n  display: none;\r\n}\r\n.dropdown-toggle.calendar-color-0[_ngcontent-%COMP%], .dropdown-item.calendar-color-0[_ngcontent-%COMP%] {\r\n  background-color: transparent;\r\n}\r\n.dropdown-toggle.calendar-color-1[_ngcontent-%COMP%], .dropdown-item.calendar-color-1[_ngcontent-%COMP%] {\r\n  background-color: #a4bdfc;\r\n}\r\n.dropdown-toggle.calendar-color-2[_ngcontent-%COMP%], .dropdown-item.calendar-color-2[_ngcontent-%COMP%] {\r\n  background-color: #7ae7bf !important;\r\n}\r\n.dropdown-toggle.calendar-color-3[_ngcontent-%COMP%], .dropdown-item.calendar-color-3[_ngcontent-%COMP%] {\r\n  background-color: #dbadff;\r\n}\r\n.dropdown-toggle.calendar-color-4[_ngcontent-%COMP%], .dropdown-item.calendar-color-4[_ngcontent-%COMP%] {\r\n  background-color: #ff887c;\r\n}\r\n.dropdown-toggle.calendar-color-5[_ngcontent-%COMP%], .dropdown-item.calendar-color-5[_ngcontent-%COMP%] {\r\n  background-color: #fbd75b;\r\n}\r\n.dropdown-toggle.calendar-color-6[_ngcontent-%COMP%], .dropdown-item.calendar-color-6[_ngcontent-%COMP%] {\r\n  background-color: #ffb878;\r\n}\r\n.dropdown-toggle.calendar-color-7[_ngcontent-%COMP%], .dropdown-item.calendar-color-7[_ngcontent-%COMP%] {\r\n  background-color: #46d6db;\r\n}\r\n.dropdown-toggle.calendar-color-8[_ngcontent-%COMP%], .dropdown-item.calendar-color-8[_ngcontent-%COMP%] {\r\n  background-color: #e1e1e1;\r\n}\r\n.dropdown-toggle.calendar-color-9[_ngcontent-%COMP%], .dropdown-item.calendar-color-9[_ngcontent-%COMP%] {\r\n  background-color: #5484ed;\r\n}\r\n.dropdown-toggle.calendar-color-10[_ngcontent-%COMP%], .dropdown-item.calendar-color-10[_ngcontent-%COMP%] {\r\n  background-color: #51b749;\r\n}\r\n.dropdown-toggle.calendar-color-11[_ngcontent-%COMP%], .dropdown-item.calendar-color-11[_ngcontent-%COMP%] {\r\n  background-color: #dc2127;\r\n}\r\n.lol-helper-icon[_ngcontent-%COMP%] {\r\n  display: block;\r\n  float: right;\r\n  top: -12px;\r\n  position: relative;\r\n  z-index: 2;\r\n}\r\n.lol-note-area[_ngcontent-%COMP%] {\r\n  margin-top: 20px;\r\n}"]}),A})()},5870:function(et,U,r){r.d(U,{p:function(){return o}});var e=r(7716);let o=(()=>{class n{onWheel(h){"number"===h.target.type&&h.preventDefault()}}return n.\u0275fac=function(h){return new(h||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","disable-scrolling",""]],hostBindings:function(h,t){1&h&&e.NdJ("wheel",function(c){return t.onWheel(c)})}}),n})()},3211:function(et,U,r){r.d(U,{v:function(){return o}});var e=r(7716);let o=(()=>{class n{constructor(){this.setPatternValue=new e.vpe}onModelChange(h){this.onInputChange(h,!1)}keydownBackspace(h){this.onInputChange(h.target.value,!0)}onInputChange(h,t){let u=h.replace(/\D/g,"");t&&u.length<=6&&(u=u.substring(0,u.length-1)),0===u.length?u="":u.length<=3?u=u.replace(/^(\d{0,3})/,"($1)"):u.length<=6?u=u.replace(/^(\d{0,3})(\d{0,3})/,"($1) $2"):(u.length<=10||(u=u.substring(0,10)),u=u.replace(/^(\d{0,3})(\d{0,3})(\d{0,4})/,"($1) $2-$3")),this.setPatternValue.emit(u)}}return n.\u0275fac=function(h){return new(h||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","appPhoneMask",""]],hostBindings:function(h,t){1&h&&e.NdJ("ngModelChange",function(c){return t.onModelChange(c)})("keydown.backspace",function(c){return t.keydownBackspace(c)})},outputs:{setPatternValue:"setPatternValue"}}),n})()},1314:function(et,U,r){r.d(U,{t:function(){return n}});var e=r(7716),o=r(9790);let n=(()=>{class i{constructor(){this.labelStr="",this.classList="",this.isRequired=!1,this.radioOrCheckBxId=""}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["field-label"]],inputs:{labelStr:"labelStr",classList:"classList",isRequired:"isRequired",radioOrCheckBxId:"radioOrCheckBxId"},decls:5,vars:7,consts:[[1,"float-right","font-12","text-danger","mb-0"]],template:function(t,u){1&t&&(e.TgZ(0,"label"),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"label",0),e._uU(4),e.qZA()),2&t&&(e.Gre("control-label mb-0 ",u.classList,""),e.xp6(1),e.Oqu(e.lcZ(2,5,u.labelStr)),e.xp6(3),e.Oqu(u.isRequired?"*":""))},pipes:[o.X$],styles:[""]}),i})()},8429:function(et,U,r){r.d(U,{r:function(){return c}});var e=r(7716),o=r(9075),n=r(2664),i=r(5819),h=r(1321),t=r(8682);const u=function(T){return{"round-image":T}};let c=(()=>{class T{constructor(p,y){this.sanitizer=p,this.modalService=y,this.imageChangedEvent="",this.croppedImage="",this.cropperImageEvent=null,this.selectedImageEvent=null,this.isRoundCropper=!0,this.onImgCropped=new e.vpe}ngOnInit(){this.fileChangeEvent(this.selectedImageEvent)}fileChangeEvent(p){this.imageChangedEvent=p}imageCropped(p){this.cropperImageEvent=p,this.croppedImage=p.base64}imageLoaded(){}cropperReady(){}loadImageFailed(){}blobToImageFile(){return new File([this.cropperImageEvent.file],this.selectedImageEvent.target.files.item(0).name,{type:this.selectedImageEvent.target.files.item(0).type})}onSave(){this.compressImage()}compressImage(){let p=this.blobToImageFile();this.onImgCropped.emit(p)}}return T.\u0275fac=function(p){return new(p||T)(e.Y36(o.H7),e.Y36(n.FF))},T.\u0275cmp=e.Xpm({type:T,selectors:[["pic-cropper"]],inputs:{selectedImageEvent:"selectedImageEvent",isRoundCropper:"isRoundCropper"},outputs:{onImgCropped:"onImgCropped"},decls:21,vars:11,consts:[[1,"modal-body"],[1,"row"],[1,"col-7"],[1,"card"],[1,"card-body","p-2"],[1,"m-r-10"],["outputType","both","format","png",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToHeight","resizeToWidth","onlyScaleDown","roundCropper","imageCropped","imageLoaded","cropperReady","loadImageFailed"],[1,"col-5","mt-auto","mb-auto"],[1,"d-flex","justify-content-end"],[1,"image-container"],[2,"width","100%",3,"src","ngClass"],["type","file",1,"select-profile-picture",3,"change"],[1,"message"],[1,"background"],[1,"modal-footer"],[3,"onBtnClick","onCancelClick"]],template:function(p,y){1&p&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"image-cropper",6),e.NdJ("imageCropped",function($){return y.imageCropped($)})("imageLoaded",function(){return y.imageLoaded()})("cropperReady",function(){return y.cropperReady()})("loadImageFailed",function(){return y.loadImageFailed()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",7),e.TgZ(8,"div",3),e.TgZ(9,"div",4),e.TgZ(10,"div",8),e.TgZ(11,"div",9),e._UZ(12,"img",10),e._UZ(13,"br"),e.TgZ(14,"input",11),e.NdJ("change",function($){return y.fileChangeEvent($)}),e.qZA(),e.TgZ(15,"span",12),e._uU(16,"Change photo"),e.qZA(),e._UZ(17,"div",13),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",14),e.TgZ(19,"div",8),e.TgZ(20,"app-save-button",15),e.NdJ("onBtnClick",function(){return y.onSave()})("onCancelClick",function(){return y.modalService.dismissAll()}),e.qZA(),e.qZA(),e.qZA()),2&p&&(e.xp6(6),e.Q6J("imageChangedEvent",y.imageChangedEvent)("maintainAspectRatio",y.isRoundCropper)("aspectRatio",1)("resizeToHeight",250)("resizeToWidth",250)("onlyScaleDown",!0)("roundCropper",y.isRoundCropper),e.xp6(6),e.Q6J("src",y.sanitizer.bypassSecurityTrustUrl(y.croppedImage?y.croppedImage:"assets/images/users/default.jpg"),e.LSH)("ngClass",e.VKq(9,u,y.isRoundCropper)))},directives:[i.a,h.mk,t.t],styles:[""]}),T})()},1464:function(et,U,r){r.d(U,{W:function(){return o}});var e=r(7716);let o=(()=>{class n{transform(h,t="---"){return null===h||""===h||"null"===h?t:h}}return n.\u0275fac=function(h){return new(h||n)},n.\u0275pipe=e.Yjl({name:"nullToDash",type:n,pure:!0}),n})()},6876:function(et,U,r){r.d(U,{y:function(){return n}});var e=r(7716),o=r(9075);let n=(()=>{class i{constructor(t){this.sanitizer=t}transform(t,u){switch(u){case"html":return this.sanitizer.bypassSecurityTrustHtml(t);case"style":return this.sanitizer.bypassSecurityTrustStyle(t);case"script":return this.sanitizer.bypassSecurityTrustScript(t);case"url":return this.sanitizer.bypassSecurityTrustUrl(t);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(t);default:throw new Error(`Invalid safe type specified: ${u}`)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(o.H7,16))},i.\u0275pipe=e.Yjl({name:"safe",type:i,pure:!0}),i})()},1201:function(et,U,r){r.d(U,{F:function(){return o}});var e=r(7716);let o=(()=>{class n{transform(h,t,u=!1){if(Array.isArray(h))return h.sort((c,T)=>{let g=0;return c[t]>T[t]?g=1:c[t]<T[t]&&(g=-1),u&&(g*=-1),g}),h}}return n.\u0275fac=function(h){return new(h||n)},n.\u0275pipe=e.Yjl({name:"sort",type:n,pure:!0}),n})()},2741:function(et,U,r){r.d(U,{p:function(){return n}});var e=r(9765),o=r(7716);let n=(()=>{class i{constructor(){this.subject=new e.xQ}apply(t){this.subject.next(t)}getService(){return this.subject.asObservable()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},8946:function(et,U,r){r.d(U,{I:function(){return i}});var e=r(7716),o=r(1321);function n(h,t){if(1&h&&(e.TgZ(0,"div",3),e._UZ(1,"div",4),e.qZA()),2&h){const u=e.oxw();e.xp6(1),e.Q6J("ngClass",u.classList)}}let i=(()=>{class h{constructor(){this.rows=5,this.classList="ph-col-12 big"}ngOnInit(){this.list=Array(this.rows).fill(0).map((u,c)=>c)}ngOnDestroy(){}}return h.\u0275fac=function(u){return new(u||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["table-loading"]],inputs:{rows:"rows",classList:"classList"},decls:3,vars:1,consts:[[1,"ph-item","p-0","m-0","border-0","lol-table-loading"],[1,"ph-col-12"],["class","ph-row",4,"ngFor","ngForOf"],[1,"ph-row"],[3,"ngClass"]],template:function(u,c){1&u&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,n,2,1,"div",2),e.qZA(),e.qZA()),2&u&&(e.xp6(2),e.Q6J("ngForOf",c.list))},directives:[o.sg,o.mk],styles:['.ph-item[_ngcontent-%COMP%]:before {\r\n    content: " ";\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 50%;\r\n    z-index: 1;\r\n    width: 500%;\r\n    margin-left: -250%;\r\n    animation: phAnimation .8s linear infinite;\r\n    background: linear-gradient(\r\n90deg\r\n,hsla(0,0%,100%,0) 46%,hsla(0,0%,100%,.35) 50%,hsla(0,0%,100%,0) 54%) 50% 50%;\r\n}\r\n\r\n\r\n.ph-row[_ngcontent-%COMP%] {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    margin-bottom: 7.5px;\r\n\tbackground-color: #ced4da !important;\r\n\theight: 20px !important;\r\n    margin-bottom: 20px !important;\r\n}\r\n\r\n\r\n.ph-row.big[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\r\n\theight: 20px !important;\r\n    margin-bottom: 20px !important;\r\n\r\n}\r\n\r\n\r\n.ph-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\r\n    height: 10px;\r\n    margin-bottom: 7.5px;\r\n    background-color: #ced4da;\r\n}\r\n\r\n\r\n.lol-table-loading[_ngcontent-%COMP%]   .ph-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\r\n     background-color: #757575;\r\n    }']}),h})()},3244:function(et,U,r){r.d(U,{K:function(){return n},o:function(){return i}});var e=r(9765),o=r(7716);let n=(()=>{class h{constructor(){this.columnSortedSource=new e.xQ,this.multiColsSort=new e.xQ,this.columnSorted$=this.columnSortedSource.asObservable(),this.multiColsSort$=this.multiColsSort.asObservable()}columnSorted(u){this.columnSortedSource.next(u)}multiColumn(u){this.multiColsSort.next(u)}}return h.\u0275fac=function(u){return new(u||h)},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();class i{static sortByProperty(t,u,c){t.sort((T,g)=>{const p=T[u],y=g[u];return"number"==typeof p&&"number"==typeof y?p-y:i.naturalSort(String(p),String(y))}),"desc"===c&&t.reverse()}static naturalSort(t,u){const c=/\d+/g,T=t.split(c).filter(Boolean),g=u.split(c).filter(Boolean),p=(t.match(c)||[]).map(Number),y=(u.match(c)||[]).map(Number);let N=0,$=0;for(;N<T.length||$<g.length||N<p.length||$<y.length;){const z=T[N]||"",st=g[$]||"";if(z!==st)return z.localeCompare(st);const dt=void 0!==p[N]?p[N]:-1/0,nt=void 0!==y[$]?y[$]:-1/0;if(dt!==nt)return dt-nt;N++,$++}return 0}}},6975:function(et,U,r){r.d(U,{Q:function(){return n}});var e=r(7716),o=r(3244);let n=(()=>{class i{constructor(t){this.sortService=t,this.sorted=new e.vpe,this.isMultiSort=!1,this.multiSorted=[],this.localSortData=[]}ngOnInit(){this.columnSortedSubscription=this.sortService.columnSorted$.subscribe(t=>{if(t.isLocalSort)return o.o.sortByProperty(this.localSortData,t.sortColumn,t.sortDirection),this.multiSorted=[],this.sortService.multiColumn(this.multiSorted),void this.sorted.emit(null);if(this.isMultiSort){const u=this.multiSorted.findIndex(c=>c.sortColumn==t.sortColumn);return t.sortDirection?-1==u?this.multiSorted.push(t):this.multiSorted[u].sortDirection=t.sortDirection:this.multiSorted=this.multiSorted.filter(c=>c.sortColumn!==t.sortColumn),this.sorted.emit(this.multiSorted),void this.sortService.multiColumn(this.multiSorted)}this.sorted.emit(t)})}ngOnDestroy(){this.columnSortedSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(o.K))},i.\u0275dir=e.lG2({type:i,selectors:[["","sortable-table",""]],inputs:{isMultiSort:"isMultiSort",multiSorted:"multiSorted",localSortData:"localSortData"},outputs:{sorted:"sorted"}}),i})()},9481:function(et,U,r){r.d(U,{L:function(){return Zt}});var e=r(7716),o=r(8852),n=r(9269),i=r(2664),h=r(1831),t=r(9344),u=r(9426),c=r(4339),T=r(2875),g=r(955),p=r(2663),y=r(3679),N=r(1321),$=r(1314),z=r(6640),st=r(8682),dt=r(9790);function nt(Y,rt){1&Y&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&Y&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"First Name")," is required "))}function ut(Y,rt){if(1&Y&&(e.TgZ(0,"div",43),e.YNc(1,nt,3,3,"div",24),e.qZA()),2&Y){e.oxw();const D=e.MAs(12);e.xp6(1),e.Q6J("ngIf",null==D?null:D.errors.required)}}function X(Y,rt){1&Y&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&Y&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Last Name")," is required "))}function L(Y,rt){if(1&Y&&(e.TgZ(0,"div",43),e.YNc(1,X,3,3,"div",24),e.qZA()),2&Y){e.oxw();const D=e.MAs(25);e.xp6(1),e.Q6J("ngIf",null==D?null:D.errors.required)}}function B(Y,rt){if(1&Y&&(e.ynx(0),e.TgZ(1,"ng-option",44),e._uU(2),e.qZA(),e.BQk()),2&Y){const D=rt.$implicit;e.xp6(1),e.Q6J("value",D),e.xp6(1),e.Oqu(D.name)}}function j(Y,rt){1&Y&&(e.TgZ(0,"div",46),e._uU(1,"Client is required"),e.qZA())}function ot(Y,rt){if(1&Y&&(e.TgZ(0,"div"),e.YNc(1,j,2,0,"div",45),e.qZA()),2&Y){const D=e.oxw();e.xp6(1),e.Q6J("ngIf",!D.student.client)}}function G(Y,rt){if(1&Y&&(e.TgZ(0,"ng-option",44),e._uU(1),e.qZA()),2&Y){const D=e.oxw().$implicit;e.Q6J("value",D),e.xp6(1),e.Oqu(D.title)}}function lt(Y,rt){if(1&Y&&(e.ynx(0),e.YNc(1,G,2,2,"ng-option",47),e.BQk()),2&Y){const D=rt.$implicit;e.xp6(1),e.Q6J("ngIf",!D.deleted)}}function it(Y,rt){if(1&Y){const D=e.EpF();e.TgZ(0,"li",53),e.TgZ(1,"span",54),e._uU(2),e.TgZ(3,"span",55),e.NdJ("click",function(){const E=e.CHM(D).$implicit;return e.oxw(2).removeProvider(E.id)}),e.qZA(),e.qZA(),e.qZA()}if(2&Y){const D=rt.$implicit;e.xp6(2),e.hij(" ",D.user.fullName," ")}}function O(Y,rt){if(1&Y){const D=e.EpF();e.TgZ(0,"div",48),e.TgZ(1,"div",49),e.TgZ(2,"div",5),e.TgZ(3,"div",30),e.TgZ(4,"h4",31),e._uU(5,"Providers"),e.qZA(),e.qZA(),e.TgZ(6,"div",32),e.TgZ(7,"div",7),e.TgZ(8,"div",38),e.TgZ(9,"div",9),e.TgZ(10,"ng-select",50),e.NdJ("ngModelChange",function(K){return e.CHM(D),e.oxw().student.providers=K})("change",function(K){return e.CHM(D),e.oxw().onUserChanged(K)}),e.qZA(),e.qZA(),e.TgZ(11,"ul",51),e.YNc(12,it,4,1,"li",52),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&Y){const D=e.oxw();e.xp6(10),e.Q6J("multiple",!0)("items",D.users)("dropdownPosition","bottom")("placeholder","Select Providers")("ngModel",D.student.providers)("compareWith",D.compareWith),e.xp6(2),e.Q6J("ngForOf",D.student.providers)}}function I(Y,rt){1&Y&&e._UZ(0,"field-label",14),2&Y&&e.Q6J("labelStr","Service Type")}const _=function(Y){return{"disabled-option":Y}};function Z(Y,rt){if(1&Y&&(e.TgZ(0,"option",66),e._uU(1),e.qZA()),2&Y){const D=rt.$implicit,w=e.oxw().index,K=e.oxw();e.Q6J("ngClass",e.VKq(4,_,K.disableSelected(D,w)))("ngValue",D)("disabled",K.disableSelected(D,w)),e.xp6(1),e.hij(" ",D.title," ")}}function W(Y,rt){1&Y&&e._UZ(0,"field-label",14),2&Y&&e.Q6J("labelStr","Po Number")}const k=function(Y){return{"pt-4":Y}};function ct(Y,rt){if(1&Y){const D=e.EpF();e.TgZ(0,"div",7),e.TgZ(1,"div",56),e.TgZ(2,"div",9),e.YNc(3,I,1,1,"field-label",57),e.TgZ(4,"select",58,59),e.NdJ("ngModelChange",function(K){return e.CHM(D).$implicit.serviceType=K}),e.TgZ(6,"option",60),e._uU(7,"Select Service Type..."),e.qZA(),e.YNc(8,Z,2,6,"option",61),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",8),e.TgZ(10,"div",9),e.YNc(11,W,1,1,"field-label",57),e.TgZ(12,"input",62),e.NdJ("ngModelChange",function(K){return e.CHM(D).$implicit.servicePo=K}),e.ALo(13,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",63),e.TgZ(15,"span"),e.TgZ(16,"a",64),e.NdJ("click",function(){const E=e.CHM(D).index;return e.oxw().removeItem(E)}),e._UZ(17,"i",65),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&Y){const D=rt.$implicit,w=rt.index,K=e.oxw();let E;e.xp6(3),e.Q6J("ngIf",0==w),e.xp6(1),e.MGl("name","service-",null!==(E=D.id)&&void 0!==E?E:D.localId,""),e.Q6J("ngModel",D.serviceType),e.xp6(2),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",K.serviceTypes),e.xp6(3),e.Q6J("ngIf",0==w),e.xp6(1),e.MGl("name","servicePo-",w,""),e.s9C("placeholder",e.lcZ(13,10," ")),e.Q6J("ngModel",D.servicePo),e.xp6(2),e.Q6J("ngClass",e.VKq(12,k,0==w))}}function mt(Y,rt){if(1&Y){const D=e.EpF();e.TgZ(0,"button",67),e.NdJ("click",function(){return e.CHM(D),e.oxw().onsubmit(!1)}),e._uU(1,"Save & Add New"),e.qZA()}}const At=function(){return{backdropBorderRadius:"3px"}},ht=function(Y){return{"is-invalid":Y}};let Zt=(()=>{class Y{constructor(D,w,K,E,Q,m,P){this.modalService=D,this.util=w,this.toastr=K,this.eventService=E,this.studentService=Q,this.confirmDialog=m,this._locations_service=P,this.onSave=new e.vpe,this.inputObj=null,this.readOnly=!1,this.defaultSelectedClient=null,this.permissions=new n.m,this.student=new o.Db,this.loading=!1,this.loadingState=!1,this.disabled=!1,this.total=0,this.limit=10,this.page=0,this.clientsOptions=[],this.clientLocations=[],this.serviceTypes=[],this.saveAddNewLoader=!1,this.users=this.util.getBtsUsersListsFromSession()}ngOnInit(){var D;this.permissions=this.util.getAllowedPermissions(),this.serviceTypes=this.util.getBtsServiceTypesFromSession(),this.clientsOptions=this.util.getBtsActiveClientFromSession(),null!=this.inputObj&&(this.student=this.inputObj),this.student&&(null===(D=this.student)||void 0===D?void 0:D.id)?this.fetchStudent(this.student.id):this.selectDefaultFields()}fetchStudent(D){this.loading=!0,this.studentService.fetchStudentById(D).then(w=>{this.loading=!1,this.student=this.studentService.getData(w),this.onClientChange(!1),this.setServiceTypes(),this.loading=!1}).catch(w=>{this.loading=!1,console.log("error",w)})}onsubmit(D=!0,w=!1){this.setLoading(D),this.student.treatments=this.student.treatments.filter(K=>null!==K.serviceType),this.studentService.saveStudent(this.student,w).then(K=>{this.studentService.getData(K),this.util.setLastStudentDetailToSession(this.student),this.showToast(),D?this.modalService.dismissAll():(this.student=new o.Db,this.setStudentFromSession()),this.student.id?this.eventService.onStudentEventUpdate.emit(this.studentService):this.eventService.onStudentSaveEventSaved.emit(this.studentService),this.resetLoading()}).catch(K=>{this.resetLoading(),400==K.code&&this.confirmDialog.confirm(K.message).then(E=>{E&&this.onsubmit(D,!0)})})}showToast(){this.toastr.success(null===this.inputObj?this.student.firstName+" Added":this.student.firstName+" Updated","Success")}onClientChange(D=!0){var w,K;(null===(w=this.student.client)||void 0===w?void 0:w.id)&&this._locations_service.fetchByClientId(null===(K=this.student.client)||void 0===K?void 0:K.id).then(E=>{this.clientLocations=this._locations_service.getData(E),D&&this.clearLocation()}).catch(E=>{console.log(E)})}setServiceTypes(){var D;(null===(D=this.student)||void 0===D?void 0:D.treatments)?this.student.treatments.forEach((w,K)=>{this.serviceTypes.forEach((E,Q)=>{this.serviceTypes[Q].id==this.student.treatments[K].serviceType.id&&(this.student.treatments[K].serviceType=this.serviceTypes[Q])})}):this.student.treatments=[]}disableSelected(D,w){let K=!1;for(let E=0;E<this.student.treatments.length;E++){let Q=this.student.treatments[E];if(null!=Q.serviceType&&Q.serviceType.id){if(D.id==Q.serviceType.id&&E!==w){K=!0;break}K=!1}}return K}addServiceRecord(){let D=this.generateId();this.student.treatments.push(new o.To(D))}removeItem(D){this.student.treatments.splice(D,1)}removeProvider(D){this.student.providers=this.student.providers.filter(w=>w.id!==D)}onUserChanged(D){this.student.providers=[],D.forEach(w=>{let K=new o.DV;K.id=null,K.deleted=!1,K.student=null,K.user=w,this.student.providers.push(K)})}compareWith(D,w){return D.id===w.user.id}getEditorToolbar(){return this.util.getEditorToolbarOptions()}onCancelClicked(){this.modalService.dismissAll()}generateId(){let D=Date.now().toString(36);for(;this.student.treatments.some(w=>w.localId===D);)D+=Math.floor(10*Math.random());return D}selectDefaultFields(){this.defaultSelectedClient&&(this.student.client=this.defaultSelectedClient,this.onClientChange())}setStudentFromSession(){let D=this.util.getLastStudentDetailFromSession();D&&(this.student.client=D.client,this.student.location=D.location,this.onClientChange(!1),this.student.providers=D.providers)}setLoading(D){this.loading=!0,D?this.loading=!0:this.saveAddNewLoader=!0}resetLoading(){this.loading=!1,this.saveAddNewLoader=!1,this.loading=!1}clearLocation(){this.student.location=null}onClientClear(){this.clearLocation(),this.clientLocations=[]}}return Y.\u0275fac=function(D){return new(D||Y)(e.Y36(i.FF),e.Y36(h.Z),e.Y36(t._W),e.Y36(u.P),e.Y36(c.V),e.Y36(T.O),e.Y36(g._))},Y.\u0275cmp=e.Xpm({type:Y,selectors:[["app-add-edit-student"]],inputs:{inputObj:"inputObj",readOnly:"readOnly",defaultSelectedClient:"defaultSelectedClient"},outputs:{onSave:"onSave"},decls:72,vars:61,consts:function(){let rt;return rt=$localize`:␟a7df419a854d2404c7b3eab6e72120b047d01a0b␟866856512906807014: Add Service `,[[3,"show","config"],["name","form",3,"ngSubmit","keydown.enter"],["addForm","ngForm"],[1,"modal-body",3,"ngClass"],[1,"form-body"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-4"],[1,"form-group"],[3,"labelStr","isRequired"],["type","text","name","firstName","autocomplete","off","required","",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["firstName","ngModel"],["class","invalid-feedback",4,"ngIf"],[3,"labelStr"],["type","text","name","middleName",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["middleName","ngModel"],["type","text","name","lastName","required","",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["title","ngModel"],[1,"col-md-6"],["title","Select the client for this student",1,"form-text","text-muted",2,"display","initial","margin-left","4px"],[1,"mdi","mdi-information-outline"],["name","client","bindLabel","name",3,"items","dropdownPosition","placeholder","ngModel","ngModelChange","change","clear"],[4,"ngFor","ngForOf"],[4,"ngIf"],["title","Select the client location for this student",1,"form-text","text-muted",2,"display","initial","margin-left","4px"],["name","location","bindLabel","title",3,"items","dropdownPosition","placeholder","ngModel","ngModelChange"],["type","text","name","profilePictureUrl",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["profilePictureUrl","ngModel"],["class","row mt-3",4,"ngIf"],[1,"card-toolbar"],[1,"card-title"],[1,"card-body","pt-0"],["class","row",4,"ngFor","ngForOf"],[1,"row","col-md-5"],["type","button",1,"btn","btn-outline-info","btn-sm","mt-2",3,"click"],rt,[1,"col-lg-12"],[1,"col-md-12"],[1,"modal-footer"],[1,"row","form-controls-right"],["type","button","class","btn btn-outline-success",3,"click",4,"ngIf"],[3,"loader","type","text","saveBtnTitle","showSaveBtn","saveBtnSizeAndStyle","cancelBtnSizeAndStyle","onCancelClick"],[1,"invalid-feedback"],[3,"value"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[3,"value",4,"ngIf"],[1,"row","mt-3"],[1,"col-lg-12","col-md-12"],["name","providers","bindLabel","fullName","bindValue","id",3,"multiple","items","dropdownPosition","placeholder","ngModel","compareWith","ngModelChange","change"],[1,"py-2"],["class","badge mt-2 me-2 bg-success text-white p-2",4,"ngFor","ngForOf"],[1,"badge","mt-2","me-2","bg-success","text-white","p-2"],[1,"badge-text"],[1,"mdi","badge-icon","mdi-close-circle",3,"click"],[1,"col-md-7"],[3,"labelStr",4,"ngIf"],[1,"browser-default","custom-select",3,"name","ngModel","ngModelChange"],["serviceType","ngModel"],["selected","",3,"ngValue"],[3,"ngClass","ngValue","disabled",4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"name","ngModel","placeholder","ngModelChange"],[1,"col-md-1","text-center","font-22",3,"ngClass"],["href","javascript:void(0)","title","Remove",3,"click"],[1,"mdi","mdi-close","btn-remove","text-danger"],[3,"ngClass","ngValue","disabled"],["type","button",1,"btn","btn-outline-success",3,"click"]]},template:function(D,w){if(1&D){const K=e.EpF();e._UZ(0,"ngx-loading",0),e.TgZ(1,"form",1,2),e.NdJ("ngSubmit",function(){return e.CHM(K),e.MAs(2).form.valid&&w.onsubmit()})("keydown.enter",function(Q){return Q.preventDefault()}),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e.TgZ(8,"div",8),e.TgZ(9,"div",9),e._UZ(10,"field-label",10),e.TgZ(11,"input",11,12),e.NdJ("ngModelChange",function(Q){return w.student.firstName=Q}),e.ALo(13,"translate"),e.qZA(),e.YNc(14,ut,2,1,"div",13),e.qZA(),e.qZA(),e.TgZ(15,"div",8),e.TgZ(16,"div",9),e._UZ(17,"field-label",14),e.TgZ(18,"input",15,16),e.NdJ("ngModelChange",function(Q){return w.student.middleName=Q}),e.ALo(20,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",8),e.TgZ(22,"div",9),e._UZ(23,"field-label",10),e.TgZ(24,"input",17,18),e.NdJ("ngModelChange",function(Q){return w.student.lastName=Q}),e.ALo(26,"translate"),e.qZA(),e.YNc(27,L,2,1,"div",13),e.qZA(),e.qZA(),e.qZA(),e._UZ(28,"div",7),e.TgZ(29,"div",7),e.TgZ(30,"div",19),e.TgZ(31,"div",9),e._UZ(32,"field-label",10),e.TgZ(33,"label",20),e._UZ(34,"i",21),e.qZA(),e.TgZ(35,"ng-select",22),e.NdJ("ngModelChange",function(Q){return w.student.client=Q})("change",function(){return w.onClientChange()})("clear",function(){return w.onClientClear()}),e.YNc(36,B,3,2,"ng-container",23),e.qZA(),e.YNc(37,ot,2,1,"div",24),e.qZA(),e.qZA(),e.TgZ(38,"div",19),e.TgZ(39,"div",9),e._UZ(40,"field-label",14),e.TgZ(41,"label",25),e._UZ(42,"i",21),e.qZA(),e.TgZ(43,"ng-select",26),e.NdJ("ngModelChange",function(Q){return w.student.location=Q}),e.YNc(44,lt,2,1,"ng-container",23),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"div",7),e.TgZ(46,"div",19),e.TgZ(47,"div",9),e._UZ(48,"field-label",14),e.TgZ(49,"input",27,28),e.NdJ("ngModelChange",function(Q){return w.student.profilePictureUrl=Q}),e.ALo(51,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(52,O,13,7,"div",29),e.TgZ(53,"div",5),e.TgZ(54,"div",30),e.TgZ(55,"h4",31),e._uU(56,"Service Types"),e.qZA(),e.qZA(),e.TgZ(57,"div",32),e.YNc(58,ct,18,14,"div",33),e.TgZ(59,"div",34),e.TgZ(60,"button",35),e.NdJ("click",function(){return w.addServiceRecord()}),e.SDv(61,36),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(62,"div",7),e.TgZ(63,"div",37),e.TgZ(64,"div",5),e.TgZ(65,"div",6),e.TgZ(66,"div",38),e._UZ(67,"div",9),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(68,"div",39),e.TgZ(69,"div",40),e.YNc(70,mt,2,0,"button",41),e.TgZ(71,"app-save-button",42),e.NdJ("onCancelClick",function(){return w.onCancelClicked()}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&D){const K=e.MAs(2),E=e.MAs(12),Q=e.MAs(19),m=e.MAs(25);e.Q6J("show",w.loading)("config",e.DdM(54,At)),e.xp6(3),e.Q6J("ngClass",w.readOnly?"readonly":""),e.xp6(7),e.Q6J("labelStr","first Name")("isRequired",!0),e.xp6(1),e.s9C("placeholder",e.lcZ(13,46," ")),e.Q6J("ngModel",w.student.firstName)("ngClass",e.VKq(55,ht,K.submitted&&E.invalid)),e.xp6(3),e.Q6J("ngIf",K.submitted&&E.invalid),e.xp6(3),e.Q6J("labelStr","Middle Name"),e.xp6(1),e.s9C("placeholder",e.lcZ(20,48," ")),e.Q6J("ngModel",w.student.middleName)("ngClass",e.VKq(57,ht,K.submitted&&Q.invalid)),e.xp6(5),e.Q6J("labelStr","last Name")("isRequired",!0),e.xp6(1),e.s9C("placeholder",e.lcZ(26,50," ")),e.Q6J("ngModel",w.student.lastName)("ngClass",e.VKq(59,ht,K.submitted&&m.invalid)),e.xp6(3),e.Q6J("ngIf",K.submitted&&m.invalid),e.xp6(5),e.Q6J("labelStr","Client")("isRequired",!0),e.xp6(3),e.Q6J("items",w.clientsOptions)("dropdownPosition","bottom")("placeholder","Select Client")("ngModel",w.student.client),e.xp6(1),e.Q6J("ngForOf",w.clientsOptions),e.xp6(1),e.Q6J("ngIf",K.submitted),e.xp6(3),e.Q6J("labelStr","Location"),e.xp6(3),e.Q6J("items",w.clientLocations)("dropdownPosition","bottom")("placeholder","Select Location")("ngModel",w.student.location),e.xp6(1),e.Q6J("ngForOf",w.clientLocations),e.xp6(4),e.Q6J("labelStr","Profile Picture URL"),e.xp6(1),e.s9C("placeholder",e.lcZ(51,52," ")),e.Q6J("ngModel",w.student.profilePictureUrl),e.xp6(3),e.Q6J("ngIf",!w.loading),e.xp6(6),e.Q6J("ngForOf",w.student.treatments),e.xp6(12),e.Q6J("ngIf",!w.saveAddNewLoader&&!w.loading&&null==w.inputObj),e.xp6(1),e.Q6J("loader",w.loading)("type","submit")("text","Save and Close")("saveBtnTitle","Save and Close")("showSaveBtn",w.permissions.CAN_MANAGE_STUDENTS&&!w.readOnly)("saveBtnSizeAndStyle","btn-outline-success")("cancelBtnSizeAndStyle","btn-outline-danger")}},directives:[p.RJ,y._Y,y.JL,y.F,N.mk,$.t,y.Fj,y.Q7,y.JJ,y.On,N.O5,z.w9,N.sg,st.t,z.xv,y.EJ,y.YN,y.Kr],pipes:[dt.X$],styles:[".disabled-option[_ngcontent-%COMP%]{\r\n    color: gray;\r\n    pointer-events: none;\r\n  cursor: not-allowed;\r\n  \r\n}"]}),Y})()},3975:function(et,U,r){r.d(U,{J:function(){return Q}});var e=r(6157),o=r(4231),n=r(5300),i=r(7716),h=r(2664),t=r(1831),u=r(9344),c=r(9426),T=r(5320),g=r(2663),p=r(3679),y=r(1321),N=r(1314),$=r(3211),z=r(5870),st=r(7827),dt=r(6640),nt=r(8682),ut=r(9790);function X(m,P){if(1&m&&(i.TgZ(0,"div",77),i.TgZ(1,"p",78),i._uU(2),i.qZA(),i.qZA()),2&m){const S=i.oxw();i.xp6(2),i.Oqu(null==S.error?null:S.error.exception.message)}}function L(m,P){1&m&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&m&&(i.xp6(1),i.hij("",i.lcZ(2,1,"First Name")," is required"))}function B(m,P){if(1&m&&(i.TgZ(0,"div",79),i.YNc(1,L,3,3,"div",80),i.qZA()),2&m){i.oxw();const S=i.MAs(22);i.xp6(1),i.Q6J("ngIf",null==S?null:S.errors.required)}}function j(m,P){1&m&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&m&&(i.xp6(1),i.hij("",i.lcZ(2,1,"Last Name")," is required "))}function ot(m,P){if(1&m&&(i.TgZ(0,"div",79),i.YNc(1,j,3,3,"div",80),i.qZA()),2&m){i.oxw();const S=i.MAs(30);i.xp6(1),i.Q6J("ngIf",null==S?null:S.errors.required)}}function G(m,P){1&m&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&m&&(i.xp6(1),i.hij("",i.lcZ(2,1,"Email")," is required"))}function lt(m,P){1&m&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&m&&(i.xp6(1),i.hij("",i.lcZ(2,1,"Email")," is not valid"))}function it(m,P){if(1&m&&(i.TgZ(0,"div",79),i.YNc(1,G,3,3,"div",80),i.YNc(2,lt,3,3,"div",80),i.qZA()),2&m){i.oxw();const S=i.MAs(39);i.xp6(1),i.Q6J("ngIf",null==S?null:S.errors.required),i.xp6(1),i.Q6J("ngIf",null==S?null:S.errors.email)}}function O(m,P){if(1&m&&(i.TgZ(0,"option",81),i._uU(1),i.qZA()),2&m){const S=P.$implicit;i.Q6J("ngValue",S.value),i.xp6(1),i.hij("",S.label," ")}}function I(m,P){if(1&m&&(i.TgZ(0,"option",81),i._uU(1),i.qZA()),2&m){const S=P.$implicit;i.Q6J("ngValue",S.value),i.xp6(1),i.hij("",S.label," ")}}function _(m,P){if(1&m&&(i.TgZ(0,"option",81),i._uU(1),i.qZA()),2&m){const S=P.$implicit;i.Q6J("ngValue",S.value),i.xp6(1),i.hij("",S.label," ")}}function Z(m,P){1&m&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&m&&(i.xp6(1),i.hij("",i.lcZ(2,1,"User Role")," is required"))}function W(m,P){if(1&m&&(i.TgZ(0,"div",79),i.YNc(1,Z,3,3,"div",80),i.qZA()),2&m){i.oxw();const S=i.MAs(165);i.xp6(1),i.Q6J("ngIf",null==S?null:S.errors.required)}}function k(m,P){if(1&m&&(i.ynx(0),i.TgZ(1,"ng-option",82),i._uU(2),i.qZA(),i.BQk()),2&m){const S=P.$implicit;i.xp6(1),i.Q6J("value",S),i.xp6(1),i.hij(" ",S.title,"")}}function ct(m,P){1&m&&(i.TgZ(0,"p",83),i._uU(1," No Services attached "),i.qZA())}function mt(m,P){1&m&&i._UZ(0,"i",102)}function At(m,P){1&m&&i._UZ(0,"i",103)}function ht(m,P){if(1&m){const S=i.EpF();i.TgZ(0,"div",88),i.TgZ(1,"div",89),i.TgZ(2,"span",90),i._uU(3),i.qZA(),i.qZA(),i.TgZ(4,"div",91),i.TgZ(5,"div",40),i.TgZ(6,"span",41),i._UZ(7,"i",47),i.qZA(),i.TgZ(8,"input",92,93),i.NdJ("ngModelChange",function(J){return i.CHM(S),i.oxw().$implicit.hours=J}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(10,"div",91),i.TgZ(11,"label",94),i._uU(12,"Use Secondary Rate"),i.qZA(),i.TgZ(13,"input",95),i.NdJ("ngModelChange",function(J){return i.CHM(S),i.oxw().$implicit.secondaryRate=J}),i.qZA(),i.qZA(),i.TgZ(14,"div",96),i.TgZ(15,"a",97),i.NdJ("click",function(){i.CHM(S);const J=i.oxw().$implicit;return i.oxw().removeServiceType(J)}),i._UZ(16,"span",98),i.qZA(),i.TgZ(17,"button",99),i.YNc(18,mt,1,0,"i",100),i.YNc(19,At,1,0,"i",101),i.qZA(),i.qZA(),i.qZA()}if(2&m){const S=P.opened,M=i.oxw(),J=M.$implicit,H=M.index;i.xp6(3),i.Oqu(J.serviceType.title),i.xp6(5),i.MGl("name","hours-",H,""),i.Q6J("ngModel",J.hours),i.xp6(5),i.MGl("name","secondaryRate-",H,""),i.Q6J("ngModel",J.secondaryRate),i.xp6(5),i.Q6J("ngIf",!S),i.xp6(1),i.Q6J("ngIf",S)}}function Zt(m,P){1&m&&(i.TgZ(0,"p",83),i._uU(1," Empty WBS List "),i.qZA())}function Y(m,P){if(1&m){const S=i.EpF();i.TgZ(0,"div",105),i.TgZ(1,"div",106),i.TgZ(2,"span",107),i._uU(3),i.qZA(),i.qZA(),i.TgZ(4,"div",108),i.TgZ(5,"a",109),i.NdJ("click",function(){const H=i.CHM(S).$implicit,R=i.oxw(3).$implicit;return i.oxw().removeServiceTypeWbs(R.serviceType.id,H.wbs.id)}),i._UZ(6,"span",98),i.qZA(),i.qZA(),i.qZA()}if(2&m){const S=P.$implicit;i.xp6(3),i.Oqu(S.wbs.title)}}function rt(m,P){if(1&m&&(i.TgZ(0,"div"),i.YNc(1,Y,7,1,"div",104),i.qZA()),2&m){const S=i.oxw(2).$implicit;i.xp6(1),i.Q6J("ngForOf",S.psWbs)}}function D(m,P){if(1&m&&(i.YNc(0,Zt,2,0,"p",71),i.YNc(1,rt,2,1,"div",80)),2&m){const S=i.oxw().$implicit;i.Q6J("ngIf",0==(null==S.psWbs?null:S.psWbs.length)||null==S.psWbs),i.xp6(1),i.Q6J("ngIf",(null==S.psWbs?null:S.psWbs.length)>0)}}function w(m,P){1&m&&(i.TgZ(0,"ngb-accordion",84,85),i.TgZ(2,"ngb-panel"),i.YNc(3,ht,20,7,"ng-template",86),i.YNc(4,D,2,2,"ng-template",87),i.qZA(),i.qZA())}const K=function(){return{backdropBorderRadius:"3px"}},E=function(m){return{"is-invalid":m}};let Q=(()=>{class m{constructor(S,M,J,H,R,gt){this.modalService=S,this.util=M,this.toastr=J,this.eventService=H,this.userServ=R,this._service_types=gt,this.inputObj=null,this.readOnly=!1,this.user=new o.b0,this.itemsList=[],this.loading=!1,this.loadingState=!1,this.isError=!1,this.error=null,this.roles=e.pR,this.calenderIds=e.C4,this.durations=e.bK,this.permissions=e.hz,this.userServiceTypes=n.a,this.loader=!1,this.selectedPermissions=[],this.permissionDropdown={singleSelection:!1,idField:"value",textField:"label",selectAllText:"Select All",unSelectAllText:"UnSelect All",enableCheckAll:!0,allowSearchFilter:!1},this.serviceTypes=[],this.serviceTypesOptions=[],this.serviceTypeSelected=null}ngOnInit(){this.inputObj&&this.inputObj.id&&this.fetchUser(this.inputObj.id),this.getServiceTypes()}getServiceTypes(){this.serviceTypesOptions=this.util.getBtsServiceTypesFromSession()}addServiceType(){this.serviceTypesOptions=this.util.filterList("id",this.serviceTypeSelected.id,this.serviceTypesOptions),this.loader=!0,this._service_types.getFullById(this.serviceTypeSelected.id).then(S=>{var M;let J=this._service_types.getData(S).wbsList,H=null!==(M=null==J?void 0:J.map(R=>({wbs:R})))&&void 0!==M?M:[];this.serviceTypes.push({id:null,hours:0,secondaryRate:!1,serviceType:this.serviceTypeSelected,psWbs:H}),this.loader=!1,this.serviceTypeSelected=null}).catch(S=>{console.log(S),this.loader=!1})}removeServiceType(S){let M=this.serviceTypes.filter(R=>R.serviceType.id!==S.serviceType.id);this.serviceTypes=M;let J=this.util.getBtsServiceTypesFromSession(),H=this.util.selectFromList(J,S.serviceType.id);this.serviceTypesOptions.push(H)}removeServiceTypeWbs(S,M){let J=this.serviceTypes.findIndex(gt=>gt.serviceType.id===S),R=[...this.serviceTypes[J].psWbs].filter(gt=>gt.wbs.id!==M);this.serviceTypes[J].psWbs=R}onsubmit(){this.isError=!1,this.user.serviceTypes=this.serviceTypes,this.user.permissions=this.selectedPermissions,this.loading=!0,this.userServ.saveUser(this.user).then(S=>{this.modalService.dismissAll(),this.eventService.onUserSaveEventSaved.emit(this.user),this.loading=!1,this.toastr.success(null===this.inputObj?this.user.firstName+" "+this.user.lastName+" Added":this.user.firstName+" "+this.user.lastName+" Updated","Successfully")}).catch(S=>{this.loading=!1,console.log(S)})}fetchUser(S){this.loader=!0,this.userServ.fetchUserById(S).then(M=>{var J,H,R,gt,vt;this.loading=!1,this.user=this.userServ.getData(M),this.setPermissionList(),this.selectedPermissions=this.user.permissions,this.serviceTypes=null!==(H=null===(J=this.user)||void 0===J?void 0:J.serviceTypes)&&void 0!==H?H:[],(null===(R=this.serviceTypes)||void 0===R?void 0:R.length)>0&&(this.serviceTypesOptions=this.serviceTypesOptions.filter(yt=>!this.serviceTypes.some(Tt=>yt.id===Tt.serviceType.id))),(null===(vt=null===(gt=this.user)||void 0===gt?void 0:gt.staff)||void 0===vt?void 0:vt.length)>0&&this.user.staff.forEach((yt,Tt)=>{this.itemsList.push(yt.reportTo)}),this.loader=!1}).catch(M=>{this.loader=!1})}onCancelClicked(){this.modalService.dismissAll()}getEditorToolbar(){return this.util.getEditorToolbarOptions()}setPermissionList(){switch(this.user.role){case e.$.ADMIN:this.permissions=e.hz,this.selectedPermissions=this.util.getDefaultPermissions(this.permissions);break;case e.$.PROVIDER:this.permissions=e.Ex,this.selectedPermissions=this.util.getDefaultPermissions(this.permissions);break;default:this.permissions=e.zL,this.selectedPermissions=this.util.getDefaultPermissions(this.permissions)}}setPhoneNum(S){document.getElementById("phone").value=S}onUserMultiSelected(S){this.user.staff=[],S.forEach(M=>{let J=new o.Kw;J.id=null,J.reportTo=M,this.user.staff.push(J)})}changePermission(){}}return m.\u0275fac=function(S){return new(S||m)(i.Y36(h.FF),i.Y36(t.Z),i.Y36(u._W),i.Y36(c.P),i.Y36(n.a),i.Y36(T.D))},m.\u0275cmp=i.Xpm({type:m,selectors:[["app-add-user"]],inputs:{inputObj:"inputObj",readOnly:"readOnly"},decls:196,vars:154,consts:[[3,"show","config"],["name","form",3,"ngSubmit"],["addForm","ngForm"],["class","row dangerboder",4,"ngIf"],[1,"modal-body","wh-person-entry-modal",3,"ngClass"],[1,"row"],[1,"col-lg-12","col-md-12"],[1,"card"],[1,"card-body"],[1,"col-md-4"],[1,"form-group","has-danger"],[3,"labelStr"],["type","text","id","title","name","title",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["title","ngModel"],[1,"form-group"],[3,"labelStr","isRequired"],["type","text","name","firstName","required","",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["firstName","ngModel"],["class","invalid-feedback",4,"ngIf"],["type","text","id","lastName","name","lastName","required","",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["lastName","ngModel"],["type","email","name","email","required","","placeholder","Email","email","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["email","ngModel"],[1,"col-md-3"],["type","text","name","employeeId",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["employeeId","ngModel"],[1,"custom-control","custom-checkbox"],["name","calSync","type","checkbox","id","calenderSync",1,"custom-control-input",3,"ngModel","ngModelChange"],["calSync","ngModel"],["for","calenderSync",1,"custom-control-label"],[1,"col-md-2"],["name","isSalary","type","checkbox","id","salaryId",1,"custom-control-input",3,"ngModel","ngModelChange"],["isSalary","ngModel"],["for","salaryId",1,"custom-control-label"],["type","text","name","phoneNo","placeholder","Phone","type","text","appPhoneMask","","id","phone","maxlength","14",1,"form-control",3,"ngModel","ngModelChange","setPatternValue"],["phoneNo","ngModel"],["type","text","name","mobile","placeholder","Mobile","type","text","appPhoneMask","","id","mobileNo","maxlength","14",1,"form-control",3,"ngModel","ngModelChange"],["mobile","ngModel"],["type","text","name","fax",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["fax","ngModel"],[1,"d-flex","flex-grow-1"],[1,"input-group-text"],[1,"ti-money"],["disable-scrolling","","type","number","name","annualSalary",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["annualSalary","ngModel"],["disable-scrolling","","type","number","name","periodAmount",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["periodAmount","ngModel"],[1,"ti-timer"],["disable-scrolling","","type","number","name","targetWeeklyHours",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["targetWeeklyHours","ngModel"],["name","calendarId",1,"form-control","browser-default","custom-select",3,"ngModel","ngModelChange"],["calendarId","ngModel"],["selected","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["disable-scrolling","","type","number","name","defaultRate",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["defaultRate","ngModel"],["disable-scrolling","","type","number","name","secondaryRate",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["secondaryRate","ngModel"],["disable-scrolling","","type","number","name","overTimeRate",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["overTimeRate","ngModel"],["name","duration",1,"form-control","browser-default","custom-select",3,"ngModel","ngModelChange"],["duration","ngModel"],[1,"col-md-12"],["name","userRole","required","","ngModel","",1,"form-control","browser-default","custom-select",3,"ngModel","ngClass","ngModelChange"],["userRole","ngModel"],[3,"classList","labelStr"],["name","permission",3,"placeholder","settings","data","ngModel","ngModelChange"],["permission","ngModel"],["name","service-type","bindLabel","title",3,"multiple","dropdownPosition","placeholder","clearable","ngModel","ngModelChange","change"],[4,"ngFor","ngForOf"],[1,"col-12"],["class","text-danger",4,"ngIf"],["activeIds","ngb-panel-0",4,"ngFor","ngForOf"],["name","notes","id","notes","rows","7",2,"width","100%",3,"ngModel","ngModelChange"],[1,"modal-footer"],[1,"form-group","text-center"],[3,"type","loader","text","saveBtnSizeAndStyle","showCancelBtn","showSaveBtn","isDisabled","onCancelClick"],[1,"row","dangerboder"],[1,"margntopbot","text-danger"],[1,"invalid-feedback"],[4,"ngIf"],[3,"ngValue"],[3,"value"],[1,"text-danger"],["activeIds","ngb-panel-0"],["acc","ngbAccordion"],["ngbPanelHeader",""],["ngbPanelContent",""],[1,"row","py-2","px-2","no-wrap"],[1,"col-md-5","d-flex","align-items-center"],[1,"mb-0","text-primary"],[1,"col-md-3","d-flex","align-items-center"],["disable-scrolling","","type","number","width","auto","placeholder","Hours",1,"form-control",2,"max-width","100%",3,"name","ngModel","ngModelChange"],["hours","ngModel"],[1,"mb-0"],["type","checkbox",1,"custom-checkbox","ml-2",3,"name","ngModel","ngModelChange"],[1,"col-md-1","d-flex","justify-content-end"],["title","Remove service type",1,"ng2-smart-action-edit-edit","mr-2","d-flex","align-items-center",2,"margin-top","2px",3,"click"],[1,"icon-trash","text-danger"],["ngbPanelToggle","",1,"toggle-btn"],["class","mdi mdi-chevron-down toggle-icon text-info",4,"ngIf"],["class","mdi mdi-chevron-up text-info toggle-icon",4,"ngIf"],[1,"mdi","mdi-chevron-down","toggle-icon","text-info"],[1,"mdi","mdi-chevron-up","text-info","toggle-icon"],["class","row no-wrap mb-2 border-bottom  ",4,"ngFor","ngForOf"],[1,"row","no-wrap","mb-2","border-bottom"],[1,"col-md-6","d-flex","align-items-center"],[1,"mb-0","text-muted"],[1,"col-md-6","d-flex","justify-content-end"],["title","Delete",1,"ng2-smart-action-edit-edit","mr-2","d-flex","align-items-center",2,"margin-top","2px",3,"click"]],template:function(S,M){if(1&S){const J=i.EpF();i._UZ(0,"ngx-loading",0),i.TgZ(1,"form",1,2),i.NdJ("ngSubmit",function(){return i.CHM(J),i.MAs(2).form.valid&&M.onsubmit()}),i.YNc(3,X,3,1,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"div",5),i.TgZ(6,"div",6),i.TgZ(7,"div",7),i.TgZ(8,"div",8),i.TgZ(9,"div",5),i.TgZ(10,"div",9),i.TgZ(11,"div",10),i._UZ(12,"field-label",11),i.ALo(13,"translate"),i.TgZ(14,"input",12,13),i.NdJ("ngModelChange",function(R){return M.user.title=R}),i.ALo(16,"translate"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(17,"div",9),i.TgZ(18,"div",14),i._UZ(19,"field-label",15),i.ALo(20,"translate"),i.TgZ(21,"input",16,17),i.NdJ("ngModelChange",function(R){return M.user.firstName=R}),i.ALo(23,"translate"),i.qZA(),i.YNc(24,B,2,1,"div",18),i.qZA(),i.qZA(),i.TgZ(25,"div",9),i.TgZ(26,"div",10),i._UZ(27,"field-label",15),i.ALo(28,"translate"),i.TgZ(29,"input",19,20),i.NdJ("ngModelChange",function(R){return M.user.lastName=R}),i.ALo(31,"translate"),i.qZA(),i.YNc(32,ot,2,1,"div",18),i.qZA(),i.qZA(),i.qZA(),i.TgZ(33,"div",5),i.TgZ(34,"div",9),i.TgZ(35,"div",14),i._UZ(36,"field-label",15),i.ALo(37,"translate"),i.TgZ(38,"input",21,22),i.NdJ("ngModelChange",function(R){return M.user.email=R}),i.qZA(),i.YNc(40,it,3,2,"div",18),i.qZA(),i.qZA(),i.TgZ(41,"div",23),i.TgZ(42,"div",14),i._UZ(43,"field-label",11),i.ALo(44,"translate"),i.TgZ(45,"input",24,25),i.NdJ("ngModelChange",function(R){return M.user.employeeId=R}),i.ALo(47,"translate"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(48,"div",23),i._UZ(49,"field-label",11),i.TgZ(50,"div",26),i.TgZ(51,"input",27,28),i.NdJ("ngModelChange",function(R){return M.user.syncCalender=R}),i.qZA(),i.TgZ(53,"label",29),i._uU(54," Sync Event with Calendar "),i.qZA(),i.qZA(),i.qZA(),i.TgZ(55,"div",30),i._UZ(56,"field-label",11),i.TgZ(57,"div",26),i.TgZ(58,"input",31,32),i.NdJ("ngModelChange",function(R){return M.user.isSalaried=R}),i.qZA(),i.TgZ(60,"label",33),i._uU(61," Salaried "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(62,"div",5),i.TgZ(63,"div",9),i._UZ(64,"field-label",11),i.ALo(65,"translate"),i.TgZ(66,"input",34,35),i.NdJ("ngModelChange",function(R){return M.user.phone=R})("setPatternValue",function(R){return M.setPhoneNum(R)}),i.qZA(),i.qZA(),i.TgZ(68,"div",9),i._UZ(69,"field-label",11),i.ALo(70,"translate"),i.TgZ(71,"input",36,37),i.NdJ("ngModelChange",function(R){return M.user.mobileNo=R}),i.qZA(),i.qZA(),i.TgZ(73,"div",9),i.TgZ(74,"div",10),i._UZ(75,"field-label",11),i.ALo(76,"translate"),i.TgZ(77,"input",38,39),i.NdJ("ngModelChange",function(R){return M.user.fax=R}),i.ALo(79,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(80,"div",5),i.TgZ(81,"div",23),i.TgZ(82,"div",14),i._UZ(83,"field-label",11),i.ALo(84,"translate"),i.TgZ(85,"div",40),i.TgZ(86,"span",41),i._UZ(87,"i",42),i.qZA(),i.TgZ(88,"input",43,44),i.NdJ("ngModelChange",function(R){return M.user.salaryAmount=R}),i.ALo(90,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(91,"div",23),i.TgZ(92,"div",14),i._UZ(93,"field-label",11),i.TgZ(94,"div",40),i.TgZ(95,"span",41),i._UZ(96,"i",42),i.qZA(),i.TgZ(97,"input",45,46),i.NdJ("ngModelChange",function(R){return M.user.salaryAmountPerPeriod=R}),i.ALo(99,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(100,"div",23),i.TgZ(101,"div",14),i._UZ(102,"field-label",11),i.ALo(103,"translate"),i.TgZ(104,"div",40),i.TgZ(105,"span",41),i._UZ(106,"i",47),i.qZA(),i.TgZ(107,"input",48,49),i.NdJ("ngModelChange",function(R){return M.user.targetWeeklyHours=R}),i.ALo(109,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(110,"div",23),i.TgZ(111,"div",14),i._UZ(112,"field-label",11),i.TgZ(113,"select",50,51),i.NdJ("ngModelChange",function(R){return M.user.calendarId=R}),i.TgZ(115,"option",52),i._uU(116,"-Select-"),i.qZA(),i.YNc(117,O,2,2,"option",53),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(118,"div",5),i.TgZ(119,"div",23),i.TgZ(120,"div",14),i._UZ(121,"field-label",11),i.ALo(122,"translate"),i.TgZ(123,"div",40),i.TgZ(124,"span",41),i._UZ(125,"i",42),i.qZA(),i.TgZ(126,"input",54,55),i.NdJ("ngModelChange",function(R){return M.user.defaultRate=R}),i.ALo(128,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(129,"div",23),i.TgZ(130,"div",10),i._UZ(131,"field-label",11),i.ALo(132,"translate"),i.TgZ(133,"div",40),i.TgZ(134,"span",41),i._UZ(135,"i",42),i.qZA(),i.TgZ(136,"input",56,57),i.NdJ("ngModelChange",function(R){return M.user.secondaryRate=R}),i.ALo(138,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(139,"div",23),i.TgZ(140,"div",14),i._UZ(141,"field-label",11),i.ALo(142,"translate"),i.TgZ(143,"div",40),i.TgZ(144,"span",41),i._UZ(145,"i",42),i.qZA(),i.TgZ(146,"input",58,59),i.NdJ("ngModelChange",function(R){return M.user.overTimeRate=R}),i.ALo(148,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(149,"div",23),i.TgZ(150,"div",14),i._UZ(151,"field-label",11),i.TgZ(152,"div",40),i.TgZ(153,"span",41),i._UZ(154,"i",47),i.qZA(),i.TgZ(155,"select",60,61),i.NdJ("ngModelChange",function(R){return M.user.prefDuration=R}),i.TgZ(157,"option",52),i._uU(158,"-Select-"),i.qZA(),i.YNc(159,I,2,2,"option",53),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(160,"div",5),i.TgZ(161,"div",62),i.TgZ(162,"div",14),i._UZ(163,"field-label",15),i.TgZ(164,"select",63,64),i.NdJ("ngModelChange",function(R){return M.user.role=R})("ngModelChange",function(){return M.setPermissionList()}),i.TgZ(166,"option",52),i._uU(167,"Select Role"),i.qZA(),i.YNc(168,_,2,2,"option",53),i.qZA(),i.YNc(169,W,2,1,"div",18),i.qZA(),i.qZA(),i.qZA(),i.TgZ(170,"div",5),i.TgZ(171,"div",62),i.TgZ(172,"div",14),i._UZ(173,"field-label",65),i.TgZ(174,"ng-multiselect-dropdown",66,67),i.NdJ("ngModelChange",function(R){return M.selectedPermissions=R})("ngModelChange",function(){return M.changePermission()}),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(176,"div",5),i.TgZ(177,"div",62),i.TgZ(178,"div",14),i._UZ(179,"field-label",11),i.TgZ(180,"ng-select",68),i.NdJ("ngModelChange",function(R){return M.serviceTypeSelected=R})("change",function(){return M.addServiceType()}),i.YNc(181,k,3,2,"ng-container",69),i.qZA(),i.qZA(),i.qZA(),i.TgZ(182,"div",70),i.TgZ(183,"div",14),i._UZ(184,"field-label",11),i.qZA(),i.YNc(185,ct,2,0,"p",71),i.YNc(186,w,5,0,"ngb-accordion",72),i.qZA(),i.qZA(),i.TgZ(187,"div",5),i.TgZ(188,"div",62),i.TgZ(189,"div",14),i._UZ(190,"field-label",11),i._UZ(191,"br"),i.TgZ(192,"textarea",73),i.NdJ("ngModelChange",function(R){return M.user.notes=R}),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(193,"div",74),i.TgZ(194,"div",75),i.TgZ(195,"app-save-button",76),i.NdJ("onCancelClick",function(){return M.onCancelClicked()}),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&S){const J=i.MAs(2),H=i.MAs(22),R=i.MAs(30),gt=i.MAs(39),vt=i.MAs(165);i.Q6J("show",M.loader)("config",i.DdM(145,K)),i.xp6(3),i.Q6J("ngIf",M.isError),i.xp6(1),i.Q6J("ngClass",M.readOnly?"readonly":""),i.xp6(8),i.Q6J("labelStr",i.lcZ(13,97,"Title")),i.xp6(2),i.s9C("placeholder",i.lcZ(16,99,"Title")),i.Q6J("ngModel",M.user.title),i.xp6(5),i.Q6J("labelStr",i.lcZ(20,101,"First Name"))("isRequired",!0),i.xp6(2),i.s9C("placeholder",i.lcZ(23,103,"First Name")),i.Q6J("ngModel",M.user.firstName)("ngClass",i.VKq(146,E,J.submitted&&H.invalid)),i.xp6(3),i.Q6J("ngIf",J.submitted&&H.invalid),i.xp6(3),i.Q6J("labelStr",i.lcZ(28,105,"Last Name"))("isRequired",!0),i.xp6(2),i.s9C("placeholder",i.lcZ(31,107,"Last Name")),i.Q6J("ngModel",M.user.lastName)("ngClass",i.VKq(148,E,J.submitted&&R.invalid)),i.xp6(3),i.Q6J("ngIf",J.submitted&&R.invalid),i.xp6(4),i.Q6J("labelStr",i.lcZ(37,109,"email address"))("isRequired",!0),i.xp6(2),i.Q6J("ngModel",M.user.email)("ngClass",i.VKq(150,E,J.submitted&&gt.invalid)),i.xp6(2),i.Q6J("ngIf",J.submitted&&gt.invalid),i.xp6(3),i.Q6J("labelStr",i.lcZ(44,111,"Employee ID")),i.xp6(2),i.s9C("placeholder",i.lcZ(47,113,"Employee Id")),i.Q6J("ngModel",M.user.employeeId),i.xp6(4),i.Q6J("labelStr",""),i.xp6(2),i.Q6J("ngModel",M.user.syncCalender),i.xp6(5),i.Q6J("labelStr",""),i.xp6(2),i.Q6J("ngModel",M.user.isSalaried),i.xp6(6),i.Q6J("labelStr",i.lcZ(65,115,"Phone No")),i.xp6(2),i.Q6J("ngModel",M.user.phone),i.xp6(3),i.Q6J("labelStr",i.lcZ(70,117,"Mobile No")),i.xp6(2),i.Q6J("ngModel",M.user.mobileNo),i.xp6(4),i.Q6J("labelStr",i.lcZ(76,119,"Fax No")),i.xp6(2),i.s9C("placeholder",i.lcZ(79,121,"Fax")),i.Q6J("ngModel",M.user.fax),i.xp6(6),i.Q6J("labelStr",i.lcZ(84,123,"Annual Salary")),i.xp6(5),i.s9C("placeholder",i.lcZ(90,125,"Annual Salary")),i.Q6J("ngModel",M.user.salaryAmount),i.xp6(5),i.Q6J("labelStr","Amount Per Payroll Period"),i.xp6(4),i.s9C("placeholder",i.lcZ(99,127,"Hours")),i.Q6J("ngModel",M.user.salaryAmountPerPeriod),i.xp6(5),i.Q6J("labelStr",i.lcZ(103,129,"Weekly Hours(Target)")),i.xp6(5),i.s9C("placeholder",i.lcZ(109,131,"Hours")),i.Q6J("ngModel",M.user.targetWeeklyHours),i.xp6(5),i.Q6J("labelStr","Calenders"),i.xp6(1),i.Q6J("ngModel",M.user.calendarId),i.xp6(2),i.Q6J("ngValue",null),i.xp6(2),i.Q6J("ngForOf",M.calenderIds),i.xp6(4),i.Q6J("labelStr",i.lcZ(122,133,"Default Rate")),i.xp6(5),i.s9C("placeholder",i.lcZ(128,135,"Default Rate")),i.Q6J("ngModel",M.user.defaultRate),i.xp6(5),i.Q6J("labelStr",i.lcZ(132,137,"Secondary Rate")),i.xp6(5),i.s9C("placeholder",i.lcZ(138,139,"Secondary Rate")),i.Q6J("ngModel",M.user.secondaryRate),i.xp6(5),i.Q6J("labelStr",i.lcZ(142,141,"Overtime Rate")),i.xp6(5),i.s9C("placeholder",i.lcZ(148,143,"Over Time Rate")),i.Q6J("ngModel",M.user.overTimeRate),i.xp6(5),i.Q6J("labelStr","Pref Duration"),i.xp6(4),i.Q6J("ngModel",M.user.prefDuration),i.xp6(2),i.Q6J("ngValue",null),i.xp6(2),i.Q6J("ngForOf",M.durations),i.xp6(4),i.Q6J("labelStr","Role")("isRequired",!0),i.xp6(1),i.Q6J("ngModel",M.user.role)("ngClass",i.VKq(152,E,J.submitted&&vt.invalid)),i.xp6(2),i.Q6J("ngValue",null),i.xp6(2),i.Q6J("ngForOf",M.roles),i.xp6(1),i.Q6J("ngIf",J.submitted&&vt.invalid),i.xp6(4),i.Q6J("classList","")("labelStr","Permission")("classList",""),i.xp6(1),i.Q6J("placeholder","Choose Permissions")("settings",M.permissionDropdown)("data",M.permissions)("ngModel",M.selectedPermissions),i.xp6(5),i.Q6J("labelStr","Service Types"),i.xp6(1),i.Q6J("multiple",!1)("dropdownPosition","bottom")("placeholder","service types")("clearable",!0)("ngModel",M.serviceTypeSelected),i.xp6(1),i.Q6J("ngForOf",M.serviceTypesOptions),i.xp6(3),i.Q6J("labelStr","Attached Service Types"),i.xp6(1),i.Q6J("ngIf",0==(null==M.serviceTypes?null:M.serviceTypes.length)),i.xp6(1),i.Q6J("ngForOf",M.serviceTypes),i.xp6(4),i.Q6J("labelStr","Notes"),i.xp6(2),i.Q6J("ngModel",M.user.notes),i.xp6(3),i.Q6J("type","submit")("loader",M.loading)("text","Save")("saveBtnSizeAndStyle","btn-outline-success")("showCancelBtn",!0)("showSaveBtn",!M.readOnly)("isDisabled",M.readOnly)}},directives:[g.RJ,p._Y,p.JL,p.F,y.O5,y.mk,N.t,p.Fj,p.JJ,p.On,p.Q7,p.on,p.Wl,$.v,p.nD,p.wV,z.p,p.EJ,p.YN,p.Kr,y.sg,st.OP,dt.w9,nt.t,dt.xv,h.gY,h.Gk,h.k9,h.gW,h.I_],pipes:[ut.X$],styles:[".margn-left40[_ngcontent-%COMP%]\r\n{\r\n  margin-left: 40px;\r\n}\r\n.dangerboder[_ngcontent-%COMP%]\r\n{\r\n  border: 1px solid red;\r\n    margin-left: 1px;\r\n    margin-right: 1px;\r\n    background: #f9cccc;\r\n    padding-left: 29px;\r\n    margin-bottom: 1rem;\r\n    padding-right: 29px;\r\n}\r\n.margntopbot[_ngcontent-%COMP%]\r\n{\r\n  margin-top: 10px;\r\n    margin-bottom: 10px;\r\n}\r\n.margnbot[_ngcontent-%COMP%]\r\n{\r\n  margin-bottom: 4px;\r\n}\r\n.toggle-btn[_ngcontent-%COMP%]{\r\n  border: none;\r\n  background-color: unset;\r\n\r\n}\r\n.toggle-icon[_ngcontent-%COMP%]{\r\n  font-size: 22px;\r\n}\r\n .multiselect-dropdown .dropdown-list {\r\n  position: unset !important;\r\n  width: auto !important;\r\n}"]}),m})()}}]);