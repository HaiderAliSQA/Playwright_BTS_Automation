"use strict";(self.webpackChunkems=self.webpackChunkems||[]).push([[569],{6569:function(wo,et,c){c.r(et),c.d(et,{ClientsModule:function(){return Lo},playerFactory:function(){return ft}});var _=c(1321),$=c(7827),Tt=c(4362),S=c(3422),a=c(3679),g=c(2664),Ct=c(9007),Z=c(2663),Zt=c(8366),nt=c(9895),k=c(534),h=c(5826),m=c(7582),x=c(826),vt=c(6157),L=c(907),N=c(9269),it=c(3244),t=c(7716),f=c(1831),y=c(2875),At=c(2741),M=c(640),xt=c(4318),T=c(9344),w=c(955),C=c(9426),U=c(529),F=c(8393);let B=(()=>{class i extends U.d{constructor(e){super("/bts/api/v1/client-targets",e),this.provider=e}getAllClienTargets(e=10,n=0){return this.getList(`?pageSize=${e}&pageNo=${n}`)}saveClientTarget(e,n=0){return console.log("submitting"),null!=e.id?this.updateClientTarget(e):this.save(e)}updateClientTarget(e){return this.update(e)}fetchByClientId(e){return this.getList(`/${e}/client`)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(F.U))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),R=(()=>{class i extends U.d{constructor(e){super("/bts/api/v1/client-poc",e),this.provider=e}saveLocationPOC(e,n=0){return null!=e.id?this.updateClientLocation(e,n):this.save(e,`/${n}/client-location`)}updateClientLocation(e,n){return this.update(e,"/"+n+"/client-location")}fetchByLocationId(e){return this.getList(`/${e}/client-location`)}fetchByClientId(e){return this.getList(`/${e}/client`)}deletePOC(e){return this.deleteRecord(`${e}`)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(F.U))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var O=c(8946),j=c(3401),P=c(7423),bt=c(8852),ot=c(6826),St=c(9966),qt=c(4339),lt=c(7215),Mt=c(2186),H=c(6975),Q=c(6291),V=c(2117),Lt=c(9481),Nt=c(5735),yt=c(9793),v=c(9790),Y=c(1464);function wt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),l=t.MAs(37);return o.assignToCaseLoad(l)}),t._uU(1,"ASSIGN TO CASELOAD"),t.qZA()}}function Ot(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),l=t.MAs(33);return o.openModelPopup(null,l)}),t._UZ(1,"i",31),t._uU(2,"Add"),t.qZA()}}function Pt(i,s){1&i&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Action")))}function Et(i,s){1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",33),t.TgZ(2,"strong"),t._uU(3,"No Record Found"),t.qZA(),t.qZA(),t.qZA())}function It(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"edit-delete-btns",43),t.NdJ("edit",function(){t.CHM(e);const o=t.oxw(2).$implicit,l=t.oxw(2),r=t.MAs(33);return l.openModelPopup(o,r)})("delete",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw(2).deleteRec(o.id)}),t.qZA(),t.qZA()}2&i&&(t.xp6(1),t.Q6J("confirmMsg","Are you sure you want to delete the selected student?"))}function Jt(i,s){if(1&i&&(t.TgZ(0,"td",42),t.YNc(1,It,2,1,"div",23),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!e.deleted)}}const Dt=function(i,s){return{"bg-success":i,"bg-danger":s}};function kt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.ynx(1),t.TgZ(2,"td"),t.TgZ(3,"div",12),t.TgZ(4,"input",34),t.NdJ("change",function(){const l=t.CHM(e).$implicit;return t.oxw(2).toggleCheckBox(l)}),t.qZA(),t._UZ(5,"label",35),t.qZA(),t.qZA(),t.TgZ(6,"td",36),t.TgZ(7,"a",37),t.NdJ("click",function(){const l=t.CHM(e).$implicit,r=t.oxw(2),d=t.MAs(35);return r.viewModelPopup(l,d)}),t._uU(8),t.ALo(9,"nullToDash"),t.qZA(),t.qZA(),t.TgZ(10,"td",38),t.TgZ(11,"a",39),t.NdJ("click",function(){const l=t.CHM(e).$implicit,r=t.oxw(2),d=t.MAs(35);return r.viewModelPopup(l,d)}),t._uU(12),t.ALo(13,"nullToDash"),t.qZA(),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.ALo(16,"nullToDash"),t.qZA(),t.TgZ(17,"td"),t._UZ(18,"i",40),t.ALo(19,"translate"),t.qZA(),t.YNc(20,Jt,2,1,"td",41),t.BQk(),t.qZA()}if(2&i){const e=s.$implicit,n=s.index,o=t.oxw(2);t.xp6(4),t.Q2q("id","checkbox_",n,""),t.Q6J("checked",e.checked),t.xp6(1),t.Q2q("for","checkbox_",n,""),t.xp6(3),t.hij(" ",t.lcZ(9,9,null==e?null:e.lastName)," "),t.xp6(4),t.hij(" ",t.lcZ(13,11,null==e?null:e.firstName)," "),t.xp6(3),t.hij(" ",t.lcZ(16,13,null==e||null==e.location?null:e.location.title)," "),t.xp6(3),t.s9C("title",null!=e&&e.deleted?t.lcZ(19,15," Not Active"):"Active"),t.Q6J("ngClass",t.WLB(17,Dt,!e.deleted,e.deleted)),t.xp6(2),t.Q6J("ngIf",o.isAdmin&&o.allowedPermissions.CAN_MANAGE_STUDENTS)}}function Ut(i,s){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,Et,4,0,"tr",23),t.YNc(2,kt,21,20,"tr",32),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",0==e.items.length),t.xp6(1),t.Q6J("ngForOf",e.items)}}function Ft(i,s){1&i&&t._UZ(0,"table-loading",44),2&i&&t.Q6J("rows",8)("classList","ph-col-10")}function Qt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",45),t.TgZ(1,"h5",46),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",47,26),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",48),t.qZA(),t.qZA(),t._UZ(7,"app-add-edit-student",49)}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,"Attach Student")," "),t.xp6(5),t.Q6J("defaultSelectedClient",e.client)("inputObj",e.selectedStudent)}}function Yt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",45),t.TgZ(1,"h5",46),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",47,27),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",48),t.qZA(),t.qZA(),t._UZ(7,"app-student-read-only-modal",50)}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,2,"Student Info")," "),t.xp6(5),t.Q6J("student",e.selectedStudent)}}function $t(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",51),t.TgZ(1,"h5",46),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",47,28),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",48),t.qZA(),t.qZA(),t.TgZ(7,"div",52),t.TgZ(8,"app-attach-modal",53),t.NdJ("onCaseLoadSaved",function(){return t.CHM(e),t.oxw().clearSelectedStudents()}),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,4,"Attach Provider to Student")),t.xp6(6),t.Q6J("isBulkStudentsAssign",!0)("selectedStudentsIds",e.selectedList)("type","attach-provider")}}let Bt=(()=>{class i{constructor(e,n,o,l,r){this.util=e,this._eventService=n,this._modalService=o,this.toastr=l,this.studentService=r,this.client=null,this.isAdmin=this.util.isAdmin(),this.items=[],this.allowedPermissions=new N.m,this.isloadingState=!1,this.selectedStudent=null,this.subs=new x.w,this.total=0,this.limit=10,this.page=0,this.teamDecorator={},this.itemDecoratorComplete=!1,this.search=new ot.sF,this.filterFields=new St.B,this.checkedAll=!1,this.selectedList=[],this.isProvider=this.util.isProvider(),this.initFilter()}ngOnInit(){this.limit=this.util.getPageLimit(),this.search.deleted=!1,this.search.userId=this.isAdmin?null:this.util.getLoggedUserId(),this.allowedPermissions=this.util.getAllowedPermissions(),this.client.id&&this.loadData(),this.subs.add(this._eventService.onStudentSaveEventSaved.subscribe(e=>{this.loadData()}))}loadData(){this.isloadingState=!0,this.search.clientId=this.client.id,this.studentService.getAllStudents(this.search,this.limit,this.page).then(e=>{let n=this.studentService.getData(e);this.items=n.resultList,this.total=n.totalRecords,this.renderTeamMembers(),this.isloadingState=!1}).catch(e=>{this.isloadingState=!1,console.log(e)})}onApplyFilter(e){this.search=e,this.loadData()}initFilter(){this.filterFields.user=!0,this.filterFields.startDate=!0,this.filterFields.endDate=!0,this.filterFields.deleted=!0}refreshList(){this.search=new ot.sF}renderTeamMembers(){this.items.forEach(e=>{null==e.providers&&(e.providers=[]),e.innerDiv='<ul class="list-unstyled users-list">',e.providers.forEach(n=>{if(n.user.profilePic)e.innerDiv+=`<li class="avatar avatar-sm pull-up"><a class="btn-circle btn p-0 popover-item nowrap" href="javascript:void(0)">\n    \t\t\t\t\t\t\t\t<img src="${n.user.profilePic}" alt="user" width="36" height="36"\n    \t\t\t\t\t\t\t\tclass="rounded-circle" data-html="true"\n    \t\t\t\t\t\t\t\ttitle="${n.user.fullName} &#013;${n.user.role} &#013;${n.user.email} &#013;${null==n.user.phone?"":n.user.phone}"\n    \t\t\t\t\t\t\t\tplacement="left"></a>\n    \t\t\t\t\t\t\t\t</li>`;else{let o=n.user.fullName.trim().toUpperCase();this.teamDecorator[n.user.fullName]=o.split(" ")[0].substring(0,1)+""+o.split(" ")[1].substring(0,1),e.innerDiv+=`<li class="avatar avatar-sm pull-up"><a class="btn ${this.util.getUserColor(n.user.fullName)} btn-circle text-white popover-item font-12 lol-user-icon nowrap" href="javascript:void(0)"\n    \t\t\t\t\t\t\tdata-html="true"\n    \t\t\t\t\t\t\ttitle="${n.user.fullName} &#013;${n.user.role} &#013;${n.user.email} &#013;${null==n.user.phone?"":n.user.phone}"\n    \t\t\t\t\t\t\tplacement="left">${this.teamDecorator[n.user.fullName]}</a>\n    \t\t\t\t\t\t</li>`}}),e.innerDiv+="</ul>"}),this.itemDecoratorComplete=!0}openModelPopup(e,n){this.selectedStudent=null!=e?e:new bt.Db,this.selectedStudent.client=this.client,this._modalService.open(n,{size:"md",backdrop:"static",keyboard:!1,centered:!0,windowClass:this.util.getThemeFromSession("lol-modal-sm")})}viewModelPopup(e,n){this.selectedStudent=e,this._modalService.open(n,{size:"lg",backdrop:"static",keyboard:!1,centered:!0,windowClass:this.util.getThemeFromSession("lol-modal-sm")})}onSorted(e){it.o.sortByProperty(this.items,e.sortColumn,e.sortDirection)}deleteRec(e){this.isloadingState=!0,this.studentService.deleteRecord(e).then(n=>{this.isloadingState=!1,this.toastr.success("Deleted","SUCCESS"),this.loadData()}).catch(n=>{this.isloadingState=!1,console.log(n)})}onPageChanged(e){this.limit=e.limit,this.page=e.page,this.loadData()}ngOnDestroy(){this.subs.unsubscribe()}toggleCheckAll(){this.checkedAll=!this.checkedAll,this.checkedAll&&(this.selectedList=[],this.items.forEach(e=>{e.checked=!0,this.selectedList.push(e.id)})),this.checkedAll||(this.selectedList=[],this.items.forEach(e=>{e.checked=!1}))}removeFromBulk(e,n){return e.filter(function(o){return o!=n})}toggleCheckBox(e){e.checked=!e.checked,e.checked&&e&&this.selectedList.push(e.id),e.checked||(this.selectedList=this.removeFromBulk(this.selectedList,e.id)),this.checkedAll=this.items.every(n=>this.selectedList.includes(n.id))}assignToCaseLoad(e){this._modalService.open(e,{size:"lg",backdrop:"static",keyboard:!1,centered:!0,windowClass:this.util.getThemeFromSession("lol-modal-sm")})}clearSelectedStudents(){this.selectedList=[],this.loadData()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.Z),t.Y36(C.P),t.Y36(g.FF),t.Y36(T._W),t.Y36(qt.V))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-client-students"]],inputs:{client:"client"},decls:38,vars:22,consts:function(){let s,e,n,o;return s=$localize`:␟9de1ff747b78d4ffaf37d6c649d36ad970efde08␟1845047974724294655: ${"\ufffd0\ufffd"}:INTERPOLATION: `,e=$localize`:␟309f2beefeca885a05b9cda26dd2bc082c6d3ae5␟7326270204502256484: ${"\ufffd0\ufffd"}:INTERPOLATION: `,n=$localize`:␟cd531ff9073e4f7eb6bfb62c9332cdc847d33585␟475736727841131510:${"\ufffd0\ufffd"}:INTERPOLATION:`,o=$localize`:␟c3961cf30b0fac76baaaa016c6f1d37ff72cbb74␟4585555454834934080: ${"\ufffd0\ufffd"}:INTERPOLATION: `,[[1,"row","card","py-2","m-0"],[1,"col-md-12"],[1,""],["appFixedTableHeader","",1,"card-body","p-t-0"],[1,"fixed-filter-container"],[3,"filterFields","onApplyFilter","onClearFilter"],[1,"d-flex","justify-content-end","mb-2"],["class","btn bg-success text-light  btn-outline-success btn-anim-dropshadow","type","button","title","Create Student",3,"click",4,"ngIf"],["class","btn  btn-outline-primary btn-anim-dropshadow","type","button","title","Create Student",3,"click",4,"ngIf"],[1,"table","table-responsive","smart-table","table-container"],["sortable-table","",1,"table","table-striped","table-hover","v-middle","wh-table-people",3,"sorted"],["width","5%"],[1,"custom-control","custom-checkbox"],["id","checkAll","type","checkbox",1,"custom-control-input","pl-2",3,"checked","change"],["for","checkAll",1,"custom-control-label"],["scope","col",3,"sortable-column","sort-direction"],s,["sortable-column","firstName","scope","col",1,"cursor-pointer"],e,["scope","col"],n,["sortable-column","status","scope","col",1,"cursor-pointer"],o,[4,"ngIf"],[3,"rows","classList",4,"ngIf"],[3,"totalNumOfRecords","onPageChanged"],["addEditStudent",""],["clientStudentDetail",""],["attachModal",""],["type","button","title","Create Student",1,"btn","bg-success","text-light","btn-outline-success","btn-anim-dropshadow",3,"click"],["type","button","title","Create Student",1,"btn","btn-outline-primary","btn-anim-dropshadow",3,"click"],[1,"mdi","mdi-plus-circle-outline","m-r-5"],[4,"ngFor","ngForOf"],["colspan","13",1,"text-center","pt-3"],["type","checkbox",1,"custom-control-input",3,"checked","change"],[1,"custom-control-label"],[1,"user-icon-cell","cursor-pointer"],["href","javascript:void(0)",1,"cursorPointer",3,"click"],[1,"user-icon-cell"],[1,"cursorPointer",3,"click"],["ngxTooltip","",1,"status-circle",3,"ngClass","title"],["class","text-align-left",4,"ngIf"],[1,"text-align-left"],[3,"confirmMsg","edit","delete"],[3,"rows","classList"],[1,"modal-header","p-3"],["id","modal-basic-title",1,"modal-title"],["data-dismiss","modal",1,"cursorPointer",3,"click"],[1,"mdi","mdi-close"],[2,"width","100%",3,"defaultSelectedClient","inputObj"],[2,"width","100%",3,"student"],[1,"bg-info","text-white","modal-header","p-2"],[1,"modal-body"],[3,"isBulkStudentsAssign","selectedStudentsIds","type","onCaseLoadSaved"]]},template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"app-students-grid-view-filter",5),t.NdJ("onApplyFilter",function(l){return n.onApplyFilter(l)})("onClearFilter",function(){return n.refreshList()}),t.qZA(),t.qZA(),t.TgZ(6,"div",6),t.YNc(7,wt,2,0,"button",7),t.YNc(8,Ot,3,0,"button",8),t.qZA(),t.TgZ(9,"div",9),t.TgZ(10,"table",10),t.NdJ("sorted",function(l){return n.onSorted(l)}),t.TgZ(11,"thead"),t.TgZ(12,"th",11),t.TgZ(13,"div",12),t.TgZ(14,"input",13),t.NdJ("change",function(){return n.toggleCheckAll()}),t.qZA(),t._UZ(15,"label",14),t.qZA(),t.qZA(),t.TgZ(16,"th",15),t.SDv(17,16),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th",17),t.SDv(20,18),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th",19),t.SDv(23,20),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th",21),t.SDv(26,22),t.ALo(27,"translate"),t.qZA(),t.YNc(28,Pt,3,3,"th",23),t.qZA(),t.YNc(29,Ut,3,2,"tbody",23),t.qZA(),t.YNc(30,Ft,1,2,"table-loading",24),t.TgZ(31,"app-pagination",25),t.NdJ("onPageChanged",function(l){return n.onPageChanged(l)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(32,Qt,8,5,"ng-template",null,26,t.W1O),t.YNc(34,Yt,8,4,"ng-template",null,27,t.W1O),t.YNc(36,$t,9,6,"ng-template",null,28,t.W1O)),2&e&&(t.xp6(5),t.Q6J("filterFields",n.filterFields),t.xp6(2),t.Q6J("ngIf",n.selectedList.length),t.xp6(1),t.Q6J("ngIf",n.allowedPermissions.CAN_MANAGE_CLIENTS&&!n.client.deleted&&n.isAdmin),t.xp6(6),t.Q6J("checked",n.checkedAll),t.xp6(2),t.Q6J("sortable-column","lastName")("sort-direction","asc"),t.xp6(2),t.pQV(t.lcZ(18,14,"Last Name")),t.QtT(17),t.xp6(3),t.pQV(t.lcZ(21,16,"First Name")),t.QtT(20),t.xp6(3),t.pQV(t.lcZ(24,18,"Location")),t.QtT(23),t.xp6(3),t.pQV(t.lcZ(27,20,"Status")),t.QtT(26),t.xp6(1),t.Q6J("ngIf",n.isAdmin&&n.allowedPermissions.CAN_MANAGE_STUDENTS),t.xp6(1),t.Q6J("ngIf",!n.isloadingState),t.xp6(1),t.Q6J("ngIf",n.isloadingState),t.xp6(1),t.Q6J("totalNumOfRecords",n.total))},directives:[lt.K,Mt.p,_.O5,H.Q,Q.a,V.Q,_.sg,_.mk,P.C,O.I,Lt.L,Nt.h,yt.H],pipes:[v.X$,Y.W],styles:["td[_ngcontent-%COMP%]{\r\n    padding-top: 8px;\r\n    padding-bottom: 8px;\r\n}"]}),i})();var z=c(9430),b=c(8682),q=c(1314),Rt=c(5165),G=c(83);class jt extends G.j{constructor(){super(...arguments),this.active=!0,this.client=null,this.endDate=null,this.id=null,this.note=null,this.projectedAmount=null,this.projectedHours=null,this.startDate=null,this.title=null,this.trackQuarterly=null,this.createdByUserName=null,this.updatedByUserName=null}}class Ht extends G.j{constructor(){super(...arguments),this.contract=null,this.contractRates=null,this.hourlyTermsMap=null,this.id=null,this.location=null,this.name=null,this.placementSchool=null,this.termDetails=[],this.termsAmount=null,this.createdByUserName=null,this.updatedByUserName=null}}class st extends G.j{constructor(){super(...arguments),this.flatAmount=null,this.id=null,this.scheduled=!1,this.scheduledDetails=[],this.servicePoNumber=null,this.serviceType=null,this.targetAmount=null,this.targetHours=null,this.termWbs=[],this.termsAmount=null}}class Vt{constructor(){this.id=null,this.scheduledCharges=0,this.scheduledDate=null}}let zt=(()=>{class i extends U.d{constructor(e){super("/bts/api/v1/contract-term/",e),this.provider=e}getTermLocations(e){return this.getList(`${e}/contract`)}saveTerm(e,n){return null!=e.id?this.updateClient(e,n):this.save(e,`${n}/client`)}updateClient(e,n){return this.update(e,n+"/update")}getTermDetailById(e){return this.getRecord(e)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(F.U))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),rt=(()=>{class i extends U.d{constructor(e){super("/bts/api/v1/contract-term/",e),this.provider=e}getAllTerms(e){return this.getList(`/${e}/client`)}saveTermLocation(e=!1,n,o,l){let r=`${o}/client-contract/${l}/client-location`;return 1==e&&(r=`/default-term/client-contract/${o}`),null!=n.id&&!0!==e?this.updateClient(e,n,o,l):this.save(n,r)}updateClient(e=!1,n,o,l){let r=`${o}/client-contract/${l}/client-location`;return 1==e&&(r=r=`/default-term/client-contract/${o}`),this.update(n,r)}createFlatCharges(e,n,o){let l=this.getEncodedPathParams({poNumber:n});return this.save(e,`/${o}/po/${l.poNumber}/charges`)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(F.U))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Gt=c(178),at=c(1201);function Wt(i,s){if(1&i&&(t.TgZ(0,"option",37),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.Q6J("ngValue",e),t.xp6(1),t.hij("",e.title||e.name," ")}}function Xt(i,s){1&i&&(t.TgZ(0,"div"),t._uU(1,"Location is required"),t.qZA())}function Kt(i,s){if(1&i&&(t.TgZ(0,"div",38),t.YNc(1,Xt,2,0,"div",21),t.qZA()),2&i){t.oxw();const e=t.MAs(4);t.xp6(1),t.Q6J("ngIf",null==e?null:e.errors.required)}}const te=function(i){return{"is-invalid":i}};function ee(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",25),t.TgZ(1,"div",26),t.TgZ(2,"div",27),t.TgZ(3,"select",28,29),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().contract.location=o}),t.TgZ(5,"option",30),t._uU(6,"-Select Location-"),t.qZA(),t.YNc(7,Wt,2,2,"option",31),t.qZA(),t.YNc(8,Kt,2,1,"div",32),t.qZA(),t.qZA(),t.TgZ(9,"div",33),t.TgZ(10,"div",14),t.TgZ(11,"input",34,35),t.NdJ("change",function(o){return t.CHM(e),t.oxw().placementChange(o)})("ngModelChange",function(o){return t.CHM(e),t.oxw().placementLocation=o}),t.qZA(),t.TgZ(13,"label",36),t.TgZ(14,"span"),t._uU(15,"Placement Locations"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.MAs(4),n=t.oxw(),o=t.MAs(2);t.xp6(3),t.Q6J("ngModel",n.contract.location)("ngClass",t.VKq(7,te,o.submitted&&e.invalid))("required",!n.type&&!n.isEdit),t.xp6(2),t.Q6J("ngValue",null),t.xp6(2),t.Q6J("ngForOf",n.clientLocations),t.xp6(1),t.Q6J("ngIf",o.submitted&&e.invalid),t.xp6(3),t.Q6J("ngModel",n.placementLocation)}}function ne(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",40),t.TgZ(2,"div"),t.TgZ(3,"div",41),t.TgZ(4,"div",42),t.TgZ(5,"ng-lottie",43),t.NdJ("animCreated",function(o){return t.CHM(e),t.oxw(2).handleAnimation(o)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div"),t.TgZ(7,"h4",44),t._uU(8,"No Service Types Data Found."),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(5),t.Q6J("options",e.lottieEmpty)}}function ie(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t.TgZ(2,"div",14),t.TgZ(3,"input",45),t.NdJ("change",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(2).toggleServiceTypeSelect(o)}),t.qZA(),t._UZ(4,"label",46),t.qZA(),t.qZA(),t.TgZ(5,"td",47),t._uU(6),t.qZA(),t.TgZ(7,"td"),t.TgZ(8,"div",25),t.TgZ(9,"ui-switch",48),t.NdJ("ngModelChange",function(o){t.CHM(e);const l=t.oxw().$implicit;return t.oxw(2).updateList(l,o)})("ngModelChange",function(o){return t.CHM(e),t.oxw().$implicit.scheduled=o}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(),n=e.index,o=e.$implicit;t.xp6(3),t.Q2q("id","checkbox_",n,""),t.Q6J("checked",o.checked),t.xp6(1),t.Q2q("for","checkbox_",n,""),t.xp6(1),t.Q6J("title",null==o?null:o.title),t.xp6(1),t.Oqu(null==o?null:o.title),t.xp6(3),t.MGl("name","scheduled-",n,""),t.Q6J("ngModel",o.scheduled)}}function oe(i,s){if(1&i&&(t.ynx(0),t.YNc(1,ie,10,7,"tr",21),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.serviceTypes.length>0)}}function le(i,s){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,ne,9,1,"tr",21),t.YNc(2,oe,2,1,"ng-container",39),t.ALo(3,"sort"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",0==e.serviceTypes.length),t.xp6(1),t.Q6J("ngForOf",t.xi3(3,2,e.serviceTypes,"title"))}}function se(i,s){1&i&&t._UZ(0,"table-loading")}const re=function(){return{backdropBorderRadius:"3px"}};let ae=(()=>{class i{constructor(e,n,o,l,r,d){this.util=e,this.locationService=n,this.service=o,this.modelService=l,this.toastr=r,this._client_service=d,this.client=null,this.term=null,this.selectedLocation=null,this.type=!1,this.isEdit=!1,this.hideLocations=[],this.onSave=new t.vpe,this.isLoadingState=!1,this.placementLocation=!1,this.checkAll=!1,this.serviceTypes=[],this.contract=new Ht,this.clientLocations=[],this.selectedItemsList=[],this.wbs=[],this.loading=!1,this.lottieEmpty={path:"../../assets/images/lottie/empty-box.json",renderer:"svg",autoplay:!0,loop:!1}}ngOnInit(){this.serviceTypes=this.util.getBtsServiceTypesFromSession(),this.serviceTypes=this.util.filterList("deleted",!0,this.serviceTypes),this.client.id&&this.getClientLoc(),null!==this.selectedLocation&&this.isEdit&&(this.contract=this.selectedLocation,this.checkSelectedServices())}checkSelectedServices(){this.selectedLocation.termDetails.filter(e=>{this.serviceTypes.forEach((n,o)=>{n.id===e.serviceType.id&&(this.serviceTypes[o].checked=!0,this.serviceTypes[o].scheduled=e.scheduled)})})}placementChange(e){e.target.checked?this.getLocations():this.getClientLoc()}getClientLoc(){this.isLoadingState=!0,this.locationService.fetchByClientId(this.client.id).then(e=>{this.isLoadingState=!1,this.clientLocations=this.locationService.getData(e),this.clientLocations=this.clientLocations.filter(n=>!this.hideLocations.includes(n.id))}).catch(e=>{this.isLoadingState=!1,console.log("error",e)})}getLocations(){this.isLoadingState=!0,this._client_service.getAllClients({placementSchool:!0},null,null).then(e=>{this.isLoadingState=!1,this.clientLocations=this.locationService.getData(e).resultList,this.clientLocations=this.clientLocations.filter(n=>!this.hideLocations.includes(n.id))}).catch(e=>{this.isLoadingState=!1,console.log("error",e)})}onsubmit(){var e,n,o,l,r,d,p,u,A,J;if(this.isServiceTypeSelected()||null==this.term.id)return;this.loading=!0,null==this.contract.id&&(this.contract.placementSchool=this.placementLocation?null===(e=this.contract.location)||void 0===e?void 0:e.id:null,this.contract.name=null!==(l=null===(o=null===(n=this.contract)||void 0===n?void 0:n.location)||void 0===o?void 0:o.title)&&void 0!==l?l:null===(d=null===(r=this.contract)||void 0===r?void 0:r.location)||void 0===d?void 0:d.name,this.contract.location=this.placementLocation?null:null===(p=this.contract)||void 0===p?void 0:p.location);let tt=null!==(J=null===(A=null===(u=this.contract)||void 0===u?void 0:u.location)||void 0===A?void 0:A.id)&&void 0!==J?J:this.contract.placementSchool;this.service.saveTermLocation(this.type,this.contract,this.term.id,tt).then(D=>{this.onSave.emit(this.service.getData(D)),this.modelService.dismissAll(),this.loading=!1,this.toastr.success(" Added","Success")}).catch(D=>{this.loading=!1,console.log(D)})}isServiceTypeSelected(){if(0==this.contract.termDetails.length)return this.toastr.error("Select at least on check from Service Type"),!0}handleAnimation(e){this.anim=e}toggleCheckAll(){this.checkAll=!this.checkAll,this.checkAll&&(this.selectedItemsList=[],this.serviceTypes.forEach(e=>{e.checked=!0;let n=new st;n.serviceType=e,n.termWbs=null,n.scheduled=e.scheduled,this.contract.termDetails.push(n)})),this.checkAll||(this.contract.termDetails=[],this.serviceTypes.forEach(e=>{e.checked=!1}))}toggleServiceTypeSelect(e){if(e.checked=!e.checked,e.checked&&e){let n=new st;n.serviceType=e,n.scheduled=e.scheduled,n.termWbs=null,this.contract.termDetails.push(n)}e.checked||(this.contract.termDetails=this.removeFromBulk(this.contract.termDetails,e.id)),this.checkAll=this.serviceTypes.every(n=>this.selectedItemsList.includes(n))}removeFromBulk(e,n){return e.filter(function(o){var l;return(null===(l=o.serviceType)||void 0===l?void 0:l.id)!=n})}updateList(e,n){this.contract.termDetails.length>0&&this.contract.termDetails.forEach((o,l)=>{e.id==this.contract.termDetails[l].serviceType.id&&(this.contract.termDetails[l].scheduled=n)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.Z),t.Y36(w._),t.Y36(rt),t.Y36(g.FF),t.Y36(T._W),t.Y36(M.y))},i.\u0275cmp=t.Xpm({type:i,selectors:[["term-location-pop-up"]],inputs:{client:"client",term:"term",selectedLocation:"selectedLocation",type:"type",isEdit:"isEdit",hideLocations:"hideLocations"},outputs:{onSave:"onSave"},decls:27,vars:11,consts:function(){let s,e;return s=$localize`:␟a503b9fb30ff9ddd8d0dfbb923c60a8f20d04e0e␟8523320605590081530: Service Types`,e=$localize`:␟4538bc3a03312481867e3f36fae6c2f9a5fe6fef␟8447733642026523349:Bill Type `,[[3,"show","config"],["name","form",3,"ngSubmit","keydown.enter"],["addForm","ngForm"],[1,"modal-body"],[1,"col-lg-12"],[1,"card","custom-fieldset","custom-fieldset-arrest"],[1,"card-body","has-filter"],["class","row",4,"ngIf"],[1,"row","mt-3"],[1,"col-12"],[1,"table-charges","table","table-sm","m-b-0"],[1,"table","table-borderless"],[1,"bg-success","text-white"],["width","5%"],[1,"custom-control","custom-checkbox"],["id","checkAll","type","checkbox",1,"custom-control-input","pl-2",3,"checked","change"],["for","checkAll",1,"custom-control-label"],["width","80%","sortable-column","contact","scope","col",1,"cursor-pointer"],s,["width","15%","sortable-column","matter","scope","col",1,"cursor-pointer","text-align-end"],e,[4,"ngIf"],[1,"modal-footer"],[1,"row","form-controls-right"],[3,"saveBtnSizeAndStyle","cancelBtnSizeAndStyle","type","loader","onCancelClick"],[1,"row"],[1,"col-md-9"],[1,"form-group"],["name","location",1,"browser-default","custom-select",3,"ngModel","ngClass","required","ngModelChange"],["location","ngModel"],["selected","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-3","mt-2"],["name","placement","type","checkbox","id","isPlacement",1,"custom-control-input",3,"ngModel","change","ngModelChange"],["placement","ngModel"],["for","isPlacement",1,"custom-control-label"],[3,"ngValue"],[1,"invalid-feedback"],[4,"ngFor","ngForOf"],["colspan","7",1,"text-center","pt-3"],[1,"d-flex","justify-content-around","align-items-center","mr-auto","mb-0","ml-auto"],[2,"width","150px","height","150px","margin-top","5px"],["width","75","height","75","containerClass","lottie-animation-empty",3,"options","animCreated"],[1,"arrow"],["type","checkbox",1,"custom-control-input",3,"checked","change"],[1,"custom-control-label"],[3,"title"],["size","small","uncheckedLabel","Hourly","checkedLabel","Flat","color","#26daab",1,"col-12","text-muted","text-align-end",3,"name","ngModel","ngModelChange"]]},template:function(e,n){if(1&e){const o=t.EpF();t._UZ(0,"ngx-loading",0),t.TgZ(1,"form",1,2),t.NdJ("ngSubmit",function(){return t.CHM(o),t.MAs(2).form.valid&&n.onsubmit()})("keydown.enter",function(r){return r.preventDefault()}),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.YNc(7,ee,16,9,"div",7),t.TgZ(8,"div",8),t.TgZ(9,"div",9),t.TgZ(10,"div",10),t.TgZ(11,"table",11),t.TgZ(12,"thead",12),t.TgZ(13,"tr"),t.TgZ(14,"th",13),t.TgZ(15,"div",14),t.TgZ(16,"input",15),t.NdJ("change",function(){return n.toggleCheckAll()}),t.qZA(),t._UZ(17,"label",16),t.qZA(),t.qZA(),t.TgZ(18,"th",17),t.SDv(19,18),t.qZA(),t.TgZ(20,"th",19),t.SDv(21,20),t.qZA(),t.qZA(),t.qZA(),t.YNc(22,le,4,5,"tbody",21),t.qZA(),t.YNc(23,se,1,0,"table-loading",21),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",22),t.TgZ(25,"div",23),t.TgZ(26,"app-save-button",24),t.NdJ("onCancelClick",function(){return n.modelService.dismissAll()}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}2&e&&(t.Q6J("show",n.isLoadingState)("config",t.DdM(10,re)),t.xp6(7),t.Q6J("ngIf",!n.type&&!n.isEdit),t.xp6(9),t.Q6J("checked",n.checkAll),t.xp6(6),t.Q6J("ngIf",!n.isLoadingState),t.xp6(1),t.Q6J("ngIf",n.isLoadingState),t.xp6(3),t.Q6J("saveBtnSizeAndStyle","btn-outline-success")("cancelBtnSizeAndStyle","btn-outline-danger")("type","submit")("loader",n.loading))},directives:[Z.RJ,a._Y,a.JL,a.F,_.O5,Q.a,b.t,a.EJ,a.JJ,a.On,_.mk,a.Q7,a.YN,a.Kr,_.sg,a.Wl,k.e$,j.ob,O.I],pipes:[at.F],styles:[""]}),i})();var ce=c(854);function de(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-save-button",6),t.NdJ("onBtnClick",function(){t.CHM(e);const o=t.oxw(),l=t.MAs(25);return o.openPopup(l,!0)}),t.qZA()}2&i&&t.Q6J("text","Add Default Term")("saveBtnSizeAndStyle","btn btn-outline-primary deep-sky-blue  cursor-pointer col-12")("showCancelBtn",!1)}function _e(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,l=t.oxw(2),r=t.MAs(25);return l.openPopup(r,null==o?null:o.defaultTerm,!0)}),t._UZ(1,"span",31),t.qZA()}}function pe(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(2).deleteContractTerm(o.id)}),t._UZ(1,"span",32),t.qZA()}}const ge=function(i,s){return{"lol-item-active":i,"order-first":s}};function ue(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",27),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw(2).clickEvent(null==l?null:l.defaultTerm,l)}),t.TgZ(1,"span",28),t._uU(2),t.ALo(3,"nullToDash"),t.qZA(),t.TgZ(4,"div"),t.YNc(5,_e,2,0,"a",29),t.YNc(6,pe,2,0,"a",29),t.qZA(),t.qZA()}if(2&i){const e=s.$implicit,n=t.oxw(2);t.Q6J("ngClass",t.WLB(6,ge,n.menu_id==e.id,null==e?null:e.defaultTerm)),t.xp6(2),t.Oqu(null!=e&&e.defaultTerm?"Default Service Term":t.lcZ(3,4,null==e?null:e.name)),t.xp6(3),t.Q6J("ngIf",n.menu_id==e.id),t.xp6(1),t.Q6J("ngIf",n.menu_id==e.id)}}function me(i,s){if(1&i&&(t.TgZ(0,"div",4),t.TgZ(1,"div",18),t.TgZ(2,"div",25),t.YNc(3,ue,7,9,"div",26),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.termLocations)}}function he(i,s){1&i&&t._UZ(0,"table-loading",33),2&i&&t.Q6J("rows",8)("classList","ph-col-10")}function fe(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",34),t.TgZ(1,"div",35),t.TgZ(2,"div",36),t.TgZ(3,"ng-lottie",37),t.NdJ("animCreated",function(o){return t.CHM(e),t.oxw().handleAnimation(o)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(4,"div"),t.TgZ(5,"h4",38),t._uU(6,"No Records Found."),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(3),t.Q6J("options",e.lottieEmpty)}}function Te(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",39),t.TgZ(1,"div",34),t.TgZ(2,"div",35),t.TgZ(3,"div",36),t.TgZ(4,"ng-lottie",37),t.NdJ("animCreated",function(o){return t.CHM(e),t.oxw().handleAnimation(o)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div"),t.TgZ(6,"h4",38),t._uU(7,"No Records Found."),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("options",e.lottieEmpty)}}function Ce(i,s){1&i&&t._UZ(0,"table-loading",33),2&i&&t.Q6J("rows",8)("classList","ph-col-10")}function Ze(i,s){1&i&&t._UZ(0,"i",50)}function ve(i,s){1&i&&t._UZ(0,"i",51)}function Ae(i,s){if(1&i&&(t.TgZ(0,"div",43),t.TgZ(1,"span",44),t._uU(2),t.qZA(),t.TgZ(3,"div",45),t.TgZ(4,"h4",46),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"button",47),t.YNc(8,Ze,1,0,"i",48),t.YNc(9,ve,1,0,"i",49),t.qZA(),t.qZA(),t.qZA()),2&i){const e=s.opened,n=t.oxw().$implicit;t.xp6(2),t.Oqu(null==n||null==n.serviceType?null:n.serviceType.title),t.xp6(3),t.Oqu(n.scheduled?"Flat":t.lcZ(6,4,"Hourly")),t.xp6(3),t.Q6J("ngIf",!e),t.xp6(1),t.Q6J("ngIf",e)}}function xe(i,s){1&i&&(t.TgZ(0,"div",66),t._uU(1," Please enter hours as a whole number. "),t.qZA())}function be(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",67),t.TgZ(1,"div",68),t.TgZ(2,"div",55),t.TgZ(3,"input",61,69),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).$implicit.flatAmount=o}),t.ALo(5,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",68),t.TgZ(7,"button",70),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2),l=o.$implicit,r=o.index,d=t.oxw(2),p=t.MAs(27);return d.addSchedule(l,r,p)}),t._UZ(8,"i",71),t._uU(9," Scheduled "),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2),n=e.index,o=e.$implicit;t.xp6(3),t.MGl("name","flatAmount-",n,""),t.s9C("placeholder",t.lcZ(5,3,"Flat Amount")),t.Q6J("ngModel",o.flatAmount)}}function Se(i,s){1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",72),t.TgZ(2,"strong"),t._uU(3,"No Activity for this Service"),t.qZA(),t.qZA(),t.qZA())}function qe(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",75),t._uU(2),t.qZA(),t.TgZ(3,"td",76),t.TgZ(4,"div",77),t.TgZ(5,"span",78),t._UZ(6,"i",79),t.qZA(),t.TgZ(7,"input",80,81),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.rate=o}),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=s.$implicit,n=s.index;t.xp6(2),t.Oqu(e.wbsTitle),t.xp6(5),t.s9C("placeholder",t.lcZ(9,4,"$ 0.0 ")),t.MGl("name","rate-",n,""),t.Q6J("ngModel",e.rate)}}function Me(i,s){if(1&i&&(t.TgZ(0,"tbody",73),t.YNc(1,qe,10,6,"tr",74),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",e.termWbs)}}function Le(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",52),t.TgZ(1,"div",53),t.TgZ(2,"div",54),t.TgZ(3,"div",55),t.TgZ(4,"input",56,57),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().$implicit.servicePoNumber=o}),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",54),t.TgZ(8,"div",55),t.TgZ(9,"input",58,59),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().$implicit.targetHours=o}),t.ALo(11,"translate"),t.qZA(),t.qZA(),t.YNc(12,xe,2,0,"div",60),t.qZA(),t.TgZ(13,"div",54),t.TgZ(14,"div",55),t.TgZ(15,"input",61,62),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().$implicit.targetAmount=o}),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(18,be,10,5,"div",63),t.TgZ(19,"table",64),t.TgZ(20,"thead"),t.TgZ(21,"tr"),t.TgZ(22,"th"),t._uU(23,"Activity "),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Charges ($/hour) "),t.qZA(),t.qZA(),t.qZA(),t.YNc(26,Se,4,0,"tr",16),t.YNc(27,Me,2,1,"tbody",65),t.qZA(),t.qZA()}if(2&i){const e=t.MAs(10),n=t.oxw(),o=n.index,l=n.$implicit;t.xp6(4),t.MGl("name","servicePoNumber-",o,""),t.s9C("placeholder",t.lcZ(6,13,"PO Number")),t.Q6J("ngModel",l.servicePoNumber),t.xp6(5),t.MGl("name","targetHours-",o,""),t.s9C("placeholder",t.lcZ(11,15,"Target Time ")),t.Q6J("ngModel",l.targetHours),t.xp6(3),t.Q6J("ngIf",e.invalid&&(e.dirty||e.touched)),t.xp6(3),t.MGl("name","targetAmount-",o,""),t.s9C("placeholder",t.lcZ(17,17,"Target Amount ")),t.Q6J("ngModel",l.targetAmount),t.xp6(3),t.Q6J("ngIf",l.scheduled),t.xp6(8),t.Q6J("ngIf",0==(null==l.termWbs?null:l.termWbs.length)),t.xp6(1),t.Q6J("ngIf",(null==l.termWbs?null:l.termWbs.length)>0)}}function Ne(i,s){1&i&&(t.TgZ(0,"div",4),t.TgZ(1,"ngb-accordion"),t.TgZ(2,"ngb-panel"),t.YNc(3,Ae,10,6,"ng-template",41),t.YNc(4,Le,28,19,"ng-template",42),t.qZA(),t.qZA(),t.qZA())}function ye(i,s){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Ne,5,0,"div",40),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.selectedLoc.termDetails)}}function we(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",82),t.TgZ(1,"h5",83),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",84,22),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",85),t.qZA(),t.qZA(),t.TgZ(7,"term-location-pop-up",86),t.NdJ("onSave",function(o){return t.CHM(e),t.oxw().fetchTermLocation(o)}),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,7,e.modelTitle)," "),t.xp6(5),t.Q6J("client",e.client)("hideLocations",e.hideLocations)("selectedLocation",e.selectedLoc)("term",e.term)("type",e.isDefaultTerm)("isEdit",e.isEditTerm)}}function Oe(i,s){if(1&i&&(t.TgZ(0,"h6",95),t._uU(1,"Scheduled : "),t.TgZ(2,"span",96),t._uU(3),t.ALo(4,"currency"),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,1,e.getScheduleAmout()))}}function Pe(i,s){1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",116),t.TgZ(2,"strong"),t._uU(3,"No Record Found"),t.qZA(),t.qZA(),t.qZA())}function Ee(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.ynx(1),t.TgZ(2,"td"),t._uU(3),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"nullToDash"),t.ALo(8,"currency"),t.qZA(),t.TgZ(9,"td",4),t.TgZ(10,"div",77),t.TgZ(11,"edit-delete-btns",117),t.NdJ("delete",function(){const l=t.CHM(e).$implicit;return t.oxw(3).deleteScheduledRecord(l.id)}),t.qZA(),t.qZA(),t.qZA(),t.BQk(),t.qZA()}if(2&i){const e=s.$implicit;t.xp6(3),t.hij(" ",t.lcZ(4,7,null==e?null:e.createdDate)," "),t.xp6(3),t.hij(" ",t.lcZ(7,9,t.lcZ(8,11,null==e?null:e.amount))," "),t.xp6(5),t.Q6J("showConfirmDialog",!0)("confirmMsg","Are you sure to delete this scheduled charge ?")("showDeleteBtn",!0)("showEditBtn",!1)("showConfirmDialog",!0)}}function Ie(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"table",110),t.TgZ(1,"thead"),t.TgZ(2,"th",111),t.SDv(3,112),t.qZA(),t.TgZ(4,"th",111),t.SDv(5,113),t.qZA(),t._UZ(6,"th"),t.qZA(),t.TgZ(7,"tbody"),t.YNc(8,Pe,4,0,"tr",16),t.YNc(9,Ee,12,13,"tr",74),t.ALo(10,"pagination"),t.qZA(),t.TgZ(11,"div",114),t.TgZ(12,"app-pagination",115),t.NdJ("onPageChanged",function(o){return t.CHM(e),t.oxw(2).onPageChanged(o)}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(8),t.Q6J("ngIf",0==(null==e.selectedTermDetailCharges?null:e.selectedTermDetailCharges.length)||null==e.selectedTermDetailCharges),t.xp6(1),t.Q6J("ngForOf",t.Dn7(10,3,e.selectedTermDetailCharges,e.limit,e.pageNo+1)),t.xp6(3),t.Q6J("totalNumOfRecords",null==e.selectedTermDetailCharges?null:e.selectedTermDetailCharges.length)}}function Je(i,s){1&i&&t._UZ(0,"table-loading",118),2&i&&t.Q6J("rows",8)}function De(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",82),t.TgZ(1,"h5",83),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",84,23),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",85),t.qZA(),t.qZA(),t.TgZ(7,"form",87,88),t.NdJ("keydown.enter",function(o){return o.preventDefault()}),t.TgZ(9,"div",89),t.TgZ(10,"div",90),t.TgZ(11,"div",91),t.TgZ(12,"div",92),t.TgZ(13,"div",93),t.TgZ(14,"h4",94),t._uU(15),t.qZA(),t.TgZ(16,"h6",95),t._uU(17,"Total : "),t.TgZ(18,"span",96),t._uU(19),t.ALo(20,"currency"),t.qZA(),t.qZA(),t.YNc(21,Oe,5,3,"h6",97),t.qZA(),t.TgZ(22,"div",34),t.TgZ(23,"div",98),t.TgZ(24,"button",99),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),l=t.MAs(29);return o.openPopup(l)}),t.SDv(25,100),t.qZA(),t.TgZ(26,"div",101),t.TgZ(27,"input",102),t.NdJ("change",function(){return t.CHM(e),t.oxw().getFlatFeeChargesForTermDetail()})("ngModelChange",function(o){return t.CHM(e),t.oxw().excludeBilled=o}),t.qZA(),t.TgZ(28,"label",103),t._uU(29," Exclude Billed "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(30,Ie,13,7,"table",104),t.TgZ(31,"div",105),t.YNc(32,Je,1,1,"table-loading",106),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"div",107),t.TgZ(34,"div",108),t.TgZ(35,"app-save-button",109),t.NdJ("onCancelClick",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,12,"Schedule Charges")),t.xp6(13),t.Oqu(null==e.termDetail||null==e.termDetail.serviceType?null:e.termDetail.serviceType.title),t.xp6(4),t.Oqu(t.lcZ(20,14,e.termDetail.flatAmount?e.termDetail.flatAmount:0)),t.xp6(2),t.Q6J("ngIf",e.excludeBilled),t.xp6(6),t.Q6J("ngModel",e.excludeBilled),t.xp6(3),t.Q6J("ngIf",!e.isScheduledChargesLoading),t.xp6(2),t.Q6J("ngIf",e.isScheduledChargesLoading),t.xp6(3),t.Q6J("type","button")("showSaveBtn",!1)("loader",e.loading)("saveBtnSizeAndStyle","btn-outline-success")("cancelBtnSizeAndStyle","btn-outline-danger")}}function ke(i,s){if(1&i&&(t.TgZ(0,"h6",95),t._uU(1,"Scheduled : "),t.TgZ(2,"span",96),t._uU(3),t.ALo(4,"currency"),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,1,e.getScheduleAmout()))}}function Ue(i,s){1&i&&(t.TgZ(0,"div"),t._uU(1,"required"),t.qZA())}function Fe(i,s){if(1&i&&(t.TgZ(0,"div",135),t.YNc(1,Ue,2,0,"div",16),t.qZA()),2&i){t.oxw();const e=t.MAs(5);t.xp6(1),t.Q6J("ngIf",null==e?null:e.errors.required)}}function Qe(i,s){1&i&&(t.TgZ(0,"div"),t._uU(1,"required"),t.qZA())}function Ye(i,s){if(1&i&&(t.TgZ(0,"div",135),t.YNc(1,Qe,2,0,"div",16),t.qZA()),2&i){t.oxw();const e=t.MAs(14);t.xp6(1),t.Q6J("ngIf",null==e?null:e.errors.required)}}const $e=function(){return{showWeekNumbers:!1}},ct=function(i){return{"is-invalid":i}};function Be(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",68),t.TgZ(2,"div",55),t._UZ(3,"field-label",124),t.TgZ(4,"input",125,126),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.scheduledDate=o}),t.ALo(6,"translate"),t.ALo(7,"date"),t.qZA(),t._UZ(8,"span",127),t.YNc(9,Fe,2,1,"div",128),t.qZA(),t.qZA(),t.TgZ(10,"div",129),t.TgZ(11,"div",55),t._UZ(12,"field-label",124),t.TgZ(13,"input",130,131),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.scheduledCharges=o}),t.ALo(15,"translate"),t.qZA(),t.YNc(16,Ye,2,1,"div",128),t.qZA(),t.qZA(),t.TgZ(17,"div",132),t.TgZ(18,"span"),t.TgZ(19,"a",133),t.NdJ("click",function(){const l=t.CHM(e).index;return t.oxw(2).removeItem(l)}),t._UZ(20,"i",134),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=s.$implicit,n=s.index,o=t.MAs(5),l=t.MAs(14);t.oxw();const r=t.MAs(8);t.xp6(3),t.Q6J("labelStr","Charge Date")("isRequired",!0),t.xp6(1),t.s9C("placeholder",t.lcZ(6,16,"dd/mm/yyyy")),t.MGl("name","dateSchedule-",n,""),t.s9C("value",t.xi3(7,18,o.value,"MM/dd/yyyy")),t.Q6J("ngModel",e.scheduledDate)("bsConfig",t.DdM(23,$e))("ngClass",t.VKq(24,ct,r.submitted&&o.invalid)),t.xp6(5),t.Q6J("ngIf",r.submitted&&o.invalid),t.xp6(3),t.Q6J("labelStr","Charge Amount")("isRequired",!0),t.xp6(1),t.MGl("name","scheduledCharges-",n,""),t.s9C("placeholder",t.lcZ(15,21,"$")),t.Q6J("ngClass",t.VKq(26,ct,r.submitted&&l.invalid))("ngModel",e.scheduledCharges),t.xp6(3),t.Q6J("ngIf",r.submitted&&l.invalid)}}function Re(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",82),t.TgZ(1,"h5",83),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",84,24),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",85),t.qZA(),t.qZA(),t.TgZ(7,"form",119,88),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.MAs(8),l=t.oxw();return o.form.valid&&l.createFlatCharges()})("keydown.enter",function(o){return o.preventDefault()}),t.TgZ(9,"div",89),t.TgZ(10,"div",90),t.TgZ(11,"div",91),t.TgZ(12,"div",92),t.TgZ(13,"div",93),t.TgZ(14,"h4",94),t._uU(15),t.qZA(),t.TgZ(16,"h6",95),t._uU(17,"Total : "),t.TgZ(18,"span",96),t._uU(19),t.ALo(20,"currency"),t.qZA(),t.qZA(),t.YNc(21,ke,5,3,"h6",97),t.qZA(),t.TgZ(22,"div",34),t.YNc(23,Be,21,28,"div",120),t.TgZ(24,"div",121),t.TgZ(25,"button",99),t.NdJ("click",function(){return t.CHM(e),t.oxw().addRec()}),t.SDv(26,122),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"div",107),t.TgZ(28,"div",108),t.TgZ(29,"app-save-button",123),t.NdJ("onCancelClick",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,9,"Schedule Charges")),t.xp6(13),t.Oqu(null==e.termDetail||null==e.termDetail.serviceType?null:e.termDetail.serviceType.title),t.xp6(4),t.Oqu(t.lcZ(20,11,e.termDetail.flatAmount?e.termDetail.flatAmount:0)),t.xp6(2),t.Q6J("ngIf",e.excludeBilled),t.xp6(2),t.Q6J("ngForOf",e.scheduledDetails),t.xp6(6),t.Q6J("type","submit")("loader",e.loading)("saveBtnSizeAndStyle","btn-outline-success")("cancelBtnSizeAndStyle","btn-outline-danger")}}let je=(()=>{class i{constructor(e,n,o,l,r,d,p,u,A){this._util=e,this.termService=n,this.termLocationServ=o,this.service=l,this._modalService=r,this.toastr=d,this.confirmDialog=p,this._billing_service=u,this._event_service=A,this.term=null,this.client=null,this.hideLocations=[],this.view=new t.vpe,this.selectedTermDetailCharges=[],this.limit=null,this.isEditTerm=!1,this.defaultTermItem=null,this.defaultTermIndex=null,this.isLoadingState=!1,this.loading=!1,this.termLocations=[],this.menu_id=null,this.selectedLoc=null,this.termDetail=null,this.index=null,this.isDefaultTerm=!1,this.modelTitle="Add Location",this.pageNo=0,this.scheduledDetails=[],this.isScheduledChargesLoading=!1,this.excludeBilled=!0,this.subs=new x.w,this.lottieEmpty={path:"../assets/images/lottie/empty-box.json",renderer:"svg",autoplay:!0,loop:!1}}ngOnInit(){this.limit=this._util.getPageLimit(),this.limit>50&&(this.limit=50),this.term&&this.term.id&&this.fetchTermLocation(),this.subs.add(this._event_service.onScheduleChargesSaved.subscribe(e=>{this.onsubmit(!1)}))}fetchTermLocation(e=null){this.isLoadingState=!0,this.termLocationServ.getTermLocations(this.term.id).then(n=>{this.termLocations=this.termService.getData(n),this.defaultTermItem=this.getDefaultTerm(),void 0!==this.defaultTermItem&&(this.isDefaultTerm=!0),this.termLocations.length>0&&(this.menu_id=e?e.id:this.termLocations[0].id,this.selectedLoc=this.selectLocationsTerm(e)),this.isLoadingState=!1,this.termLocations.forEach(o=>{null!==o.location&&this.hideLocations.push(o.location.id)})}).catch(n=>{this.isLoadingState=!1,console.log(n)})}onsubmit(e=!0){null!=this.index&&(this.selectedLoc.termDetails[this.index]=this.termDetail),e?this.confirmDialog.confirm("Are you sure you want to save data?").then(n=>{n&&this.onSave()}).catch(n=>{console.log(n),console.log("User Closed Model")}):this.onSave()}onSave(){var e,n,o,l,r;this.loading=!0;let d=this.menu_id===(null!==(n=null===(e=this.defaultTermItem)||void 0===e?void 0:e.id)&&void 0!==n?n:null),p=null!==(r=null===(l=null===(o=this.selectedLoc)||void 0===o?void 0:o.location)||void 0===l?void 0:l.id)&&void 0!==r?r:this.selectedLoc.placementSchool;this.service.saveTermLocation(d,this.selectedLoc,this.term.id,p).then(u=>{this.index=null,this._modalService.dismissAll(),this.loading=!1,this.toastr.success("Update","Success")}).catch(u=>{this.loading=!1,console.log(u)})}createFlatCharges(){return(0,m.mG)(this,void 0,void 0,function*(){const{servicePoNumber:e}=this.termDetail;this.loading=!0;try{yield this.service.createFlatCharges(this.scheduledDetails,e,this.termDetail.id),this.scheduledDetails=[],this.toastr.success("Flat Charges Created","Success"),this.loading=!1,this._modalService.dismissAll()}catch(n){this.scheduledDetails=[],this.loading=!1,console.log(n)}this._event_service.onScheduleChargesSaved.emit()})}selectLocationsTerm(e){return e?this.termLocations.find(o=>o.id==e.id):this.termLocations[0]}getScheduleAmout(){let e=0;if(this.selectedTermDetailCharges.length>0)for(var n=0;n<this.selectedTermDetailCharges.length;n++)e+=this.selectedTermDetailCharges[n].amount;return e}addRec(){this.scheduledDetails.push(new Vt)}removeItem(e){this.scheduledDetails.splice(e,1)}addSchedule(e,n,o){this.termDetail=JSON.parse(JSON.stringify(e)),this.getFlatFeeChargesForTermDetail(),null!=e.servicePoNumber&&""!=e.servicePoNumber?(this.index=n,this.openPopup(o)):this.toastr.error("Please Enter PO Number for Corresponding Service","ERROR")}openPopup(e,n=!1,o=!1){this.modelTitle=o?n?"Edit Default Term":"Edit Location Term":n?"Add Default Term":"Add Location Term",this.isDefaultTerm=n,this.isEditTerm=o,this._modalService.open(e,{centered:!0,size:"lg",backdrop:"static",keyboard:!1,windowClass:this._util.getThemeFromSession("lol-modal-sm")})}clickEvent(e,n){this.isDefaultTerm=e,this.menu_id=n.id,this.selectedLoc=n}back(){this.view.emit(!0)}handleAnimation(e){this.anim=e}getDefaultTerm(){return this.termLocations.find(e=>1==e.defaultTerm)}getFlatFeeChargesForTermDetail(){return(0,m.mG)(this,void 0,void 0,function*(){this.isScheduledChargesLoading=!0;let e=new Rt.d;e.termDetailId=this.termDetail.id,e.hourly=!1,e.excludeBilled=this.excludeBilled,e.excludeZeroCharge=!0;try{let n=yield this._billing_service.searchCharges(e,1e3,null,null,null);this.selectedTermDetailCharges=this._billing_service.getData(n).resultList,this.isScheduledChargesLoading=!1}catch(n){console.log(n),this.isScheduledChargesLoading=!1}})}onPageChanged(e){this.pageNo=e.page,this.limit=e.limit}deleteScheduledRecord(e){this.isLoadingState=!0,this._billing_service.deleteCharge(e).then(n=>{this.isLoadingState=!1,this.toastr.success("Deleted","SUCCESS")}).catch(n=>{this.isLoadingState=!1}).finally(()=>{this.getFlatFeeChargesForTermDetail()})}deleteContractTerm(e){this.confirmDialog.confirm("Are you sure you want to delete this contract term ?").then(n=>{n&&(this.isLoadingState=!0,this.termLocationServ.deleteRecord(e).then(o=>{this.isLoadingState=!1,this.toastr.success("Deleted","SUCCESS"),this.fetchTermLocation()}).catch(o=>{console.log(o),this.isLoadingState=!1}))})}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.Z),t.Y36(z.I),t.Y36(zt),t.Y36(rt),t.Y36(g.FF),t.Y36(T._W),t.Y36(y.O),t.Y36(Gt.j),t.Y36(C.P))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-terms-locations"]],inputs:{term:"term",client:"client"},outputs:{view:"view"},decls:30,vars:15,consts:function(){let s,e,n,o;return s=$localize`:␟2ca2d2cb417ef15e5fe3552c691bcd440ccedc43␟276728637703070495: Add Charge `,e=$localize`:␟2f509046dbdc3d24379e1534d3a848c565f21b65␟3296013864668466095:Charges Date`,n=$localize`:␟502ba99f730f83832ba481b4bb0472f35b054b8b␟1995462320428563005:Charges`,o=$localize`:␟bd86d9c330cfa60d9cf38d262b56070c06b96ed0␟5143338754657071941: Add Charge `,[[1,"row"],[1,"col-lg-4","col-xlg-3","col-md-5",2,"max-width","350px"],[1,"row","mb-2"],[1,"col-12"],[1,""],[1,"d-flex",2,"gap","5px"],[1,"d-flex","flex-grow-1","flex-basis-0",3,"text","saveBtnSizeAndStyle","showCancelBtn","onBtnClick"],["class","d-flex flex-grow-1 flex-basis-0",3,"text","saveBtnSizeAndStyle","showCancelBtn","onBtnClick",4,"ngIf"],[1,"card","pb-2","pt-1"],[1,"card-toolbar","text-center","py-1","header","border-bottom"],[1,"custom-card-title","py-0",2,"font-weight","400"],["class","",4,"ngIf"],[3,"rows","classList",4,"ngIf"],["class","card-body",4,"ngIf"],[1,"col-lg-8","col-xlg-9","col-md-7"],["class","card","style","height: 344px;",4,"ngIf"],[4,"ngIf"],[1,"row","lol-contact-profile-controls"],[1,"col-md-12"],[1,"form-actions"],[1,"card-body","d-flex","justify-content-end","ll-save-fixed"],[3,"saveBtnSizeAndStyle","loader","cancelBtnSizeAndStyle","cancelText","onBtnClick","onCancelClick"],["addLocationModel",""],["addEditSchedule",""],["addCharges",""],[1,"pt-1","font-10pt","d-flex","flex-column"],["class","practice-item mt-2 p-2 cursor-pointer d-flex justify-content-between",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"practice-item","mt-2","p-2","cursor-pointer","d-flex","justify-content-between",3,"ngClass","click"],[1,"list-item-text"],["title","Edit","class","ng2-smart-action-edit-edit mr-2","style","margin-top: 2px",3,"click",4,"ngIf"],["title","Edit",1,"ng2-smart-action-edit-edit","mr-2",2,"margin-top","2px",3,"click"],[1,"icon-pencil","text-info"],[1,"icon-trash","text-danger"],[3,"rows","classList"],[1,"card-body"],[1,"d-flex","justify-content-around","align-items-center","mr-auto","mb-0","ml-auto"],[2,"width","150px","height","150px","margin-top","5px"],["width","75","height","75","containerClass","lottie-animation-empty",3,"options","animCreated"],[1,"arrow","text-align-center"],[1,"card",2,"height","344px"],["class","",4,"ngFor","ngForOf"],["ngbPanelHeader",""],["ngbPanelContent",""],[1,"card-toolbar","header","py-2","border-bottom"],[1,"text-blue","col-9"],[1,"col-3","justify-content-end","d-flex","align-items-center"],[1,"card-title","text-align-center","badge","bg-muted"],["ngbPanelToggle","",1,"toggle-btn","ml-auto"],["class","mdi mdi-chevron-down toggle-icon text-info",4,"ngIf"],["class","mdi mdi-chevron-up text-info toggle-icon",4,"ngIf"],[1,"mdi","mdi-chevron-down","toggle-icon","text-info"],[1,"mdi","mdi-chevron-up","text-info","toggle-icon"],[1,"card-body","py-1"],[1,"row","mt-3"],[1,"col-md-4"],[1,"form-group"],["type","text",1,"form-control",3,"ngModel","name","placeholder","ngModelChange"],["servicePoNumber","ngModel"],["type","number","pattern","[0-9]*",1,"form-control",3,"ngModel","name","placeholder","ngModelChange"],["targetHours","ngModel"],["class","text-danger",4,"ngIf"],["type","number",1,"form-control",3,"ngModel","name","placeholder","ngModelChange"],["targetAmount","ngModel"],["class","row mt-2",4,"ngIf"],[1,"table","table-hover","v-middle","wh-table-people"],["class","custom-stripped",4,"ngIf"],[1,"text-danger"],[1,"row","mt-2"],[1,"col-md-6"],["flatAmount","ngModel"],["type","button",1,"btn","btn-outline-warning","deep-sky-blue","cursor-pointer","col-12",3,"click"],[1,"mdi","mdi-alert-outline",2,"margin-right","20px"],["colspan","24",1,"text-center","pt-3"],[1,"custom-stripped"],[4,"ngFor","ngForOf"],[1,"py-1"],[1,"py-1","ml-auto",2,"width","35%"],[1,"d-flex"],[1,"input-group-text"],[1,"ti-money"],["type","number",1,"form-control","wbs-charges-input",3,"placeholder","ngModel","name","ngModelChange"],["rate","ngModel"],[1,"modal-header","p-3"],["id","modal-basic-title",1,"modal-title"],["data-dismiss","modal",1,"cursorPointer",3,"click"],[1,"mdi","mdi-close"],[2,"width","100%",3,"client","hideLocations","selectedLocation","term","type","isEdit","onSave"],["name","form",3,"keydown.enter"],["addForm","ngForm"],[1,"modal-body"],[1,"col-lg-12"],[1,"form-body"],[1,"card","custom-fieldset"],[1,"card-toolbar","header"],[1,"card-title","text-blue","col-md-5"],[1,"col-md-3"],[2,"font-size","medium","font-weight","100"],["class","col-md-3",4,"ngIf"],[1,"d-flex","justify-content-between","mb-2","pr-1","align-items-center"],["type","button",1,"btn","btn-outline-info","btn-sm","mt-2",3,"click"],s,[1,"custom-control","custom-checkbox","ms-auto"],["name","excludeBilled","type","checkbox","id","excludeBilled",1,"custom-control-input",3,"ngModel","change","ngModelChange"],["for","excludeBilled",1,"custom-control-label"],["sortable-table","","class","table table-striped mb-0 no-wrap v-middle",4,"ngIf"],[2,"max-width","100%"],[3,"rows",4,"ngIf"],[1,"modal-footer"],[1,"row","form-controls-right"],[3,"type","showSaveBtn","loader","saveBtnSizeAndStyle","cancelBtnSizeAndStyle","onCancelClick"],["sortable-table","",1,"table","table-striped","mb-0","no-wrap","v-middle"],["scope","col",1,"no-border"],e,n,[1,"pl-2","mt-2","mb-2"],[3,"totalNumOfRecords","onPageChanged"],["colspan","4",1,"text-center","pt-3"],["id","icon",3,"showConfirmDialog","confirmMsg","showDeleteBtn","showEditBtn","delete"],[3,"rows"],["name","form",3,"ngSubmit","keydown.enter"],["class","row",4,"ngFor","ngForOf"],[1,"row","col-md-5"],o,[3,"type","loader","saveBtnSizeAndStyle","cancelBtnSizeAndStyle","onCancelClick"],[3,"labelStr","isRequired"],["autocomplete","off","type","text","bsDatepicker","","required","",1,"form-control",3,"placeholder","name","ngModel","bsConfig","ngClass","value","ngModelChange"],["dateSchedule","ngModel"],[1,"fa","fa-calendar"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-5"],["type","number","required","",1,"form-control",3,"ngClass","name","ngModel","placeholder","ngModelChange"],["chargeAmount","ngModel"],[1,"col-md-1","text-center","font-22","pt-4"],["href","javascript:void(0)","title","Remove",3,"click"],[1,"mdi","mdi-close","btn-remove","text-danger"],[1,"invalid-feedback"]]},template:function(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"app-save-button",6),t.NdJ("onBtnClick",function(){t.CHM(o);const r=t.MAs(25);return n.openPopup(r)}),t.qZA(),t.YNc(7,de,1,3,"app-save-button",7),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",8),t.TgZ(9,"div",9),t.TgZ(10,"span",10),t._uU(11),t.qZA(),t.qZA(),t.YNc(12,me,4,1,"div",11),t.YNc(13,he,1,2,"table-loading",12),t.YNc(14,fe,7,1,"div",13),t.qZA(),t.qZA(),t.TgZ(15,"div",14),t.YNc(16,Te,8,1,"div",15),t.YNc(17,Ce,1,2,"table-loading",12),t.YNc(18,ye,2,1,"div",16),t.qZA(),t.qZA(),t.TgZ(19,"div",17),t.TgZ(20,"div",18),t.TgZ(21,"div",19),t.TgZ(22,"div",20),t.TgZ(23,"app-save-button",21),t.NdJ("onBtnClick",function(){return n.onsubmit()})("onCancelClick",function(){return n.back()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(24,we,8,9,"ng-template",null,22,t.W1O),t.YNc(26,De,36,16,"ng-template",null,23,t.W1O),t.YNc(28,Re,30,13,"ng-template",null,24,t.W1O)}2&e&&(t.xp6(6),t.Q6J("text","Add Term Location")("saveBtnSizeAndStyle","btn btn-outline-success deep-sky-blue  cursor-pointer col-12")("showCancelBtn",!1),t.xp6(1),t.Q6J("ngIf",!n.defaultTermItem),t.xp6(4),t.Oqu(null==n.term?null:n.term.title),t.xp6(1),t.Q6J("ngIf",n.termLocations.length>0&&!n.isLoadingState),t.xp6(1),t.Q6J("ngIf",n.isLoadingState),t.xp6(1),t.Q6J("ngIf",0==n.termLocations.length&&!n.isLoadingState),t.xp6(2),t.Q6J("ngIf",n.selectedLoc&&0==(null==n.selectedLoc||null==n.selectedLoc.termDetails?null:n.selectedLoc.termDetails.length)&&!n.isLoadingState),t.xp6(1),t.Q6J("ngIf",n.isLoadingState),t.xp6(1),t.Q6J("ngIf",n.selectedLoc&&(null==n.selectedLoc||null==n.selectedLoc.termDetails?null:n.selectedLoc.termDetails.length)>0),t.xp6(5),t.Q6J("saveBtnSizeAndStyle"," btn-lg btn-success")("loader",n.loading&&null==n.index)("cancelBtnSizeAndStyle","btn-lg btn-danger")("cancelText","Back"))},directives:[b.t,_.O5,_.sg,_.mk,O.I,k.e$,g.gY,g.Gk,g.k9,g.gW,g.I_,a.Fj,a.JJ,a.On,a.wV,a.c5,ae,a._Y,a.JL,a.F,a.Wl,H.Q,V.Q,P.C,q.t,S.Y5,S.Np,a.Q7],pipes:[Y.W,v.X$,_.H9,ce.s,_.uU],styles:[".mr-4[_ngcontent-%COMP%] {\r\n    margin-right: 200px;\r\n}\r\n.custom-card-title[_ngcontent-%COMP%]{\r\n\tfont-size: 14px;\r\n\tfont-weight: 400 !important;\r\n}\r\n.list-item-text[_ngcontent-%COMP%]{\r\n\tfont-weight: 500;\r\n\t\r\n}\r\n.practice-item.lol-item-active[_ngcontent-%COMP%] {\r\n\tcolor: #1967d2;\r\n\tfont-weight: 800;\r\n\ttransition: all 0.1s ease-out;\r\n\tborder-top-right-radius: 25px;\r\n\tborder-bottom-right-radius: 25px;\r\n\tbackground-color: #eef5f9;\r\n\ttransition: color 0.5s;\r\n\t\r\n\r\n}\r\n.defaultTerm[_ngcontent-%COMP%]{\r\n\tfont-weight: 700;\r\n\t\r\n}\r\n.custom-stripped[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){\r\n\tbackground-color: #006aff0a;\r\n}\r\n.wbs-charges-input[_ngcontent-%COMP%]{\r\n\tmax-width: 120px;\r\n}\r\n.border[_ngcontent-%COMP%]{\r\n    border: 1px solid #00000038\r\n   }\r\n.badge[_ngcontent-%COMP%]{\r\n\tline-height: 2\r\n}\r\n.badge-wbs[_ngcontent-%COMP%] {\r\n\tline-height: 2\r\n}\r\n.btn-style[_ngcontent-%COMP%]{\r\n\tcolor: #ef6c00;\r\n}\r\n.fa-calendar[_ngcontent-%COMP%] {\r\n    position: absolute;\r\n    right: 24px;\r\n    top: 30px;\r\n    color: #42a5f5;\r\n    cursor: pointer;\r\n  }"]}),i})();function He(i,s){1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Title")," is required "))}function Ve(i,s){if(1&i&&(t.TgZ(0,"div",24),t.YNc(1,He,3,3,"div",25),t.qZA()),2&i){t.oxw();const e=t.MAs(13);t.xp6(1),t.Q6J("ngIf",null==e?null:e.errors.required)}}function ze(i,s){1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Start Date")," is required "))}function Ge(i,s){if(1&i&&(t.TgZ(0,"div",24),t.YNc(1,ze,3,3,"div",25),t.qZA()),2&i){t.oxw();const e=t.MAs(20);t.xp6(1),t.Q6J("ngIf",null==e?null:e.errors.required)}}function We(i,s){1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"End Date")," is required "))}function Xe(i,s){if(1&i&&(t.TgZ(0,"div",24),t.YNc(1,We,3,3,"div",25),t.qZA()),2&i){t.oxw();const e=t.MAs(28);t.xp6(1),t.Q6J("ngIf",null==e?null:e.errors.required)}}const Ke=function(){return{backdropBorderRadius:"3px"}},W=function(i){return{"is-invalid":i}},dt=function(){return{standalone:!0}},_t=function(){return{showWeekNumbers:!1}};let tn=(()=>{class i{constructor(e,n,o,l){this.modalService=e,this.toastr=n,this.eventService=o,this.termService=l,this.inputObj=null,this.clientId=null,this.term=new jt,this.loading=!1,this.loadingState=!1}ngOnInit(){this.inputObj&&(this.term=this.inputObj)}onsubmit(){this.loading=!0,this.termService.saveTerm(this.term,this.clientId).then(e=>{this.modalService.dismissAll(),this.eventService.onTermSaved.emit(this.termService.getData(e)),this.loading=!1,this.toastr.success(null===this.inputObj?this.term.title+" Added":this.term.title+" Updated","Success")}).catch(e=>{this.loading=!1,console.log(e)})}onCancelClicked(){this.modalService.dismissAll()}getDate(e){return new Date(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(g.FF),t.Y36(T._W),t.Y36(C.P),t.Y36(z.I))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-add-edit-term"]],inputs:{inputObj:"inputObj",clientId:"clientId"},decls:35,vars:47,consts:[[3,"show","config"],["name","form",3,"ngSubmit","keydown.enter"],["addForm","ngForm"],[1,"modal-body"],[1,"col-lg-12"],[1,"form-body"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[1,"form-group"],[3,"labelStr","isRequired"],["type","text","name","title","required","",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["title","ngModel"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-6"],["type","text","placeholder","Datepicker","autocomplete","off","bsDatepicker","","name","startDate","placeholder","Start Date","required","",1,"form-control",3,"value","ngModelOptions","ngModel","ngClass","bsConfig","ngModelChange"],["startDate","ngModel"],[1,"fa","fa-calendar"],["type","text","placeholder","Datepicker","autocomplete","off","bsDatepicker","","name","endDate","placeholder","End Date","required","",1,"form-control",3,"value","ngModelOptions","ngModel","ngClass","bsConfig","ngModelChange"],["endDate","ngModel"],[1,"modal-footer"],[1,"row","form-controls-right"],[3,"loader","type","saveBtnSizeAndStyle","cancelBtnSizeAndStyle","onCancelClick"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,n){if(1&e){const o=t.EpF();t._UZ(0,"ngx-loading",0),t.TgZ(1,"form",1,2),t.NdJ("ngSubmit",function(){return t.CHM(o),t.MAs(2).form.valid&&n.onsubmit()})("keydown.enter",function(r){return r.preventDefault()}),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"div",7),t.TgZ(8,"div",8),t.TgZ(9,"div",9),t.TgZ(10,"div",10),t._UZ(11,"field-label",11),t.TgZ(12,"input",12,13),t.NdJ("ngModelChange",function(r){return n.term.title=r}),t.ALo(14,"translate"),t.qZA(),t.YNc(15,Ve,2,1,"div",14),t.qZA(),t.qZA(),t.TgZ(16,"div",15),t.TgZ(17,"div",10),t._UZ(18,"field-label",11),t.TgZ(19,"input",16,17),t.NdJ("ngModelChange",function(r){return n.term.startDate=r}),t.ALo(21,"date"),t.qZA(),t._UZ(22,"span",18),t.YNc(23,Ge,2,1,"div",14),t.qZA(),t.qZA(),t.TgZ(24,"div",15),t.TgZ(25,"div",10),t._UZ(26,"field-label",11),t.TgZ(27,"input",19,20),t.NdJ("ngModelChange",function(r){return n.term.endDate=r}),t.ALo(29,"date"),t.qZA(),t._UZ(30,"span",18),t.YNc(31,Xe,2,1,"div",14),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",21),t.TgZ(33,"div",22),t.TgZ(34,"app-save-button",23),t.NdJ("onCancelClick",function(){return n.onCancelClicked()}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const o=t.MAs(2),l=t.MAs(13),r=t.MAs(20),d=t.MAs(28);t.Q6J("show",n.loading)("config",t.DdM(36,Ke)),t.xp6(11),t.Q6J("labelStr","Title")("isRequired",!0),t.xp6(1),t.s9C("placeholder",t.lcZ(14,28," ")),t.Q6J("ngModel",n.term.title)("ngClass",t.VKq(37,W,o.submitted&&l.invalid)),t.xp6(3),t.Q6J("ngIf",o.submitted&&l.invalid),t.xp6(3),t.Q6J("labelStr","Start Date")("isRequired",!0),t.xp6(1),t.s9C("value",t.xi3(21,30,r.value,"MM/dd/yyyy")),t.Q6J("ngModelOptions",t.DdM(39,dt))("ngModel",n.term.startDate)("ngClass",t.VKq(40,W,o.submitted&&r.invalid))("bsConfig",t.DdM(42,_t)),t.xp6(4),t.Q6J("ngIf",o.submitted&&r.invalid),t.xp6(3),t.Q6J("labelStr","End Date")("isRequired",!0),t.xp6(1),t.s9C("value",t.xi3(29,33,d.value,"MM/dd/yyyy")),t.Q6J("ngModelOptions",t.DdM(43,dt))("ngModel",n.term.endDate)("ngClass",t.VKq(44,W,o.submitted&&d.invalid))("bsConfig",t.DdM(46,_t)),t.xp6(4),t.Q6J("ngIf",o.submitted&&d.invalid),t.xp6(3),t.Q6J("loader",n.loading)("type","submit")("saveBtnSizeAndStyle","btn-outline-success")("cancelBtnSizeAndStyle","btn-outline-danger")}},directives:[Z.RJ,a._Y,a.JL,a.F,q.t,a.Fj,a.Q7,a.JJ,a.On,_.mk,_.O5,S.Y5,S.Np,b.t],pipes:[v.X$,_.uU],styles:[".fa-calendar[_ngcontent-%COMP%] {\r\n    position: absolute;\r\n    right: 24px;\r\n    top: 30px;\r\n    color: #42a5f5;\r\n    cursor: pointer;\r\n  }\r\n  .error[_ngcontent-%COMP%]{\r\n    color: red;\r\n  }"]}),i})();const en=["addTermModel"];function nn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).openAddTermModelPopup(null)}),t._UZ(1,"i",22),t._uU(2," Add Term"),t.qZA()}if(2&i){const e=t.oxw(3);t.Q6J("disabled",!e.permissions.CAN_MANAGE_CONTRACTS||e.client.deleted)}}function on(i,s){1&i&&(t.TgZ(0,"div",23),t.TgZ(1,"div",24),t._uU(2,"No Active Contract "),t.qZA(),t.qZA())}function ln(i,s){1&i&&(t.TgZ(0,"span",43),t._uU(1," Active "),t.qZA())}function sn(i,s){1&i&&(t.TgZ(0,"span",44),t._uU(1," Inactive "),t.qZA())}function rn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",26),t.TgZ(1,"div",27),t.TgZ(2,"div",28),t.TgZ(3,"h4",29),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,l=t.oxw(3);return!!o.deleted&&l.navigateToLoc(o)}),t._uU(4),t.qZA(),t.TgZ(5,"div",30),t.TgZ(6,"a",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(3).openAddTermModelPopup(o)}),t._UZ(7,"span",32),t.qZA(),t.TgZ(8,"a",33),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(3).deleteTerm(o)}),t._UZ(9,"span",34),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",35),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,l=t.oxw(3);return!o.deleted&&l.navigateToLoc(o)}),t.TgZ(11,"span",36),t.TgZ(12,"span",37),t._uU(13," Start Date"),t.qZA(),t.TgZ(14,"span",38),t._uU(15),t.ALo(16,"date"),t.qZA(),t.qZA(),t.TgZ(17,"span",39),t.TgZ(18,"span",37),t._uU(19," End Date"),t.qZA(),t.TgZ(20,"span",38),t._uU(21),t.ALo(22,"date"),t.qZA(),t.qZA(),t.TgZ(23,"span",40),t.TgZ(24,"span",37),t._uU(25," Status"),t.qZA(),t.YNc(26,ln,2,0,"span",41),t.YNc(27,sn,2,0,"span",42),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.xp6(4),t.hij(" ",null==e?null:e.title," "),t.xp6(11),t.Oqu(t.xi3(16,5,null==e?null:e.startDate,"MM/dd/yyyy")),t.xp6(6),t.Oqu(t.xi3(22,8,null==e?null:e.endDate,"MM/dd/yyyy")),t.xp6(5),t.Q6J("ngIf",!e.deleted),t.xp6(1),t.Q6J("ngIf",e.deleted)}}function an(i,s){1&i&&(t.TgZ(0,"span",43),t._uU(1," Active "),t.qZA())}function cn(i,s){1&i&&(t.TgZ(0,"span",44),t._uU(1," Inactive "),t.qZA())}function dn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",26),t.TgZ(1,"div",27),t.TgZ(2,"div",28),t.TgZ(3,"h4",29),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,l=t.oxw(3);return!!o.deleted&&l.navigateToLoc(o)}),t._uU(4),t.qZA(),t.TgZ(5,"div",30),t.TgZ(6,"a",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(3).openAddTermModelPopup(o)}),t._UZ(7,"span",32),t.qZA(),t.TgZ(8,"a",45),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(3).restoreTerm(o)}),t._UZ(9,"span",46),t.qZA(),t.TgZ(10,"a",47),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(3).deleteTerm(o)}),t._UZ(11,"span",34),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",35),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,l=t.oxw(3);return!o.deleted&&l.navigateToLoc(o)}),t.TgZ(13,"span",36),t.TgZ(14,"span",37),t._uU(15," Start Date"),t.qZA(),t.TgZ(16,"span",38),t._uU(17),t.ALo(18,"date"),t.qZA(),t.qZA(),t.TgZ(19,"span",39),t.TgZ(20,"span",37),t._uU(21," End Date"),t.qZA(),t.TgZ(22,"span",38),t._uU(23),t.ALo(24,"date"),t.qZA(),t.qZA(),t.TgZ(25,"span",40),t.TgZ(26,"span",37),t._uU(27," Status"),t.qZA(),t.YNc(28,an,2,0,"span",41),t.YNc(29,cn,2,0,"span",42),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.xp6(4),t.hij(" ",null==e?null:e.title," "),t.xp6(13),t.Oqu(t.xi3(18,5,null==e?null:e.startDate,"MM/dd/yyyy")),t.xp6(6),t.Oqu(t.xi3(24,8,null==e?null:e.endDate,"MM/dd/yyyy")),t.xp6(5),t.Q6J("ngIf",!e.deleted),t.xp6(1),t.Q6J("ngIf",e.deleted)}}function _n(i,s){if(1&i&&(t.ynx(0),t.YNc(1,rn,28,11,"div",25),t.YNc(2,dn,30,11,"div",25),t.BQk()),2&i){const e=s.$implicit;t.xp6(1),t.Q6J("ngIf",!e.deleted),t.xp6(1),t.Q6J("ngIf",e.deleted)}}function pn(i,s){if(1&i&&(t.TgZ(0,"div",5),t.TgZ(1,"div",16),t.YNc(2,nn,3,1,"button",17),t.qZA(),t.TgZ(3,"div",10),t.TgZ(4,"div",18),t.YNc(5,on,3,0,"div",19),t.TgZ(6,"div",11),t.YNc(7,_n,3,2,"ng-container",20),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.permissions.CAN_MANAGE_TERMS&&!e.client.deleted),t.xp6(3),t.Q6J("ngIf",0==e.terms.length),t.xp6(2),t.Q6J("ngForOf",e.terms)}}function gn(i,s){1&i&&(t.TgZ(0,"div"),t._uU(1,"required"),t.qZA())}function un(i,s){if(1&i&&(t.TgZ(0,"div",60),t.YNc(1,gn,2,0,"div",2),t.qZA()),2&i){t.oxw();const e=t.MAs(9);t.xp6(1),t.Q6J("ngIf",null==e?null:e.errors.required)}}function mn(i,s){1&i&&(t.TgZ(0,"div"),t._uU(1,"required"),t.qZA())}function hn(i,s){if(1&i&&(t.TgZ(0,"div",60),t.YNc(1,mn,2,0,"div",2),t.qZA()),2&i){t.oxw();const e=t.MAs(18);t.xp6(1),t.Q6J("ngIf",null==e?null:e.errors.required)}}const pt=function(){return{showWeekNumbers:!1}},gt=function(i){return{"is-invalid":i}};function fn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",48),t.TgZ(1,"div",49),t.TgZ(2,"div",50),t.TgZ(3,"span",51),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"div",52),t.TgZ(6,"div",53),t._UZ(7,"field-label",54),t.TgZ(8,"input",55,56),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.startDate=o}),t.ALo(10,"translate"),t.ALo(11,"date"),t.qZA(),t._UZ(12,"span",57),t.YNc(13,un,2,1,"div",58),t.qZA(),t.qZA(),t.TgZ(14,"div",52),t.TgZ(15,"div",53),t._UZ(16,"field-label",54),t.TgZ(17,"input",55,59),t.NdJ("ngModelChange",function(o){return t.CHM(e).$implicit.endDate=o}),t.ALo(19,"translate"),t.ALo(20,"date"),t.qZA(),t._UZ(21,"span",57),t.YNc(22,hn,2,1,"div",58),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=s.$implicit,n=t.MAs(9),o=t.MAs(18);t.oxw();const l=t.MAs(7);t.xp6(4),t.hij("Quarter: ",null==e?null:e.quarterNo," "),t.xp6(3),t.Q6J("labelStr","")("isRequired",!0),t.xp6(1),t.s9C("placeholder",t.lcZ(10,19,"Start Date")),t.MGl("name","startDate-",e.quarterNo,""),t.s9C("value",t.xi3(11,21,n.value,"MM/dd/yyyy")),t.Q6J("ngModel",e.startDate)("bsConfig",t.DdM(29,pt))("ngClass",t.VKq(30,gt,l.submitted&&n.invalid)),t.xp6(5),t.Q6J("ngIf",l.submitted&&n.invalid),t.xp6(3),t.Q6J("labelStr","")("isRequired",!0),t.xp6(1),t.s9C("placeholder",t.lcZ(19,24,"End Date")),t.MGl("name","endDate-",e.quarterNo,""),t.s9C("value",t.xi3(20,26,o.value,"MM/dd/yyyy")),t.Q6J("ngModel",e.endDate)("bsConfig",t.DdM(32,pt))("ngClass",t.VKq(33,gt,l.submitted&&o.invalid)),t.xp6(5),t.Q6J("ngIf",l.submitted&&o.invalid)}}function Tn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",3),t.YNc(1,pn,8,3,"div",4),t.TgZ(2,"div",5),t.TgZ(3,"div",6),t.TgZ(4,"h4",7),t._uU(5,"Quarters"),t.qZA(),t.qZA(),t.TgZ(6,"form",8,9),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.MAs(7),l=t.oxw();return o.form.valid&&l.updateClient()})("keydown.enter",function(o){return o.preventDefault()}),t.TgZ(8,"div",10),t.TgZ(9,"div",11),t.YNc(10,fn,23,35,"div",12),t.qZA(),t.TgZ(11,"div",13),t.TgZ(12,"div",14),t._UZ(13,"app-save-button",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.client.placementSchool),t.xp6(9),t.Q6J("ngForOf",e.client.quarters),t.xp6(3),t.Q6J("showSaveBtn",e.permissions.CAN_MANAGE_CLIENTS)("showCancelBtn",!1)("loader",e.qLoading)("type","submit")("saveBtnSizeAndStyle","btn-outline-success")}}function Cn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"app-terms-locations",61),t.NdJ("view",function(o){return t.CHM(e),t.oxw().changeView(o)}),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("term",e.selectedTerm)("client",e.client)}}function Zn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",63),t.TgZ(1,"h5",64),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",65,62),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",66),t.qZA(),t.qZA(),t._UZ(7,"app-add-edit-term",67)}if(2&i){const e=t.oxw(2);t.xp6(2),t.hij(" ",null==e.selectedTerm?"Add Term":t.lcZ(3,3,"Update Term")," "),t.xp6(5),t.Q6J("inputObj",e.selectedTerm)("clientId",e.client.id)}}function vn(i,s){1&i&&t.YNc(0,Zn,8,5,"ng-template",null,62,t.W1O)}const An=function(){return{backdropBorderRadius:"3px"}};let xn=(()=>{class i{constructor(e,n,o,l,r,d,p){this._util=e,this.toastr=n,this._modalService=o,this._eventService=l,this.clientService=r,this.termService=d,this.confirmDialog=p,this.client=null,this.permissions=new N.m,this.selectedTerm=null,this.isLoadingState=!1,this.qLoading=!1,this.termsView=!0,this.subs=new x.w,this.terms=[]}ngOnInit(){var e;if(this.permissions=this._util.getAllowedPermissions(),this.client&&0==(null===(e=this.client.quarters)||void 0===e?void 0:e.length))for(var n=0;n<=3;n++)this.client.quarters.push(new L.u1(`Q${n+1}`));this.setQuarterNo(),this.client&&this.client.id&&this.loadTerms(),this.subs.add(this._eventService.onTermSaved.subscribe(o=>{this.loadTerms()}))}setQuarterNo(){var e;null===(e=this.client.quarters)||void 0===e||e.forEach(function(n,o){n.quarterNo||(n.quarterNo=`Q${o+1}`)})}ngOnDestroy(){this.subs.unsubscribe()}loadTerms(){this.isLoadingState=!0,this.termService.getAllTerms(this.client.id).then(e=>{this.terms=this.termService.getData(e),this.isLoadingState=!1}).catch(e=>{this.isLoadingState=!1,console.log(e)})}updateClient(){console.log(this.client),this.qLoading=!0,this.clientService.saveClient(this.client).then(e=>{this.qLoading=!1,this.client=this.clientService.getData(e),this.toastr.success(this.client.name+" Updated","Success")}).catch(e=>{this.qLoading=!1,console.log(e)})}deleteTerm(e){let{id:n,deleted:o}=e,l="Are you sure you want to In-Activate these Terms? If there's no other Active Terms then it can cause error in system.?";o&&(l="Are you sure you want to deleted these terms? This will delete these terms permanently from the system."),this.confirmDialog.confirm(l).then(r=>{r&&this.termService.deleteRecord(n).then(d=>{this.toastr.success("Deleted","SUCCESS"),this.loadTerms()}).catch(d=>{console.log(d)})})}restoreTerm(e){this.confirmDialog.confirm("Are you sure you want to Activate these Terms? Only one Active Terms is allow so it will mark all other Terms as In-Active in system.").then(n=>{n&&(e.deleted=!1,this.saveTerm(e))})}saveTerm(e){var n;this.isLoadingState=!0,this.termService.saveTerm(e,null===(n=this.client)||void 0===n?void 0:n.id).then(o=>{this.loadTerms(),this.isLoadingState=!1,this.toastr.success(e.title+" Updated","Success")}).catch(o=>{this.isLoadingState=!1,console.log(o)})}navigateToLoc(e){this.termsView=!this.termsView,this.selectedTerm=e}changeView(e){this.termsView=e}openAddTermModelPopup(e){this.selectedTerm=JSON.parse(JSON.stringify(e)),this._modalService.open(this.addTermModel,{centered:!0,size:"lg",backdrop:"static",keyboard:!1,windowClass:this._util.getThemeFromSession("lol-modal-medium")})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.Z),t.Y36(T._W),t.Y36(g.FF),t.Y36(C.P),t.Y36(M.y),t.Y36(z.I),t.Y36(y.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["terms-and-quarters"]],viewQuery:function(e,n){if(1&e&&t.Gf(en,5),2&e){let o;t.iGM(o=t.CRH())&&(n.addTermModel=o.first)}},inputs:{client:"client"},decls:4,vars:6,consts:[[3,"show","config"],["class","m-2",4,"ngIf"],[4,"ngIf"],[1,"m-2"],["class","row card  mb-2 py-2",4,"ngIf"],[1,"row","card","mb-2","py-2"],[1,"card-toolbar","header","border-bottom","mb-2"],[1,"card-title"],["name","form",3,"ngSubmit","keydown.enter"],["addForm","ngForm"],[1,"card-body"],[1,"row"],["class","col-md-6",4,"ngFor","ngForOf"],[1,"row","p-2"],[1,"col-md-12","d-flex","justify-content-end"],[3,"showSaveBtn","showCancelBtn","loader","type","saveBtnSizeAndStyle"],[1,"col-12","card-title","d-flex","justify-content-end"],["class","btn btn-outline-primary text-dark","type","button","title","Create Term",3,"disabled","click",4,"ngIf"],[1,"container-fluid"],["class","card-empty",4,"ngIf"],[4,"ngFor","ngForOf"],["type","button","title","Create Term",1,"btn","btn-outline-primary","text-dark",3,"disabled","click"],[1,"mdi","mdi-plus-circle-outline","m-r-5"],[1,"card-empty"],[1,"empty-state-card"],["class","col-md-4",4,"ngIf"],[1,"col-md-4"],[1,"card","w-100","custom-card-hover","px-md-3","px-1","py-3","custom-fieldset","custom-fieldset-terms"],[1,"card-title","d-flex","justify-content-between","align-items-center"],[1,"cursor-pointer",3,"click"],[1,"d-flex"],["title","Edit",1,"ng2-smart-action-edit-edit","mr-2",2,"margin-top","2px",3,"click"],[1,"icon-pencil","text-info"],["title","Delete",1,"ng2-smart-action-edit-edit","mr-2",2,"margin-top","2px",3,"click"],[1,"icon-trash","text-danger"],[1,"card-body","d-flex","flex-column","align-items-start","px-0","cursor-pointer",3,"click"],[1,"mb-1","mb-1","border-bottom","d-flex","justify-content-between","w-100","align-items-center"],[1,"term-atr-label"],[1,"text-muted"],[1,"mb-1","mb-1","d-flex","border-bottom","justify-content-between","w-100","align-items-center"],[1,"mb-1","d-flex","border-bottom","justify-content-between","w-100","align-items-center"],["class","badge text-white bg-success",4,"ngIf"],["class","badge text-white bg-danger",4,"ngIf"],[1,"badge","text-white","bg-success"],[1,"badge","text-white","bg-danger"],["title","Activate contract",1,"ng2-smart-action-edit-edit","mr-2",2,"margin-top","2px",3,"click"],[1,"icon-cursor","text-succss"],["title","Delete Permanently",1,"ng2-smart-action-edit-edit","mr-2",2,"margin-top","2px",3,"click"],[1,"col-md-6"],[1,"row","mt-2"],[1,"col-md-2","d-flex","align-items-center"],[1,"quarterIndex","mt-3"],[1,"col-md-5"],[1,"form-group"],[3,"labelStr","isRequired"],["autocomplete","off","type","text","bsDatepicker","","required","",1,"form-control",3,"placeholder","name","ngModel","bsConfig","ngClass","value","ngModelChange"],["startDate","ngModel"],[1,"fa","fa-calendar"],["class","invalid-feedback",4,"ngIf"],["endDate","ngModel"],[1,"invalid-feedback"],[3,"term","client","view"],["addTermModel",""],[1,"modal-header","p-3"],["id","modal-basic-title",1,"modal-title"],["data-dismiss","modal",1,"cursorPointer",3,"click"],[1,"mdi","mdi-close"],[2,"width","100%",3,"inputObj","clientId"]],template:function(e,n){1&e&&(t._UZ(0,"ngx-loading",0),t.YNc(1,Tn,14,7,"div",1),t.YNc(2,Cn,2,2,"div",2),t.YNc(3,vn,2,0,void 0,2)),2&e&&(t.Q6J("show",n.isLoadingState)("config",t.DdM(5,An)),t.xp6(1),t.Q6J("ngIf",n.termsView),t.xp6(1),t.Q6J("ngIf",!n.termsView),t.xp6(1),t.Q6J("ngIf",n.termsView))},directives:[Z.RJ,_.O5,a._Y,a.JL,a.F,_.sg,b.t,q.t,S.Y5,a.Fj,S.Np,a.Q7,a.JJ,a.On,_.mk,je,tn],pipes:[_.uU,v.X$],styles:[".custom-card-hover[_ngcontent-%COMP%]{\r\n    border: 1px solid #00000038\r\n   }\r\n   .custom-card-hover[_ngcontent-%COMP%]:hover{\r\n     box-shadow: 2px 2px 4px 4px rgba(0, 0, 0, 0.055);\r\n   }\r\n   .fa-calendar[_ngcontent-%COMP%] {\r\n    position: absolute;\r\n    right: 24px;\r\n    top: 30px;\r\n    color: #42a5f5;\r\n    cursor: pointer;\r\n  }\r\n   .quarterIndex[_ngcontent-%COMP%]{\r\n    font-weight: bold;\r\n    border-radius: 10px;\r\n    box-shadow: 1px 2px solid grey;\r\n    \r\n  }"]}),i})();var ut=c(9543);function bn(i,s){1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"First Name")," is required "))}function Sn(i,s){if(1&i&&(t.TgZ(0,"div",36),t.YNc(1,bn,3,3,"div",37),t.qZA()),2&i){t.oxw();const e=t.MAs(13);t.xp6(1),t.Q6J("ngIf",null==e?null:e.errors.required)}}function qn(i,s){1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Last Name")," is required "))}function Mn(i,s){if(1&i&&(t.TgZ(0,"div",36),t.YNc(1,qn,3,3,"div",37),t.qZA()),2&i){t.oxw();const e=t.MAs(20);t.xp6(1),t.Q6J("ngIf",null==e?null:e.errors.required)}}function Ln(i,s){1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Title")," is required "))}function Nn(i,s){if(1&i&&(t.TgZ(0,"div",36),t.YNc(1,Ln,3,3,"div",37),t.qZA()),2&i){t.oxw();const e=t.MAs(28);t.xp6(1),t.Q6J("ngIf",null==e?null:e.errors.required)}}function yn(i,s){1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Primary Email")," is required "))}function wn(i,s){if(1&i&&(t.TgZ(0,"div",36),t.YNc(1,yn,3,3,"div",37),t.qZA()),2&i){t.oxw();const e=t.MAs(35);t.xp6(1),t.Q6J("ngIf",null==e?null:e.errors.required)}}function On(i,s){1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Phone No")," is required "))}function Pn(i,s){if(1&i&&(t.TgZ(0,"div",36),t.YNc(1,On,3,3,"div",37),t.qZA()),2&i){t.oxw();const e=t.MAs(49);t.xp6(1),t.Q6J("ngIf",null==e?null:e.errors.required)}}const En=function(){return{backdropBorderRadius:"3px"}},E=function(i){return{"is-invalid":i}};let mt=(()=>{class i{constructor(e,n,o,l,r,d,p){this.modalService=e,this.util=n,this.toastr=o,this.eventService=l,this.clientService=r,this.POCsService=d,this._eventService=p,this.inputObj=null,this.clientId=null,this.selectedLocation=null,this.onClose=new t.vpe,this.onSave=new t.vpe,this.onDelete=new t.vpe,this.poc=new L.bQ,this.loading=!1,this.clientID=null,this.loadingState=!1,this.subs=new x.w}ngOnInit(){this.inputObj&&(this.poc=this.inputObj),this.clientId&&(this.clientID=this.clientId)}onsubmit(){this.loading=!0,this.POCsService.saveLocationPOC(this.poc,this.selectedLocation.id).then(e=>{this.onCancelClicked(),this.onSave.emit(),this.loading=!1,this.toastr.success(null===this.inputObj?"POC Added":"POC Updated","Success")}).catch(e=>{this.loading=!1,console.log(e)})}onCancelClicked(){this.onClose.emit()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(g.FF),t.Y36(f.Z),t.Y36(T._W),t.Y36(C.P),t.Y36(M.y),t.Y36(R),t.Y36(C.P))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-add-edit-poc"]],inputs:{inputObj:"inputObj",clientId:"clientId",selectedLocation:"selectedLocation"},outputs:{onClose:"onClose",onSave:"onSave",onDelete:"onDelete"},decls:75,vars:77,consts:[[3,"show","config"],["name","form",3,"ngSubmit","keydown.enter"],["addForm","ngForm"],[1,"modal-body"],[1,"col-lg-12"],[1,"form-body"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-6"],[1,"form-group"],[3,"labelStr","isRequired"],["type","text","name","firstName","required","",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["firstName","ngModel"],["class","invalid-feedback",4,"ngIf"],["type","text","name","lastName","required","",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["lastName","ngModel"],["type","text","name","title","required","",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["title","ngModel"],["type","email","name","primaryEmail","required","",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["primaryEmail","ngModel"],[3,"labelStr"],["type","email","name","secondary_email",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["secondary_email","ngModel"],["type","phone","name","phone","required","",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["phone","ngModel"],["type","phone","name","mobile",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["mobile","ngModel"],["type","text","name","fax",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["fax","ngModel"],[1,"col-md-12"],["type","url","name","img_url",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["img_url","ngModel"],[1,"modal-footer"],[1,"row","form-controls-right"],[3,"loader","type","saveBtnSizeAndStyle","cancelBtnSizeAndStyle","onCancelClick"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,n){if(1&e){const o=t.EpF();t._UZ(0,"ngx-loading",0),t.TgZ(1,"form",1,2),t.NdJ("ngSubmit",function(){return t.CHM(o),t.MAs(2).form.valid&&n.onsubmit()})("keydown.enter",function(r){return r.preventDefault()}),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"div",7),t.TgZ(8,"div",8),t.TgZ(9,"div",9),t.TgZ(10,"div",10),t._UZ(11,"field-label",11),t.TgZ(12,"input",12,13),t.NdJ("ngModelChange",function(r){return n.poc.firstName=r}),t.ALo(14,"translate"),t.qZA(),t.YNc(15,Sn,2,1,"div",14),t.qZA(),t.qZA(),t.TgZ(16,"div",9),t.TgZ(17,"div",10),t._UZ(18,"field-label",11),t.TgZ(19,"input",15,16),t.NdJ("ngModelChange",function(r){return n.poc.lastName=r}),t.ALo(21,"translate"),t.qZA(),t.YNc(22,Mn,2,1,"div",14),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",8),t.TgZ(24,"div",9),t.TgZ(25,"div",10),t._UZ(26,"field-label",11),t.TgZ(27,"input",17,18),t.NdJ("ngModelChange",function(r){return n.poc.title=r}),t.ALo(29,"translate"),t.qZA(),t.YNc(30,Nn,2,1,"div",14),t.qZA(),t.qZA(),t.TgZ(31,"div",9),t.TgZ(32,"div",10),t._UZ(33,"field-label",11),t.TgZ(34,"input",19,20),t.NdJ("ngModelChange",function(r){return n.poc.primaryEmail=r}),t.ALo(36,"translate"),t.qZA(),t.YNc(37,wn,2,1,"div",14),t.qZA(),t.qZA(),t.qZA(),t.TgZ(38,"div",8),t.TgZ(39,"div",9),t.TgZ(40,"div",10),t._UZ(41,"field-label",21),t.TgZ(42,"input",22,23),t.NdJ("ngModelChange",function(r){return n.poc.secondary_email=r}),t.ALo(44,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"div",9),t.TgZ(46,"div",10),t._UZ(47,"field-label",11),t.TgZ(48,"input",24,25),t.NdJ("ngModelChange",function(r){return n.poc.phone=r}),t.ALo(50,"translate"),t.qZA(),t.YNc(51,Pn,2,1,"div",14),t.qZA(),t.qZA(),t.qZA(),t.TgZ(52,"div",8),t.TgZ(53,"div",9),t.TgZ(54,"div",10),t._UZ(55,"field-label",21),t.TgZ(56,"input",26,27),t.NdJ("ngModelChange",function(r){return n.poc.mobile=r}),t.ALo(58,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(59,"div",9),t.TgZ(60,"div",10),t._UZ(61,"field-label",21),t.TgZ(62,"input",28,29),t.NdJ("ngModelChange",function(r){return n.poc.fax=r}),t.ALo(64,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(65,"div",8),t.TgZ(66,"div",30),t.TgZ(67,"div",10),t._UZ(68,"field-label",21),t.TgZ(69,"input",31,32),t.NdJ("ngModelChange",function(r){return n.poc.img_url=r}),t.ALo(71,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(72,"div",33),t.TgZ(73,"div",34),t.TgZ(74,"app-save-button",35),t.NdJ("onCancelClick",function(){return n.onCancelClicked()}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const o=t.MAs(2),l=t.MAs(13),r=t.MAs(20),d=t.MAs(28),p=t.MAs(35),u=t.MAs(49);t.Q6J("show",n.loading)("config",t.DdM(66,En)),t.xp6(11),t.Q6J("labelStr","First Name")("isRequired",!0),t.xp6(1),t.s9C("placeholder",t.lcZ(14,48," ")),t.Q6J("ngModel",n.poc.firstName)("ngClass",t.VKq(67,E,o.submitted&&l.invalid)),t.xp6(3),t.Q6J("ngIf",o.submitted&&l.invalid),t.xp6(3),t.Q6J("labelStr","Last Name")("isRequired",!0),t.xp6(1),t.s9C("placeholder",t.lcZ(21,50," ")),t.Q6J("ngModel",n.poc.lastName)("ngClass",t.VKq(69,E,o.submitted&&r.invalid)),t.xp6(3),t.Q6J("ngIf",o.submitted&&r.invalid),t.xp6(4),t.Q6J("labelStr","Title/Name")("isRequired",!0),t.xp6(1),t.s9C("placeholder",t.lcZ(29,52," ")),t.Q6J("ngModel",n.poc.title)("ngClass",t.VKq(71,E,o.submitted&&d.invalid)),t.xp6(3),t.Q6J("ngIf",o.submitted&&d.invalid),t.xp6(3),t.Q6J("labelStr","Priamry Email")("isRequired",!0),t.xp6(1),t.s9C("placeholder",t.lcZ(36,54," ")),t.Q6J("ngModel",n.poc.primaryEmail)("ngClass",t.VKq(73,E,o.submitted&&p.invalid)),t.xp6(3),t.Q6J("ngIf",o.submitted&&p.invalid),t.xp6(4),t.Q6J("labelStr","Secondary Email"),t.xp6(1),t.s9C("placeholder",t.lcZ(44,56," ")),t.Q6J("ngModel",n.poc.secondary_email),t.xp6(5),t.Q6J("labelStr","phone")("isRequired",!0),t.xp6(1),t.s9C("placeholder",t.lcZ(50,58," ")),t.Q6J("ngModel",n.poc.phone)("ngClass",t.VKq(75,E,o.submitted&&u.invalid)),t.xp6(3),t.Q6J("ngIf",o.submitted&&u.invalid),t.xp6(4),t.Q6J("labelStr","Mobile No"),t.xp6(1),t.s9C("placeholder",t.lcZ(58,60," ")),t.Q6J("ngModel",n.poc.mobile),t.xp6(5),t.Q6J("labelStr","Fax No"),t.xp6(1),t.s9C("placeholder",t.lcZ(64,62," ")),t.Q6J("ngModel",n.poc.fax),t.xp6(6),t.Q6J("labelStr","Prfile Image URL"),t.xp6(1),t.s9C("placeholder",t.lcZ(71,64," ")),t.Q6J("ngModel",n.poc.img_url),t.xp6(5),t.Q6J("loader",n.loading)("type","submit")("saveBtnSizeAndStyle","btn-outline-success")("cancelBtnSizeAndStyle","btn-outline-danger")}},directives:[Z.RJ,a._Y,a.JL,a.F,q.t,a.Fj,a.Q7,a.JJ,a.On,_.mk,_.O5,b.t],pipes:[v.X$],styles:[""]}),i})();function In(i,s){1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Title")," is required "))}function Jn(i,s){if(1&i&&(t.TgZ(0,"div",31),t.YNc(1,In,3,3,"div",32),t.qZA()),2&i){t.oxw();const e=t.MAs(13);t.xp6(1),t.Q6J("ngIf",null==e?null:e.errors.required)}}function Dn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",39),t._uU(1," POCs: "),t.TgZ(2,"span",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2),l=t.MAs(48);return o.openPOCModelPopup(null,l)}),t.qZA(),t.qZA()}}function kn(i,s){1&i&&(t.TgZ(0,"div",41),t.TgZ(1,"div",42),t._uU(2,"No POCs"),t.qZA(),t.qZA())}const Un=function(i,s){return{"text-warning fs-25":i,"text-muted fs-25":s}};function Fn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t.TgZ(2,"a",49),t.NdJ("click",function(){const l=t.CHM(e).$implicit,r=t.oxw(3),d=t.MAs(50);return r.openPOCModelPopup(l,d)}),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t.TgZ(11,"a",50),t.TgZ(12,"i",51),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw(3).toggleStar(l)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"td",46),t.TgZ(14,"edit-delete-btns",52),t.NdJ("edit",function(){const l=t.CHM(e).$implicit,r=t.oxw(3),d=t.MAs(48);return r.openPOCModelPopup(l,d)})("delete",function(){const l=t.CHM(e).$implicit;return t.oxw(3).deletePOC(l.id)}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=s.$implicit,n=t.oxw(3);t.xp6(3),t.hij(" ",null==e?null:e.firstName," "),t.xp6(2),t.hij(" ",null==e?null:e.lastName," "),t.xp6(2),t.hij(" ",null==e?null:e.title," "),t.xp6(2),t.hij(" ",null==e?null:e.phone," "),t.xp6(3),t.Q6J("ngClass",t.WLB(8,Un,e.starred,!e.starred)),t.xp6(2),t.Q6J("showEditBtn",n.permissions.CAN_MANAGE_CLIENTS)("showDeleteBtn",n.permissions.CAN_MANAGE_CLIENTS)("confirmMsg","Are you sure you want to remove this POC?")}}function Qn(i,s){if(1&i&&(t.TgZ(0,"div",43),t.TgZ(1,"table",44),t.TgZ(2,"thead"),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5,"First Name"),t.qZA(),t.TgZ(6,"th",45),t._uU(7," Last Name "),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Title"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Phone"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Starred"),t.qZA(),t.TgZ(14,"td",46),t._uU(15,"Action"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"tbody",47),t.YNc(17,Fn,15,11,"tr",48),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(17),t.Q6J("ngForOf",e.locationPOCs)}}function Yn(i,s){if(1&i&&(t.TgZ(0,"div",33),t.TgZ(1,"div",34),t.YNc(2,Dn,3,0,"div",35),t.TgZ(3,"div",36),t.YNc(4,kn,3,0,"div",37),t.YNc(5,Qn,18,1,"div",38),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.permissions.CAN_MANAGE_CLIENTS),t.xp6(2),t.Q6J("ngIf",0==(null==e.locationPOCs?null:e.locationPOCs.length)),t.xp6(1),t.Q6J("ngIf",(null==e.locationPOCs?null:e.locationPOCs.length)>0)}}function $n(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",53),t.TgZ(1,"h5",54),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",55,29),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",56),t.qZA(),t.qZA(),t.TgZ(7,"app-add-edit-poc",57),t.NdJ("onSave",function(){return t.CHM(e),t.oxw().getLocationPocs()})("onClose",function(){return t.CHM(e),t.oxw().onPOCModalCancel()}),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",null==e.selectedPOC?"Add POC":t.lcZ(3,3,"Update POC")," "),t.xp6(5),t.Q6J("inputObj",e.selectedPOC)("selectedLocation",e.location)}}const ht=function(){return{backdropBorderRadius:"3px"}},Bn=function(){return{backdropBorderRadius:"50%"}};function Rn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",53),t.TgZ(1,"h5",54),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",55,30),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",56),t.qZA(),t.qZA(),t._UZ(7,"ngx-loading",0),t.TgZ(8,"div",58),t.TgZ(9,"div",8),t.TgZ(10,"div",59),t.TgZ(11,"div",6),t.TgZ(12,"div",7),t.TgZ(13,"div",8),t.TgZ(14,"div",60),t.TgZ(15,"div",8),t.TgZ(16,"div",61),t.TgZ(17,"strong"),t._uU(18,"First Name:"),t.qZA(),t.qZA(),t.TgZ(19,"div",62),t._uU(20),t.qZA(),t.qZA(),t.TgZ(21,"div",63),t.TgZ(22,"div",61),t.TgZ(23,"strong"),t._uU(24,"Last Name:"),t.qZA(),t.qZA(),t.TgZ(25,"div",62),t._uU(26),t.qZA(),t.qZA(),t.TgZ(27,"div",63),t.TgZ(28,"div",61),t.TgZ(29,"strong"),t._uU(30,"Title:"),t.qZA(),t.qZA(),t.TgZ(31,"div",62),t._uU(32),t.qZA(),t.qZA(),t.TgZ(33,"div",63),t.TgZ(34,"div",61),t.TgZ(35,"strong"),t._uU(36,"Primary Email:"),t.qZA(),t.qZA(),t.TgZ(37,"div",62),t._uU(38),t.qZA(),t.qZA(),t.TgZ(39,"div",63),t.TgZ(40,"div",61),t.TgZ(41,"strong"),t._uU(42,"Secondary Email:"),t.qZA(),t.qZA(),t.TgZ(43,"div",62),t._uU(44),t.qZA(),t.qZA(),t.TgZ(45,"div",63),t.TgZ(46,"div",61),t.TgZ(47,"strong"),t._uU(48,"Phone:"),t.qZA(),t.qZA(),t.TgZ(49,"div",62),t._uU(50),t.qZA(),t.qZA(),t.TgZ(51,"div",63),t.TgZ(52,"div",61),t.TgZ(53,"strong"),t._uU(54,"Mobile No:"),t.qZA(),t.qZA(),t.TgZ(55,"div",62),t._uU(56),t.qZA(),t.qZA(),t.TgZ(57,"div",63),t.TgZ(58,"div",61),t.TgZ(59,"strong"),t._uU(60,"Fax No:"),t.qZA(),t.qZA(),t.TgZ(61,"div",62),t._uU(62),t.qZA(),t.qZA(),t.qZA(),t.TgZ(63,"div",64),t.TgZ(64,"div",65),t.TgZ(65,"div",66),t._UZ(66,"ngx-loading",0),t.TgZ(67,"div",67),t.TgZ(68,"ng-lottie",68),t.NdJ("animCreated",function(o){return t.CHM(e),t.oxw().handleAnimation(o)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(69,"div",69),t.TgZ(70,"div",70),t.TgZ(71,"div",71),t._UZ(72,"field-label",72),t.TgZ(73,"small",73),t._uU(74),t.ALo(75,"nullToDash"),t.qZA(),t.TgZ(76,"small",73),t._uU(77),t.ALo(78,"date"),t.ALo(79,"date"),t.qZA(),t.qZA(),t.TgZ(80,"div",71),t._UZ(81,"field-label",72),t.TgZ(82,"small",73),t._uU(83),t.ALo(84,"nullToDash"),t.qZA(),t.TgZ(85,"small",73),t._uU(86),t.ALo(87,"date"),t.ALo(88,"nullToDash"),t.ALo(89,"date"),t.qZA(),t.qZA(),t.TgZ(90,"div",74),t.TgZ(91,"app-save-button",75),t.NdJ("onCancelClick",function(){return t.CHM(e),t.oxw().onPOCModalCancel()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,29,"POC Details")," "),t.xp6(5),t.Q6J("show",e.loading)("config",t.DdM(49,ht)),t.xp6(13),t.hij(" ",null==e.selectedPOC?null:e.selectedPOC.firstName," "),t.xp6(6),t.hij(" ",null==e.selectedPOC?null:e.selectedPOC.lastName," "),t.xp6(6),t.hij(" ",null==e.selectedPOC?null:e.selectedPOC.title," "),t.xp6(6),t.hij(" ",null==e.selectedPOC?null:e.selectedPOC.primaryEmail," "),t.xp6(6),t.hij(" ",null==e.selectedPOC?null:e.selectedPOC.secondary_email," "),t.xp6(6),t.hij(" ",null==e.selectedPOC?null:e.selectedPOC.phone," "),t.xp6(6),t.hij(" ",null==e.selectedPOC?null:e.selectedPOC.mobile," "),t.xp6(6),t.hij(" ",null==e.selectedPOC?null:e.selectedPOC.fax," "),t.xp6(4),t.Q6J("show",e.isPOCImgLoading)("config",t.DdM(50,Bn)),t.xp6(2),t.Q6J("options",e.lottieConfig)("width","175")("height","175"),t.xp6(4),t.Q6J("labelStr","Created By")("isRequired",!1),t.xp6(2),t.Oqu(t.lcZ(75,31,null==e.selectedPOC?null:e.selectedPOC.createdByUserName)),t.xp6(3),t.AsE("",t.xi3(78,33,null==e.selectedPOC?null:e.selectedPOC.createdDate,"MM/dd/yyyy")," @ ",t.xi3(79,36,null==e.selectedPOC?null:e.selectedPOC.createdDate,"shortTime"),""),t.xp6(4),t.Q6J("labelStr","Updated By")("isRequired",!1),t.xp6(2),t.Oqu(t.lcZ(84,39,null==e.selectedPOC?null:e.selectedPOC.updatedByUserName)),t.xp6(3),t.AsE("",t.xi3(87,41,null==e.selectedPOC?null:e.selectedPOC.updatedDate,"MM/dd/yyyy")," @ ",t.lcZ(88,44,t.xi3(89,46,null==e.selectedPOC?null:e.selectedPOC.updatedDate,"shortTime")),""),t.xp6(5),t.Q6J("showSaveBtn",!1)("saveBtnSizeAndStyle","btn-outline-success")("cancelBtnSizeAndStyle","btn-outline-danger")}}const I=function(i){return{"is-invalid":i}};let jn=(()=>{class i{constructor(e,n,o,l,r,d,p,u,A){this.modalService=e,this.util=n,this.toastr=o,this.eventService=l,this.clientService=r,this.locationService=d,this._eventService=p,this.POCsService=u,this.confirmDialog=A,this.inputObj=null,this.clientId=null,this.selectedPOC=null,this.onSave=new t.vpe,this.onDelete=new t.vpe,this.location=new L.j5,this.loading=!1,this.clientID=null,this.permissions=new N.m,this.loadingState=!1,this.locationPOCs=[],this.isloadingState=!1,this.subs=new x.w,this.isPOCImgLoading=!1,this.pocModal=null,this.lottieConfig={path:"../../assets/images/lottie/contact_img_outline.json",renderer:"svg",autoplay:!0,loop:!0}}ngOnInit(){this.permissions=this.util.getAllowedPermissions(),this.inputObj&&(this.location=this.inputObj,this.getLocationPocs()),this.clientId&&(this.clientID=this.clientId)}onsubmit(){this.loading=!0,this.locationService.saveClientLocation(this.location,this.clientId).then(e=>{this.modalService.dismissAll(),this.onSave.emit(this.location),this.loading=!1,this.toastr.success(null===this.inputObj?this.location.title+" Added":this.location.title+" Updated","Success")}).catch(e=>{this.loading=!1,console.log(e)})}getLocationPocs(){this.isloadingState=!0,this.POCsService.fetchByLocationId(this.location.id).then(e=>{this.isloadingState=!1,this.locationPOCs=this.clientService.getData(e)}).catch(e=>{this.isloadingState=!1,console.log("error",e)})}openPOCModelPopup(e,n){this.selectedPOC=e&&Object.assign({},e),this.pocModal=this.modalService.open(n,{size:"lg",backdrop:"static",keyboard:!1,centered:!0,windowClass:this.util.getThemeFromSession("lol-modal-sm")})}onCancelClicked(){this.modalService.dismissAll()}onPOCModalCancel(){this.pocModal.close()}deletePOC(e){this.isloadingState=!0,this.POCsService.deletePOC(e).then(n=>{this.isloadingState=!1,this.toastr.success("Deleted","SUCCESS"),this.getLocationPocs(),this.eventService.onClientEventUpdate.emit()}).catch(n=>{this.isloadingState=!1,console.log(n)})}toggleStar(e){let n=Object.assign({},e);n.starred=!e.starred,this.confirmDialog.confirm(`Are you sure you want to mark this POC as ${n.starred?"starred":"unstarred"}?`).then(o=>{o&&(this.loading=!0,this.POCsService.updateClientLocation(n,e.clientLocation.id).then(l=>{this.loading=!1,this.toastr.success("Updated Successfully"),e.starred=!e.starred,this.eventService.onClientEventUpdate.emit()}).catch(l=>{this.toastr.error(l)}))})}handleAnimation(e){this.anim=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(g.FF),t.Y36(f.Z),t.Y36(T._W),t.Y36(C.P),t.Y36(M.y),t.Y36(w._),t.Y36(C.P),t.Y36(R),t.Y36(y.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-add-edit-location"]],inputs:{inputObj:"inputObj",openPOCModel:"openPOCModel",clientId:"clientId",selectedPOC:"selectedPOC"},outputs:{onSave:"onSave",onDelete:"onDelete"},decls:51,vars:52,consts:[[3,"show","config"],["name","form",3,"ngSubmit","keydown.enter"],["addForm","ngForm"],[1,"modal-body",3,"ngClass"],[1,"col-lg-12"],[1,"form-body"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[1,"form-group"],[3,"labelStr","isRequired"],["type","text","name","title","required","",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["title","ngModel"],["class","invalid-feedback",4,"ngIf"],[3,"labelStr"],["type","text","name","address",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["address","ngModel"],["type","phone","name","phone",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["phone","ngModel"],[1,"col-md-6"],["type","text","name","fax",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["fax","ngModel"],["type","url","name","website",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["website","ngModel"],["class","row pt-4",4,"ngIf"],[1,"modal-footer"],[1,"row","form-controls-right"],[3,"showSaveBtn","loader","type","saveBtnSizeAndStyle","cancelBtnSizeAndStyle","onCancelClick"],["addPOC",""],["pocDetail",""],[1,"invalid-feedback"],[4,"ngIf"],[1,"row","pt-4"],[1,"col-sm-12"],["class","cursor-pointer","title","Add POC",4,"ngIf"],[1,"card-body-table","pt-0"],["class","card-empty",4,"ngIf"],["class","table-responsive",4,"ngIf"],["title","Add POC",1,"cursor-pointer"],[1,"fas","fa-plus-square",3,"click"],[1,"card-empty"],[1,"empty-state-card"],[1,"table-responsive"],[1,"table","table-hover","table-header-sm","table-inverse","lol-table-family"],["sortable-column","relationType","scope","col"],[1,"text-align-end"],[1,"table-striped"],[4,"ngFor","ngForOf"],["href","javascript:void(0)",1,"cursorPointer",3,"click"],["title","Toggle POC Star"],[1,"fas","fa-star",3,"ngClass","click"],["placement","top",3,"showEditBtn","showDeleteBtn","confirmMsg","edit","delete"],[1,"modal-header","p-3"],["id","modal-basic-title",1,"modal-title"],["data-dismiss","modal",1,"cursorPointer",3,"click"],[1,"mdi","mdi-close"],[2,"width","100%",3,"inputObj","selectedLocation","onSave","onClose"],[1,"modal-body"],[1,"col-lg-12","col-md-12"],[1,"col-md-8","left-bar"],[1,"col-6"],[1,""],[1,"row","mt-2"],[1,"col-md-4"],[1,"col-auto","text-center"],[1,"image-container",2,"margin-bottom","0px"],[2,"height","200px","width","200px"],[3,"options","width","height","animCreated"],[1,"col-12"],[1,"row","m-l-0"],["title","Authored Info",1,"col-4"],[1,"font-12",3,"labelStr","isRequired"],[1,"text-muted",2,"display","block"],[1,"col-4","align-items-center","d-flex","justify-content-end"],[3,"showSaveBtn","saveBtnSizeAndStyle","cancelBtnSizeAndStyle","onCancelClick"]],template:function(e,n){if(1&e){const o=t.EpF();t._UZ(0,"ngx-loading",0),t.TgZ(1,"form",1,2),t.NdJ("ngSubmit",function(){return t.CHM(o),t.MAs(2).form.valid&&n.onsubmit()})("keydown.enter",function(r){return r.preventDefault()}),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"div",7),t.TgZ(8,"div",8),t.TgZ(9,"div",9),t.TgZ(10,"div",10),t._UZ(11,"field-label",11),t.TgZ(12,"input",12,13),t.NdJ("ngModelChange",function(r){return n.location.title=r}),t.ALo(14,"translate"),t.qZA(),t.YNc(15,Jn,2,1,"div",14),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",8),t.TgZ(17,"div",9),t.TgZ(18,"div",10),t._UZ(19,"field-label",15),t.TgZ(20,"input",16,17),t.NdJ("ngModelChange",function(r){return n.location.address=r}),t.ALo(22,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",8),t.TgZ(24,"div",9),t.TgZ(25,"div",10),t._UZ(26,"field-label",15),t.TgZ(27,"input",18,19),t.NdJ("ngModelChange",function(r){return n.location.phone=r}),t.ALo(29,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"div",8),t.TgZ(31,"div",20),t.TgZ(32,"div",10),t._UZ(33,"field-label",15),t.TgZ(34,"input",21,22),t.NdJ("ngModelChange",function(r){return n.location.fax=r}),t.ALo(36,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(37,"div",20),t.TgZ(38,"div",10),t._UZ(39,"field-label",15),t.TgZ(40,"input",23,24),t.NdJ("ngModelChange",function(r){return n.location.website=r}),t.ALo(42,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(43,Yn,6,3,"div",25),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(44,"div",26),t.TgZ(45,"div",27),t.TgZ(46,"app-save-button",28),t.NdJ("onCancelClick",function(){return n.onCancelClicked()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(47,$n,8,5,"ng-template",null,29,t.W1O),t.YNc(49,Rn,92,51,"ng-template",null,30,t.W1O)}if(2&e){const o=t.MAs(2),l=t.MAs(13),r=t.MAs(21),d=t.MAs(28),p=t.MAs(35),u=t.MAs(41);t.Q6J("show",n.loading)("config",t.DdM(41,ht)),t.xp6(3),t.Q6J("ngClass",n.permissions.CAN_MANAGE_CLIENTS?"":"readonly"),t.xp6(8),t.Q6J("labelStr","Title")("isRequired",!0),t.xp6(1),t.s9C("placeholder",t.lcZ(14,31," ")),t.Q6J("ngModel",n.location.title)("ngClass",t.VKq(42,I,o.submitted&&l.invalid)),t.xp6(3),t.Q6J("ngIf",o.submitted&&l.invalid),t.xp6(4),t.Q6J("labelStr","Address"),t.xp6(1),t.s9C("placeholder",t.lcZ(22,33," ")),t.Q6J("ngModel",n.location.address)("ngClass",t.VKq(44,I,o.submitted&&r.invalid)),t.xp6(6),t.Q6J("labelStr","phone"),t.xp6(1),t.s9C("placeholder",t.lcZ(29,35," ")),t.Q6J("ngModel",n.location.phone)("ngClass",t.VKq(46,I,o.submitted&&d.invalid)),t.xp6(6),t.Q6J("labelStr","Fax No"),t.xp6(1),t.s9C("placeholder",t.lcZ(36,37," ")),t.Q6J("ngModel",n.location.fax)("ngClass",t.VKq(48,I,o.submitted&&p.invalid)),t.xp6(5),t.Q6J("labelStr","website"),t.xp6(1),t.s9C("placeholder",t.lcZ(42,39," ")),t.Q6J("ngModel",n.location.website)("ngClass",t.VKq(50,I,o.submitted&&u.invalid)),t.xp6(3),t.Q6J("ngIf",n.location&&n.location.id),t.xp6(3),t.Q6J("showSaveBtn",n.permissions.CAN_MANAGE_CLIENTS)("loader",n.loading)("type","submit")("saveBtnSizeAndStyle","btn-outline-success")("cancelBtnSizeAndStyle","btn-outline-danger")}},directives:[Z.RJ,a._Y,a.JL,a.F,_.mk,q.t,a.Fj,a.Q7,a.JJ,a.On,_.O5,b.t,Q.a,_.sg,P.C,mt,k.e$],pipes:[v.X$,Y.W,_.uU],styles:[".fs-18[_ngcontent-%COMP%] {\r\n    font-size: 18PX;\r\n}\r\n.left-bar[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:nth-child(odd){\r\n    background-color:#efe4e48c;\r\n    padding-top: 5px;\r\n    padding-bottom: 5px;\r\n}"]}),i})();var Hn=c(5320);function Vn(i,s){if(1&i&&(t.TgZ(0,"option",31),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.Q6J("ngValue",e),t.xp6(1),t.hij(" ",e.title,"")}}function zn(i,s){1&i&&(t.TgZ(0,"div",32),t._uU(1," service type is required "),t.qZA())}function Gn(i,s){1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij("",t.lcZ(2,1,"Target Hours")," is required "))}function Wn(i,s){if(1&i&&(t.TgZ(0,"div",33),t.YNc(1,Gn,3,3,"div",34),t.qZA()),2&i){t.oxw();const e=t.MAs(34);t.xp6(1),t.Q6J("ngIf",null==e?null:e.errors.required)}}function Xn(i,s){1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij("",t.lcZ(2,1,"Target Amount")," is required "))}function Kn(i,s){if(1&i&&(t.TgZ(0,"div",33),t.YNc(1,Xn,3,3,"div",34),t.qZA()),2&i){t.oxw();const e=t.MAs(41);t.xp6(1),t.Q6J("ngIf",null==e?null:e.errors.required)}}const ti=function(){return{backdropBorderRadius:"3px"}},X=function(i){return{"is-invalid":i}};let ei=(()=>{class i{constructor(e,n,o,l,r,d,p){this.modalService=e,this.util=n,this.toastr=o,this.locationService=l,this.targetService=r,this.stService=d,this._eventService=p,this.COMP_CONFIG={IS_ST_SEARCH_FROM_SESSION:!0,IS_ST_SEARCH_INCLUDE_INACTIVE:!1},this.inputObj=null,this.client=null,this.readOnly=null,this.locations=[],this.onSave=new t.vpe,this.target=new L.Bt,this.loading=!1,this.subs=new x.w,this.previousRequest=null,this.isListLoading=!1,this.serviceTypeDropdownSettings={singleSelection:!0,idField:"id",textField:"title",selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!0,noDataAvailablePlaceholderText:"No Service Type Found",searchPlaceholderText:"Search Service Type",closeDropDownOnSelection:!0,defaultOpen:!1,allowRemoteDataSearch:!this.COMP_CONFIG.IS_ST_SEARCH_FROM_SESSION},this.serviceTypeDropdownModelList=[]}ngOnInit(){this.inputObj&&(this.target=this.inputObj),this.client.id&&this.fetchLocations(),null==this.target.client&&(this.target.client=this.client),this.loadServiceTypes()}fetchLocations(){var e;this.loading=!0,this.locationService.fetchByClientId(null===(e=this.client)||void 0===e?void 0:e.id).then(n=>{if(this.loading=!1,this.locations=this.locationService.getData(n),null!=this.target&&null!=this.target.clientLocation){let o=this.locations.find(l=>l.id===this.target.clientLocation.id);o&&(this.target.clientLocation=o)}}).catch(n=>{this.loading=!1,console.log("error",n)})}onsubmit(){this.loading=!0,this.targetService.saveClientTarget(this.target).then(e=>{this.modalService.dismissAll(),this.onSave.emit(this.target),this.loading=!1,this.toastr.success(null===this.inputObj?"Target Added":"Target Updated","Success")}).catch(e=>{this.loading=!1,console.log(e)})}loadServiceTypes(){this.COMP_CONFIG.IS_ST_SEARCH_FROM_SESSION&&(this.serviceTypeDropdownList=this.util.getBtsServiceTypesFromSession()),this.setServiceType()}setServiceType(){var e,n;if(null!=this.inputObj&&null!=this.inputObj.serviceType){this.serviceTypeDropdownModelList=[];let o={id:null===(e=this.inputObj.serviceType)||void 0===e?void 0:e.id,title:null===(n=this.inputObj.serviceType)||void 0===n?void 0:n.title};this.serviceTypeDropdownModelList.push(o)}}onServiceTypeChange(e){this.target.serviceType=e[0]||null}filterChanged(e){this.COMP_CONFIG.IS_ST_SEARCH_FROM_SESSION||(clearTimeout(this.previousRequest),this.previousRequest=setTimeout(()=>{this.LoadServiceTypeList(e.trim())},500))}LoadServiceTypeList(e){this.isListLoading=!0,this.stService.getAllServiceTypes(!!this.COMP_CONFIG.IS_ST_SEARCH_INCLUDE_INACTIVE&&null,e).then(o=>{this.serviceTypeDropdownList=this.stService.getData(o).resultList,this.isListLoading=!1}).catch(o=>{this.isListLoading=!1,console.log(o)})}onCancelClicked(){this.modalService.dismissAll()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(g.FF),t.Y36(f.Z),t.Y36(T._W),t.Y36(w._),t.Y36(B),t.Y36(Hn.D),t.Y36(C.P))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-add-edit-targets"]],inputs:{inputObj:"inputObj",client:"client",readOnly:"readOnly",locations:"locations"},outputs:{onSave:"onSave"},decls:47,vars:48,consts:[[3,"show","config"],["name","form",3,"ngSubmit","keydown.enter"],["addForm","ngForm"],[1,"modal-body",3,"ngClass"],[1,"col-lg-12"],[1,"form-body"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[1,"form-group"],[3,"labelStr"],["title","Select location for this target",1,"form-text","text-muted",2,"display","initial","margin-left","4px"],[1,"mdi","mdi-information-outline"],["name","clientLocation",1,"browser-default","custom-select",3,"ngClass","ngModel","ngModelChange"],["clientLocation","ngModel"],["selected","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"labelStr","isRequired"],["title","Select the service type that will be assigned to this location",1,"form-text","text-muted",2,"display","initial","margin-left","4px"],[3,"ngClass","className","name","placeholder","settings","data","ngModel","onFilterChange","ngModelChange"],["class","text-danger",4,"ngIf"],[1,"col-md-6"],["type","number","name","phone","required","",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["targetHour","ngModel"],["class","invalid-feedback",4,"ngIf"],["type","number","name","targetAmount","required","",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange"],["targetAmount","ngModel"],[1,"modal-footer"],[1,"row","form-controls-right"],[3,"isDisabled","showSaveBtn","loader","type","saveBtnSizeAndStyle","cancelBtnSizeAndStyle","onCancelClick"],[3,"ngValue"],[1,"text-danger"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,n){if(1&e){const o=t.EpF();t._UZ(0,"ngx-loading",0),t.TgZ(1,"form",1,2),t.NdJ("ngSubmit",function(){return t.CHM(o),t.MAs(2).form.valid&&n.onsubmit()})("keydown.enter",function(r){return r.preventDefault()}),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"div",7),t.TgZ(8,"div",8),t.TgZ(9,"div",9),t.TgZ(10,"div",10),t._UZ(11,"field-label",11),t.TgZ(12,"label",12),t._UZ(13,"i",13),t.qZA(),t.TgZ(14,"select",14,15),t.NdJ("ngModelChange",function(r){return n.target.clientLocation=r}),t.TgZ(16,"option",16),t._uU(17,"Select Location..."),t.qZA(),t.YNc(18,Vn,2,2,"option",17),t.ALo(19,"sort"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",8),t.TgZ(21,"div",9),t.TgZ(22,"div",10),t._UZ(23,"field-label",18),t.TgZ(24,"label",19),t._UZ(25,"i",13),t.qZA(),t.TgZ(26,"div"),t.TgZ(27,"ng-multiselect-dropdown",20),t.NdJ("onFilterChange",function(r){return n.filterChanged(r)})("ngModelChange",function(r){return n.serviceTypeDropdownModelList=r})("ngModelChange",function(r){return n.onServiceTypeChange(r)}),t.qZA(),t.qZA(),t.YNc(28,zn,2,0,"div",21),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"div",8),t.TgZ(30,"div",22),t.TgZ(31,"div",10),t._UZ(32,"field-label",11),t.TgZ(33,"input",23,24),t.NdJ("ngModelChange",function(r){return n.target.targetHour=r}),t.ALo(35,"translate"),t.qZA(),t.YNc(36,Wn,2,1,"div",25),t.qZA(),t.qZA(),t.TgZ(37,"div",22),t.TgZ(38,"div",10),t._UZ(39,"field-label",11),t.TgZ(40,"input",26,27),t.NdJ("ngModelChange",function(r){return n.target.targetAmount=r}),t.ALo(42,"translate"),t.qZA(),t.YNc(43,Kn,2,1,"div",25),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(44,"div",28),t.TgZ(45,"div",29),t.TgZ(46,"app-save-button",30),t.NdJ("onCancelClick",function(){return n.onCancelClicked()}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const o=t.MAs(2),l=t.MAs(15),r=t.MAs(34),d=t.MAs(41);t.Q6J("show",n.loading)("config",t.DdM(41,ti)),t.xp6(3),t.Q6J("ngClass",n.readOnly?"readonly":""),t.xp6(8),t.Q6J("labelStr","Location"),t.xp6(3),t.Q6J("ngClass",t.VKq(42,X,o.submitted&&l.invalid))("ngModel",n.target.clientLocation),t.xp6(2),t.Q6J("ngValue",null),t.xp6(2),t.Q6J("ngForOf",t.xi3(19,34,n.locations,"title")),t.xp6(5),t.Q6J("labelStr","Service Type")("isRequired",!0),t.xp6(4),t.Q6J("ngClass",n.isListLoading?"loading":"")("className","single-select-mode relative_dropdown")("name","service-types")("placeholder","Select Service Type")("settings",n.serviceTypeDropdownSettings)("data",n.serviceTypeDropdownList)("ngModel",n.serviceTypeDropdownModelList),t.xp6(1),t.Q6J("ngIf",o.submitted&&!n.target.serviceType),t.xp6(4),t.Q6J("labelStr","Target Hours"),t.xp6(1),t.s9C("placeholder",t.lcZ(35,37," ")),t.Q6J("ngModel",n.target.targetHour)("ngClass",t.VKq(44,X,o.submitted&&r.invalid)),t.xp6(3),t.Q6J("ngIf",o.submitted&&r.invalid),t.xp6(3),t.Q6J("labelStr","Target Amount"),t.xp6(1),t.s9C("placeholder",t.lcZ(42,39," ")),t.Q6J("ngModel",n.target.targetAmount)("ngClass",t.VKq(46,X,o.submitted&&d.invalid)),t.xp6(3),t.Q6J("ngIf",o.submitted&&d.invalid),t.xp6(3),t.Q6J("isDisabled",!(null!=n.target.serviceType&&n.target.serviceType.id))("showSaveBtn",!n.readOnly)("loader",n.loading)("type","submit")("saveBtnSizeAndStyle","btn-outline-success")("cancelBtnSizeAndStyle","btn-outline-danger")}},directives:[Z.RJ,a._Y,a.JL,a.F,_.mk,q.t,a.EJ,a.JJ,a.On,a.YN,a.Kr,_.sg,$.OP,_.O5,a.wV,a.Fj,a.Q7,b.t],pipes:[at.F,v.X$],styles:['.relative_dropdown[_ngcontent-%COMP%] .multiselect-dropdown .dropdown-list {\r\n  position: relative !important;\r\n  max-width: 100%;\r\n}\r\n.single-select-mode[_ngcontent-%COMP%]    .multiselect-item-checkbox div::before {\r\n  display: none !important;\r\n}\r\n.loading-circle[_ngcontent-%COMP%] {\r\n    border: 4px solid rgba(0, 0, 0, 0.1); \r\n    border-top: 4px solid #000; \r\n    border-radius: 50%; \r\n    width: 30px;\r\n    height: 30px;\r\n    animation: spin 1s linear infinite; \r\n}\r\n@keyframes spin {\r\n    0% { transform: rotate(0deg); }\r\n    100% { transform: rotate(360deg); } \r\n}\r\n.loading[_ngcontent-%COMP%] .multiselect-dropdown .filter-textbox::after {\r\n    content: ""; \r\n    display: inline-block;\r\n    border: 4px solid rgba(0, 0, 0, 0.1); \r\n    border-top: 4px solid #000; \r\n    border-radius: 50%; \r\n    width: 20px;\r\n    height: 20px;\r\n    animation: spin 1s linear infinite; \r\n    position: absolute;\r\n    right:  10px;\r\n}\r\n.single-select-mode[_ngcontent-%COMP%]    .multiselect-item-checkbox\r\n  input[type="checkbox"]:checked\r\n  + div {\r\n  background-color: #b9b9e1;\r\n}\r\n.single-select-mode[_ngcontent-%COMP%]    .multiselect-item-checkbox\r\n  input[type="checkbox"]:checked\r\n  + div:after {\r\n  display: none;\r\n}']}),i})();var ni=c(5300);function ii(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",21),t._UZ(1,"field-label",22),t.TgZ(2,"ng-multiselect-dropdown",23),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().selectedProviders=o})("ngModelChange",function(o){return t.CHM(e),t.oxw().onProvidersChange(o)}),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("labelStr","Provider"),t.xp6(1),t.Q6J("ngClass","single-select-mode")("className","relative_dropdown")("name","users")("placeholder","Select Provider")("settings",e.DropdownSettings)("ngModel",e.selectedProviders)("data",e.DropdownList)}}function oi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"li",24),t.TgZ(1,"span",25),t._uU(2),t.TgZ(3,"span",26),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw().removeItem(l.id)}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=s.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.fullName," ")}}const li=function(){return{backdropBorderRadius:"3px"}};let si=(()=>{class i{constructor(e,n,o,l,r,d){this.util=e,this.modalService=n,this.toastr=o,this.locationService=l,this.UserService=r,this.confirmDialog=d,this.selectedLocation=null,this.locationProviders=[],this.usersDropdownList=[],this.isLoading=!1,this.clientId=null,this.DropdownSettings={},this.DropdownList=[],this.isListPopulated=!1,this.selectedProviders=[],this.session_users=this.util.getBtsUsersListsFromSession()}ngOnInit(){var e;this.initMultiSelectSettings(),this.setUsersList(),(null===(e=this.selectedLocation)||void 0===e?void 0:e.id)&&this.getProvidersByLocation(this.selectedLocation.id)}onProvidersChange(e){var n;if(e[0]){let o=e[0];this.confirmDialog.confirm(`Do you want to attach "<b>${null==o?void 0:o.fullName}</b>" with location: "<b>${null===(n=this.selectedLocation)||void 0===n?void 0:n.title}</b>"`).then(l=>{l?(this.isLoading=!0,this.UserService.attachLocation(o.id,[this.selectedLocation.id]).then(r=>{this.toastr.success(`"${o.fullName}" Attached with ${this.selectedLocation.title} Successfully`,"Success"),this.isLoading=!1,this.getProvidersByLocation(this.selectedLocation.id)}).catch(r=>{this.isLoading=!1,console.log(r)})):this.selectedProviders=[]})}}getProvidersByLocation(e){return(0,m.mG)(this,void 0,void 0,function*(){this.isLoading=!0;try{let n=yield this.UserService.getLocationProviders(e),o=this.UserService.getData(n);this.locationProviders=[],this.locationProviders=o.map(l=>l.user),this.selectedProviders=[],this.DropdownList=this.session_users.filter(l=>!this.locationProviders.some(r=>r.id===l.id)),this.isLoading=!1,this.isListPopulated=!0}catch(n){console.log(n),this.isLoading=!1}})}onCancelClicked(){this.modalService.dismissAll()}setUsersList(){this.DropdownList=this.util.getBtsUsersListsFromSession()}removeItem(e){this.confirmDialog.confirm("Are You sure to remove this user from this location?").then(n=>{n&&(this.isLoading=!0,this.UserService.removeLocation(e,this.selectedLocation.id).then(o=>{this.isLoading=!1,this.toastr.success("Deleted","SUCCESS"),this.getProvidersByLocation(this.selectedLocation.id)}).catch(o=>{this.isLoading=!0,this.toastr.error(o)}))})}initMultiSelectSettings(){this.DropdownSettings={singleSelection:!0,idField:"id",textField:"fullName",selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!0,noFilteredDataAvailablePlaceholderText:"No User found",searchPlaceholderText:"Search Providers",closeDropDownOnSelection:!0,defaultOpen:!1}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.Z),t.Y36(g.FF),t.Y36(T._W),t.Y36(w._),t.Y36(ni.a),t.Y36(y.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-attach-location-providers"]],inputs:{selectedLocation:"selectedLocation"},decls:24,vars:11,consts:[[3,"show","config"],["name","form",3,"ngSubmit","keydown.enter"],["addForm","ngForm"],[1,"modal-body","activity-entry"],[1,"row","no-select"],[1,"col-lg-12",2,"overflow","hidden"],[1,"form-body"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"form-group",2,"margin-bottom","0px"],[1,"col-md-12"],[1,"form-group","has-danger"],[1,"col-md-12","mx-auto","dropdown_container_min_height"],["class","form-group",4,"ngIf"],[1,"py-2"],["class","badge mt-2 me-2 bg-success text-white p-2",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"row","form-controls-right"],[3,"showSaveBtn","loader","type","text","saveBtnSizeAndStyle","cancelBtnSizeAndStyle","onCancelClick"],[1,"form-group"],[3,"labelStr"],[3,"ngClass","className","name","placeholder","settings","ngModel","data","ngModelChange"],[1,"badge","mt-2","me-2","bg-success","text-white","p-2"],[1,"badge-text"],[1,"mdi","badge-icon","mdi-close-circle",3,"click"]],template:function(e,n){if(1&e){const o=t.EpF();t._UZ(0,"ngx-loading",0),t.TgZ(1,"form",1,2),t.NdJ("ngSubmit",function(){return t.CHM(o),t.MAs(2).form.valid})("keydown.enter",function(r){return r.preventDefault()}),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"div",7),t.TgZ(8,"div",8),t.TgZ(9,"div",9),t.TgZ(10,"div",10),t.TgZ(11,"div",11),t.TgZ(12,"div",7),t.TgZ(13,"div",12),t.TgZ(14,"div",13),t.TgZ(15,"div",7),t.TgZ(16,"div",14),t.YNc(17,ii,3,8,"div",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",7),t.TgZ(19,"ul",16),t.YNc(20,oi,4,1,"li",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",18),t.TgZ(22,"div",19),t.TgZ(23,"app-save-button",20),t.NdJ("onCancelClick",function(){return n.onCancelClicked()}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}2&e&&(t.Q6J("show",n.isLoading)("config",t.DdM(10,li)),t.xp6(17),t.Q6J("ngIf",n.isListPopulated),t.xp6(3),t.Q6J("ngForOf",n.locationProviders),t.xp6(3),t.Q6J("showSaveBtn",!1)("loader",n.isLoading)("type","submit")("text","Save")("saveBtnSizeAndStyle","btn-outline-success")("cancelBtnSizeAndStyle","btn-outline-danger"))},directives:[Z.RJ,a._Y,a.JL,a.F,_.O5,_.sg,b.t,q.t,$.OP,_.mk,a.JJ,a.On],styles:['.singleselect[_ngcontent-%COMP%]   input[type="checkbox"][_ngcontent-%COMP%]:checked    + div[_ngcontent-%COMP%] {\r\n    background-color: #337ab7 !important;\r\n    color: #fff !important;\r\n  }\r\n  \r\n  .ng-multiselect-item-checkbox.single-select-mode[_ngcontent-%COMP%] {\r\n    display: none;\r\n  }\r\n  \r\n  .relative_dropdown[_ngcontent-%COMP%] .multiselect-dropdown .dropdown-list{\r\n    position: relative !important;\r\n  max-width: 100%;\r\n  }\r\n  \r\n  .fixed_dropdown[_ngcontent-%COMP%] .multiselect-dropdown .dropdown-list{\r\n    position: fixed !important;\r\n    max-width: 100%;\r\n  }\r\n  \r\n  .absolute_dropdown[_ngcontent-%COMP%] .multiselect-dropdown .dropdown-list{\r\n    position: absolute !important;\r\n    max-width: 100%;\r\n  }\r\n  \r\n  .single-select-mode[_ngcontent-%COMP%]    .multiselect-item-checkbox div::before {\r\n    display: none !important;\r\n  }\r\n  \r\n  .single-select-mode[_ngcontent-%COMP%]    .multiselect-item-checkbox\r\n    input[type="checkbox"]:checked\r\n    + div {\r\n    background-color: #b9b9e1;\r\n  }\r\n  \r\n  .single-select-mode[_ngcontent-%COMP%]    .multiselect-item-checkbox\r\n    input[type="checkbox"]:checked\r\n    + div:after {\r\n     display: none;\r\n  }\r\n  \r\n  .badge-text[_ngcontent-%COMP%]{\r\n    font-size: 12px;\r\n    font-weight: 500;\r\n  }\r\n  \r\n  .badge-icon[_ngcontent-%COMP%]{\r\n    font-size: 14px!important;\r\n    cursor: pointer;\r\n  }']}),i})();function ri(i,s){1&i&&(t.ynx(0),t._uU(1," Terms & Quarters "),t.BQk())}function ai(i,s){1&i&&t._uU(0," Quarters ")}function ci(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),l=t.MAs(20);return o.openModelPopup(null,l)}),t._UZ(1,"i",21),t._uU(2," Add Client "),t.qZA()}}function di(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),l=t.MAs(20);return o.openModelPopup(o.client,l)}),t._UZ(1,"i",23),t._uU(2," Edit "),t.qZA()}}function _i(i,s){1&i&&t._UZ(0,"table-loading")}function pi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"h4",46),t._uU(2),t.qZA(),t.TgZ(3,"div",47),t.TgZ(4,"div",48),t.TgZ(5,"div"),t.TgZ(6,"ui-switch",49),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).client.deleted=o})("change",function(o){return t.CHM(e),t.oxw(2).toggleClientStatus(o)}),t.qZA(),t.TgZ(7,"span"),t._uU(8,"Is Active"),t.qZA(),t.qZA(),t.TgZ(9,"div"),t.TgZ(10,"ui-switch",50),t.NdJ("change",function(o){return t.CHM(e),t.oxw(2).toggleProspective(o)})("ngModelChange",function(o){return t.CHM(e),t.oxw(2).client.prospective=o}),t.qZA(),t.TgZ(11,"span"),t._uU(12,"Prospective"),t.qZA(),t.qZA(),t.TgZ(13,"div"),t.TgZ(14,"ui-switch",51),t.NdJ("change",function(o){return t.CHM(e),t.oxw(2).togglePlacement(o)})("ngModelChange",function(o){return t.CHM(e),t.oxw(2).client.placementSchool=o}),t.qZA(),t.TgZ(15,"span"),t._uU(16,"Placement School"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(2),t.Oqu(null==e.client?null:e.client.name),t.xp6(4),t.Q6J("disabled",!e.permissions.CAN_MANAGE_CLIENTS)("ngModel",e.client.deleted)("title","Client Status"),t.xp6(4),t.Q6J("disabled",!e.permissions.CAN_MANAGE_CLIENTS)("ngModel",e.client.prospective)("title","Prospective"),t.xp6(4),t.Q6J("disabled",!e.permissions.CAN_MANAGE_CLIENTS)("ngModel",e.client.placementSchool)("title","Placement")}}function gi(i,s){if(1&i&&(t.TgZ(0,"h6"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Oqu(null==e.client?null:e.client.id)}}function ui(i,s){if(1&i&&(t.TgZ(0,"h6"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Oqu(null==e.client?null:e.client.poNumber)}}function mi(i,s){1&i&&(t.TgZ(0,"h6"),t._uU(1," --- "),t.qZA())}function hi(i,s){if(1&i&&(t.TgZ(0,"h6"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",null==e.client?null:e.client.billingAttn," ")}}function fi(i,s){1&i&&(t.TgZ(0,"h6"),t._uU(1," --- "),t.qZA())}function Ti(i,s){if(1&i&&(t.TgZ(0,"h6"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",null==e.client?null:e.client.billingOffice1," ")}}function Ci(i,s){1&i&&(t.TgZ(0,"h6"),t._uU(1," --- "),t.qZA())}function Zi(i,s){if(1&i&&(t.TgZ(0,"h6"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",null==e.client?null:e.client.billingOffice2," ")}}function vi(i,s){1&i&&(t.TgZ(0,"h6"),t._uU(1," --- "),t.qZA())}function Ai(i,s){if(1&i&&(t.TgZ(0,"h6"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.xi3(2,1,null==e.client?null:e.client.createdDate,"MM/dd/yyyy")," ")}}function xi(i,s){1&i&&(t.TgZ(0,"h6"),t._uU(1," --- "),t.qZA())}function bi(i,s){if(1&i&&(t.TgZ(0,"div",27),t.TgZ(1,"div"),t.TgZ(2,"div",1),t.TgZ(3,"div",52),t.TgZ(4,"div",53),t.TgZ(5,"small",54),t._uU(6,"Custom ID"),t.qZA(),t.YNc(7,gi,2,1,"h6",12),t.qZA(),t.TgZ(8,"div",53),t.TgZ(9,"small",54),t._uU(10,"Po Number"),t.qZA(),t.YNc(11,ui,2,1,"h6",12),t.YNc(12,mi,2,0,"h6",12),t.qZA(),t.TgZ(13,"div",53),t.TgZ(14,"small",54),t._uU(15,"Billing Attn"),t.qZA(),t.YNc(16,hi,2,1,"h6",12),t.YNc(17,fi,2,0,"h6",12),t.qZA(),t.qZA(),t.TgZ(18,"div",55),t.TgZ(19,"div",53),t.TgZ(20,"small",54),t._uU(21,"Billing Office 1"),t.qZA(),t.YNc(22,Ti,2,1,"h6",12),t.YNc(23,Ci,2,0,"h6",12),t.qZA(),t.TgZ(24,"div",53),t.TgZ(25,"small",54),t._uU(26,"Billing Office 2"),t.qZA(),t.YNc(27,Zi,2,1,"h6",12),t.YNc(28,vi,2,0,"h6",12),t.qZA(),t.TgZ(29,"div",53),t.TgZ(30,"small",54),t._uU(31,"Created Date"),t.qZA(),t.YNc(32,Ai,3,4,"h6",12),t.YNc(33,xi,2,0,"h6",12),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(7),t.Q6J("ngIf",null!=(null==e.client?null:e.client.id)),t.xp6(4),t.Q6J("ngIf",null!=(null==e.client?null:e.client.poNumber)),t.xp6(1),t.Q6J("ngIf",null==(null==e.client?null:e.client.poNumber)||""==(null==e.client?null:e.client.poNumber)),t.xp6(4),t.Q6J("ngIf",null!=(null==e.client?null:e.client.billingAttn)),t.xp6(1),t.Q6J("ngIf",null==(null==e.client?null:e.client.billingAttn)||""==(null==e.client?null:e.client.billingAttn)),t.xp6(5),t.Q6J("ngIf",null!=(null==e.client?null:e.client.billingOffice1)),t.xp6(1),t.Q6J("ngIf",null==(null==e.client?null:e.client.billingOffice1)||""==(null==e.client?null:e.client.billingOffice1)),t.xp6(4),t.Q6J("ngIf",null!=(null==e.client?null:e.client.billingOffice2)),t.xp6(1),t.Q6J("ngIf",null==(null==e.client?null:e.client.billingOffice2)||""==(null==e.client?null:e.client.billingOffice2)),t.xp6(4),t.Q6J("ngIf",null!=(null==e.client?null:e.client.createdDate)),t.xp6(1),t.Q6J("ngIf",null==(null==e.client?null:e.client.createdDate))}}function Si(i,s){1&i&&t._UZ(0,"table-loading")}function qi(i,s){1&i&&(t.TgZ(0,"div",60),t._uU(1,"No Logs"),t.qZA())}function Mi(i,s){if(1&i&&(t.TgZ(0,"li",61),t.TgZ(1,"span",62),t._UZ(2,"i",63),t.TgZ(3,"span",56),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"span",64),t._uU(6),t.ALo(7,"date"),t.qZA(),t.qZA()),2&i){const e=s.$implicit;t.xp6(4),t.hij(" ",null==e?null:e.message," "),t.xp6(2),t.hij(" ",t.xi3(7,2,null==e?null:e.createdDate,"MM/dd/yyyy hh:mm a")," ")}}function Li(i,s){if(1&i&&(t.TgZ(0,"div",43),t.TgZ(1,"div",56),t.YNc(2,qi,2,0,"div",57),t.TgZ(3,"ul",58),t.YNc(4,Mi,8,5,"li",59),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",0==e.logsList.length),t.xp6(2),t.Q6J("ngForOf",e.logsList)}}function Ni(i,s){1&i&&t._UZ(0,"table-loading")}function yi(i,s){1&i&&t._UZ(0,"table-loading")}function wi(i,s){1&i&&(t.TgZ(0,"div",70),t.TgZ(1,"div",60),t._uU(2,"No POCs"),t.qZA(),t.qZA())}function Oi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",71),t.TgZ(1,"div",72),t._UZ(2,"img",73),t.qZA(),t.TgZ(3,"div",74),t.TgZ(4,"div",75),t.TgZ(5,"div",76),t.TgZ(6,"h6",77),t._uU(7),t.ALo(8,"titlecase"),t.qZA(),t.TgZ(9,"i",78),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw(3).UnStarPOC(l,l.clientLocation.id)}),t.qZA(),t.qZA(),t.TgZ(10,"div",79),t.TgZ(11,"span"),t._uU(12),t.ALo(13,"titlecase"),t.qZA(),t.qZA(),t.TgZ(14,"a"),t._uU(15),t.qZA(),t.TgZ(16,"a"),t._uU(17),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=s.$implicit;t.xp6(2),t.Q6J("src",e.img_url?e.img_url:"assets/images/users/default.jpg",t.LSH),t.xp6(5),t.Oqu(t.lcZ(8,5,null==e?null:e.firstName)),t.xp6(5),t.hij(" ",t.lcZ(13,7,null==e?null:e.title)," "),t.xp6(3),t.Oqu(e.primaryEmail),t.xp6(2),t.Oqu(e.phone)}}function Pi(i,s){if(1&i&&(t.TgZ(0,"div",26),t.TgZ(1,"div",65),t.TgZ(2,"h4",37),t._uU(3,"Starred POCs"),t.qZA(),t.qZA(),t.YNc(4,yi,1,0,"table-loading",12),t.TgZ(5,"div",66),t.YNc(6,wi,3,0,"div",44),t.TgZ(7,"div",67),t.TgZ(8,"div",68),t.YNc(9,Oi,18,9,"div",69),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",e.pocLoading),t.xp6(2),t.Q6J("ngIf",0==e.clientPOCs.length),t.xp6(3),t.Q6J("ngForOf",e.clientPOCs)}}function Ei(i,s){1&i&&t._UZ(0,"table-loading")}function Ii(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"span",81),t.TgZ(1,"a",82),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3),l=t.MAs(22);return o.openLocationModelPopup(null,l)}),t._UZ(2,"i",83),t.qZA(),t.qZA()}}function Ji(i,s){if(1&i&&(t.TgZ(0,"div",36),t.TgZ(1,"h4",37),t._uU(2,"Locations"),t.qZA(),t.YNc(3,Ii,3,0,"span",80),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",e.permissions.CAN_MANAGE_CLIENTS&&!e.client.deleted)}}function Di(i,s){1&i&&(t.TgZ(0,"div",70),t.TgZ(1,"div",60),t._uU(2,"No Locations"),t.qZA(),t.qZA())}function ki(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",99),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,l=t.oxw(3),r=t.MAs(22);return l.openLocationModelPopup(o,r)}),t._uU(1,"Edit"),t.qZA()}}function Ui(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",99),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,l=t.oxw(3),r=t.MAs(22);return l.openLocationModelPopup(o,r)}),t._uU(1,"View"),t.qZA()}}function Fi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",99),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,l=t.oxw(3),r=t.MAs(30);return l.openPOCModelPopup(null,r,o)}),t._uU(1,"Add POC "),t.qZA()}}function Qi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",90),t.TgZ(2,"a",91),t.NdJ("click",function(){const l=t.CHM(e).$implicit,r=t.oxw(3),d=t.MAs(22);return r.openLocationModelPopup(l,d)}),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"td",92),t.TgZ(12,"div",93),t.TgZ(13,"a",94),t.TgZ(14,"button",95),t._UZ(15,"i",96),t.qZA(),t.TgZ(16,"div",97),t.YNc(17,ki,2,0,"button",98),t.YNc(18,Ui,2,0,"button",98),t.TgZ(19,"button",99),t.NdJ("click",function(){const l=t.CHM(e).$implicit,r=t.oxw(3),d=t.MAs(32);return r.openLocationModelPopup(l,d)}),t._uU(20," Attach/View Providers "),t.qZA(),t.YNc(21,Fi,2,0,"button",98),t.TgZ(22,"button",99),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw(3).deleteLocation(l.id)}),t._uU(23,"Delete"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=s.$implicit,n=t.oxw(3);t.xp6(3),t.hij(" ",null==e?null:e.title," "),t.xp6(2),t.Oqu(null==e?null:e.address),t.xp6(2),t.Oqu(null==e?null:e.phone),t.xp6(2),t.Oqu(t.xi3(10,7,null==e?null:e.createdDate,"MM/dd/yyyy")),t.xp6(8),t.Q6J("ngIf",n.permissions.CAN_MANAGE_CLIENTS),t.xp6(1),t.Q6J("ngIf",!n.permissions.CAN_MANAGE_CLIENTS),t.xp6(3),t.Q6J("ngIf",n.permissions.CAN_MANAGE_CLIENTS)}}function Yi(i,s){1&i&&t._UZ(0,"table-loading")}function $i(i,s){if(1&i&&(t.TgZ(0,"div",84),t.TgZ(1,"table",85),t.TgZ(2,"thead"),t.TgZ(3,"tr"),t.TgZ(4,"th",86),t._uU(5,"Title"),t.qZA(),t.TgZ(6,"th",86),t._uU(7,"Address"),t.qZA(),t.TgZ(8,"th",86),t._uU(9,"Phone"),t.qZA(),t.TgZ(10,"th",86),t._uU(11,"Created Date"),t.qZA(),t.TgZ(12,"th",87),t._uU(13,"Action"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"tbody",88),t.YNc(15,Qi,24,10,"tr",89),t.qZA(),t.qZA(),t.YNc(16,Yi,1,0,"table-loading",12),t.qZA()),2&i){const e=t.oxw(2);t.xp6(15),t.Q6J("ngForOf",e.clientLocations),t.xp6(1),t.Q6J("ngIf",e.tableisloadingState_location)}}function Bi(i,s){1&i&&t._UZ(0,"table-loading")}function Ri(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"span",81),t.TgZ(1,"a",82),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3),l=t.MAs(26);return o.openTargetModelPopup(null,l)}),t._UZ(2,"i",83),t.qZA(),t.qZA()}}function ji(i,s){if(1&i&&(t.TgZ(0,"div",36),t.TgZ(1,"h4",37),t._uU(2,"Targets"),t.qZA(),t.YNc(3,Ri,3,0,"span",80),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",e.permissions.CAN_MANAGE_CLIENTS&&!e.client.deleted)}}function Hi(i,s){1&i&&(t.TgZ(0,"div",70),t.TgZ(1,"div",60),t._uU(2,"No Targets"),t.qZA(),t.qZA())}function Vi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",90),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td",100),t.TgZ(12,"edit-delete-btns",101),t.NdJ("delete",function(){const l=t.CHM(e).$implicit;return t.oxw(3).deleteTarget(l.id)})("view",function(){const l=t.CHM(e).$implicit,r=t.oxw(3),d=t.MAs(28);return r.openTargetModelPopup(l,d)})("edit",function(){const l=t.CHM(e).$implicit,r=t.oxw(3),d=t.MAs(26);return r.openTargetModelPopup(l,d)}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=s.$implicit,n=t.oxw(3);t.xp6(2),t.hij(" ",null==e||null==e.clientLocation?null:e.clientLocation.title," "),t.xp6(2),t.Oqu(null==e||null==e.serviceType?null:e.serviceType.title),t.xp6(2),t.Oqu(null==e||null==e.serviceType?null:e.serviceType.serviceArea),t.xp6(2),t.Oqu(null==e?null:e.targetHour),t.xp6(2),t.Oqu(null==e?null:e.targetAmount),t.xp6(2),t.Q6J("showViewBtn",!n.permissions.CAN_MANAGE_CLIENTS)("showEditBtn",n.permissions.CAN_MANAGE_CLIENTS)("showDeleteBtn",n.permissions.CAN_MANAGE_CLIENTS)("inputItem",e)("confirmMsg","Are you sure you want to delete the selected Target?")}}function zi(i,s){1&i&&t._UZ(0,"table-loading")}function Gi(i,s){if(1&i&&(t.TgZ(0,"div",84),t.TgZ(1,"table",85),t.TgZ(2,"thead"),t.TgZ(3,"tr"),t.TgZ(4,"th",86),t._uU(5,"Location"),t.qZA(),t.TgZ(6,"th",86),t._uU(7,"Service Type"),t.qZA(),t.TgZ(8,"th",86),t._uU(9,"Service Area"),t.qZA(),t.TgZ(10,"th",86),t._uU(11,"Target Amount"),t.qZA(),t.TgZ(12,"th",86),t._uU(13,"Target Hours"),t.qZA(),t.TgZ(14,"th",86),t._uU(15,"Action"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"tbody",88),t.YNc(17,Vi,13,10,"tr",89),t.qZA(),t.qZA(),t.YNc(18,zi,1,0,"table-loading",12),t.qZA()),2&i){const e=t.oxw(2);t.xp6(17),t.Q6J("ngForOf",e.clientTargets),t.xp6(1),t.Q6J("ngIf",e.tableisloadingState_location)}}const Wi=function(){return{backdropBorderRadius:"50%"}};function Xi(i,s){if(1&i&&(t.TgZ(0,"div",24),t.TgZ(1,"div",25),t.TgZ(2,"div",26),t.TgZ(3,"div",27),t.TgZ(4,"div",28),t.TgZ(5,"div",29),t.TgZ(6,"div",30),t._UZ(7,"ngx-loading",0),t.TgZ(8,"div",31),t._UZ(9,"img",32),t.qZA(),t.qZA(),t.qZA(),t.YNc(10,_i,1,0,"table-loading",12),t.YNc(11,pi,17,10,"div",12),t.qZA(),t.qZA(),t._UZ(12,"hr",33),t.YNc(13,bi,34,11,"div",34),t.qZA(),t.YNc(14,Si,1,0,"table-loading",12),t.TgZ(15,"div",35),t.TgZ(16,"div",36),t.TgZ(17,"h4",37),t._uU(18,"Logs"),t.qZA(),t.qZA(),t.YNc(19,Li,5,2,"div",38),t.qZA(),t.qZA(),t.TgZ(20,"div",39),t.YNc(21,Ni,1,0,"table-loading",12),t.YNc(22,Pi,10,3,"div",40),t.TgZ(23,"div",41),t.YNc(24,Ei,1,0,"table-loading",12),t.YNc(25,Ji,4,1,"div",42),t.TgZ(26,"div",43),t.YNc(27,Di,3,0,"div",44),t.YNc(28,$i,17,2,"div",45),t.qZA(),t.qZA(),t.TgZ(29,"div",41),t.YNc(30,Bi,1,0,"table-loading",12),t.YNc(31,ji,4,1,"div",42),t.TgZ(32,"div",43),t.YNc(33,Hi,3,0,"div",44),t.YNc(34,Gi,19,2,"div",45),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(7),t.Q6J("show",e.isImgLoading)("config",t.DdM(19,Wi)),t.xp6(2),t.Q6J("width","175")("height","175"),t.xp6(1),t.Q6J("ngIf",e.clientLoading),t.xp6(1),t.Q6J("ngIf",!e.clientLoading),t.xp6(2),t.Q6J("ngIf",!e.clientLoading),t.xp6(1),t.Q6J("ngIf",e.logsLoading),t.xp6(5),t.Q6J("ngIf",!e.logsLoading),t.xp6(2),t.Q6J("ngIf",e.starredPocLoading),t.xp6(1),t.Q6J("ngIf",!e.starredPocLoading),t.xp6(2),t.Q6J("ngIf",e.locationsLoading),t.xp6(1),t.Q6J("ngIf",!e.locationsLoading),t.xp6(2),t.Q6J("ngIf",0==(null==e.clientLocations?null:e.clientLocations.length)),t.xp6(1),t.Q6J("ngIf",(null==e.clientLocations?null:e.clientLocations.length)>0),t.xp6(2),t.Q6J("ngIf",e.targetsLoading),t.xp6(1),t.Q6J("ngIf",!e.targetsLoading),t.xp6(2),t.Q6J("ngIf",0==(null==e.clientTargets?null:e.clientTargets.length)),t.xp6(1),t.Q6J("ngIf",(null==e.clientTargets?null:e.clientTargets.length)>0)}}function Ki(i,s){if(1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-client-students",102),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("client",e.client)}}function to(i,s){if(1&i&&(t.TgZ(0,"div"),t._UZ(1,"terms-and-quarters",102),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("client",e.client)}}function eo(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",103),t.TgZ(1,"h5",104),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",105,13),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",106),t.qZA(),t.qZA(),t._UZ(7,"app-add-edit-client",107)}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",null==e.selectedClient?"Add New Client":t.lcZ(3,2,"Update Client")," "),t.xp6(5),t.Q6J("inputObj",e.selectedClient)}}function no(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",103),t.TgZ(1,"h5",104),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",105,14),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",106),t.qZA(),t.qZA(),t.TgZ(7,"app-add-edit-location",108),t.NdJ("onSave",function(){return t.CHM(e),t.oxw().ngOnInit()}),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",null==e.selectedLocation?"Add Location":t.lcZ(3,4,"Update Location")," "),t.xp6(5),t.Q6J("openPOCModel",e.openPOCModelPopup)("inputObj",e.selectedLocation)("clientId",null==e.client?null:e.client.id)}}function io(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",103),t.TgZ(1,"h5",104),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",105,15),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",106),t.qZA(),t.qZA(),t.TgZ(7,"app-add-edit-location",108),t.NdJ("onSave",function(){return t.CHM(e),t.oxw().ngOnInit()}),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,4,"Location Details")," "),t.xp6(5),t.Q6J("openPOCModel",e.openPOCModelPopup)("inputObj",e.selectedLocation)("clientId",null==e.client?null:e.client.id)}}function oo(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",103),t.TgZ(1,"h5",104),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",105,16),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",106),t.qZA(),t.qZA(),t.TgZ(7,"app-add-edit-targets",109),t.NdJ("onSave",function(){return t.CHM(e),t.oxw().ngOnInit()}),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",null==e.selectdTarget?"Add Target":t.lcZ(3,3,"Update Target")," "),t.xp6(5),t.Q6J("inputObj",e.selectdTarget)("client",e.client)}}function lo(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",103),t.TgZ(1,"h5",104),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",105,17),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",106),t.qZA(),t.qZA(),t.TgZ(7,"app-add-edit-targets",110),t.NdJ("onSave",function(){return t.CHM(e),t.oxw().ngOnInit()}),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,4,"Target Details")," "),t.xp6(5),t.Q6J("readOnly",!0)("inputObj",e.selectdTarget)("client",e.client)}}function so(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",103),t.TgZ(1,"h5",104),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",105,18),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",106),t.qZA(),t.qZA(),t.TgZ(7,"app-add-edit-poc",111),t.NdJ("onSave",function(){return t.CHM(e),t.oxw().ngOnInit()})("onClose",function(){return t.CHM(e),t.oxw().onPOCModalCancel()}),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",null==e.selectedPOC?"Add POC":t.lcZ(3,3,"Update POC")," "),t.xp6(5),t.Q6J("inputObj",e.selectedPOC)("selectedLocation",e.selectedLocation)}}function ro(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",112),t.TgZ(1,"h5",104),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",105,19),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",106),t.qZA(),t.qZA(),t.TgZ(7,"div",113),t._UZ(8,"app-attach-location-providers",114),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,2,"Attach Providers")),t.xp6(6),t.Q6J("selectedLocation",e.selectedLocation)}}const ao=function(){return{backdropBorderRadius:"3px"}},K=function(i){return{"nav-link":!0,"tab-active":i}};let co=(()=>{class i{constructor(e,n,o,l,r,d,p,u,A,J,tt,D,No,yo){this.util=e,this.route=n,this.confirmDialog=o,this._breadcrumbService=l,this.clientService=r,this._modalService=d,this._util=p,this.logService=u,this.toastr=A,this.locationService=J,this._eventService=tt,this.targetsService=D,this.POCsService=No,this.targetService=yo,this.selectedClientId=null,this.client=new L.m7,this.logsList=[],this.tableLogs=!1,this.quarters=[],this.clientLocations=[],this.clientTargets=[],this.selectedClient=null,this.selectedLocation=null,this.selectdTarget=null,this.selectedPOC=null,this.clientPOCs=[],this.total=0,this.limit=10,this.page=0,this.isloadingState=!1,this.starredPocLoading=!1,this.locationsLoading=!1,this.targetsLoading=!1,this.logsLoading=!1,this.clientLoading=!1,this.pocLoading=!1,this.isImgLoading=!1,this.pocModal=null,this.tableisloadingState_quarter=!1,this.tableisloadingState_location=!1,this.selectedTerm=null,this.permissions=new N.m,this.subs=new x.w,this.activeTabIdString="overview",this.lottieConfig={path:"../../assets/images/lottie/contact_img_outline.json",renderer:"svg",autoplay:!0,loop:!0},this.lottieEmpty={path:"../assets/images/lottie/empty-box.json",renderer:"svg",autoplay:!0,loop:!1}}ngOnInit(){this.permissions=this.util.getAllowedPermissions(),this.route.paramMap.subscribe(e=>{this.selectedClientId=parseInt(e.get("id")),this.selectedClientId&&this.loadContent()}),this.subs.add(this._eventService.onClientEventUpdate.subscribe(()=>{this.fetchPOCsByClientId()}))}ngOnDestroy(){this.subs.unsubscribe()}loadContent(){this.fetchClient(this.selectedClientId),this.fetchLocationsByClientId(this.selectedClientId),this.fetchTargetsByClientId(this.selectedClientId),this.fetchPOCsByClientId(),this.fetchClientLogs(this.selectedClientId)}fetchClient(e){return(0,m.mG)(this,void 0,void 0,function*(){this.quarters=[],this.clientLoading=!0;try{let n=yield this.clientService.fetchClientById(e);this.client=this.clientService.getData(n),this.setTitle(),this._breadcrumbService.apply(this.client.name),this.clientLoading=!1}catch(n){console.log(n)}finally{this.clientLoading=!1}})}fetchClientLogs(e){this.logsLoading=!0,this.logService.getAllLogs(null,e,vt.qB.CLIENT,50,0).then(n=>{this.logsLoading=!1;let o=this.logService.getData(n);this.logsList=o.resultList}).catch(n=>{this.logsLoading=!1,console.log(n,"error")})}fetchLocationsByClientId(e){return(0,m.mG)(this,void 0,void 0,function*(){this.locationsLoading=!0;try{let n=yield this.locationService.fetchByClientId(e);this.clientLocations=this.locationService.getData(n)}catch(n){console.log(n)}finally{this.locationsLoading=!1}})}fetchTargetsByClientId(e){return(0,m.mG)(this,void 0,void 0,function*(){this.targetsLoading=!0;try{let n=yield this.targetsService.fetchByClientId(e);this.clientTargets=this.locationService.getData(n)}catch(n){console.log(n)}finally{this.targetsLoading=!1}})}fetchPOCsByClientId(){return(0,m.mG)(this,void 0,void 0,function*(){this.starredPocLoading=!0;try{let e=yield this.POCsService.fetchByClientId(this.selectedClientId),n=this.POCsService.getData(e);this.clientPOCs=n.filter(o=>o.starred)}catch(e){}finally{this.starredPocLoading=!1}})}setTitle(){this.route.snapshot.data.title=this.client.name.toUpperCase()+"("+this.client.poNumber+")"}toggleClientStatus(e){this.confirmDialog.confirm("Are You Sure to make this client "+(e?"Inactive":"Active")).then(n=>{n?e?this.deleteClient():this.updateClient():this.client.deleted=!e})}togglePlacement(e){this.confirmDialog.confirm("Are you sure to set placement status to "+(e?"Active":"Inactive")).then(n=>{n?this.updateClient():this.client.placementSchool=!e})}toggleProspective(e){return(0,m.mG)(this,void 0,void 0,function*(){let n="Are you sure to set prospective status to "+(e?"Active":"Inactive");try{(yield this.confirmDialog.confirm(n))?this.updateClient():this.client.prospective=!e}catch(o){console.log("Error")}})}openModelPopup(e,n){this.selectedClient=e,this._modalService.open(n,{centered:!0,size:"lg",backdrop:"static",keyboard:!1,windowClass:this._util.getThemeFromSession("lol-modal-medium")})}openLocationModelPopup(e,n){this.selectedLocation=e&&Object.assign({},e),this._modalService.open(n,{size:"lg",backdrop:"static",keyboard:!1,centered:!0,windowClass:this.util.getThemeFromSession("lol-modal-sm")})}openTargetModelPopup(e,n){this.selectdTarget=null==e?e:Object.assign({},e),this._modalService.open(n,{size:"lg",backdrop:"static",keyboard:!1,centered:!0,windowClass:this.util.getThemeFromSession("lol-modal-sm")})}openPOCModelPopup(e,n,o){this.selectedPOC=e&&Object.assign({},e),this.selectedLocation=o&&Object.assign({},o),this.pocModal=this._modalService.open(n,{size:"lg",backdrop:"static",keyboard:!1,centered:!0,windowClass:this.util.getThemeFromSession("lol-modal-sm")})}tabChanged(e){this.activeTabIdString=e}handleAnimation(e){this.anim=e}closeNoteModal(){this._modalService.dismissAll()}onPOCModalCancel(){this.pocModal.close()}onSortedQuarter(e){it.o.sortByProperty(this.quarters,e.sortColumn,e.sortDirection)}updateClient(){return(0,m.mG)(this,void 0,void 0,function*(){this.isloadingState=!0;try{yield this.clientService.saveClient(this.client),this.toastr.success(this.client.name+" Updated","Success")}catch(e){console.log("Error in Updating Client",e)}finally{this.isloadingState=!1}})}deleteClient(){return(0,m.mG)(this,void 0,void 0,function*(){this.isloadingState=!0;try{yield this.clientService.deleteRecord(this.client.id),this.toastr.success("Client Deleted","SUCCESS"),this._util.navigateToClients()}catch(e){console.log("Error Deleting Client",e)}finally{this.isloadingState=!1}})}UnStarPOC(e,n){return(0,m.mG)(this,void 0,void 0,function*(){if(e.starred=!1,yield this.confirmDialog.confirm("Are you sure you want to remove this POC form starred POCs?")){this.isloadingState=!0;try{yield this.POCsService.saveLocationPOC(e,n),this.toastr.success("Location Unstarred","Success"),this.fetchPOCsByClientId()}catch(l){console.error("Error to unstar the location:",l)}finally{this.isloadingState=!1}}})}deleteLocation(e){return(0,m.mG)(this,void 0,void 0,function*(){if(yield this.confirmDialog.confirm("Are you sure you want to delete the selected location?")){this.isloadingState=!0;try{yield this.locationService.deleteRecord(e),this.fetchLocationsByClientId(this.client.id)}catch(o){console.error("Error deleting target:",o)}finally{this.isloadingState=!1}}})}deleteTarget(e){return(0,m.mG)(this,void 0,void 0,function*(){this.isloadingState=!0;try{yield this.targetService.deleteRecord(e),this.toastr.success("Target Deleted","Success"),this.fetchTargetsByClientId(this.client.id)}catch(n){console.error("Error deleting target:",n)}finally{this.isloadingState=!1}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.Z),t.Y36(nt.gz),t.Y36(y.O),t.Y36(At.p),t.Y36(M.y),t.Y36(g.FF),t.Y36(f.Z),t.Y36(xt.$),t.Y36(T._W),t.Y36(w._),t.Y36(C.P),t.Y36(B),t.Y36(R),t.Y36(B))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-client-detail"]],decls:33,vars:19,consts:[[3,"show","config"],[1,"row"],[1,"col-12","p-0"],[1,"card-toolbar","header","p-b-0","p-t-0"],[1,"d-flex","justify-content-start","mb-2"],["href","javascript:void(0)",3,"ngClass","click"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"w-100","d-flex","justify-content-end","lol-task-controls"],["class","btn btn-outline-primary","type","button","title","Create Client",3,"click",4,"ngIf"],["class","btn btn-outline-info","type","button","title","Edit Client",3,"click",4,"ngIf"],["class","row lol-contact-snapshot",4,"ngIf"],[4,"ngIf"],["addClient",""],["addLocation",""],["viewLocation",""],["addTarget",""],["viewTarget",""],["addPOC",""],["attachProviderModal",""],["type","button","title","Create Client",1,"btn","btn-outline-primary",3,"click"],[1,"mdi","mdi-plus-circle-outline","m-r-5"],["type","button","title","Edit Client",1,"btn","btn-outline-info",3,"click"],[1,"mdi","mdi","mdi-pencil"],[1,"row","lol-contact-snapshot"],[1,"col-lg-4","col-xlg-3","col-md-5"],[1,"card"],[1,"card-body"],[1,"m-t-0","text-center"],[1,"col-auto","text-center"],[1,"image-container",2,"margin-bottom","0px"],[2,"height","200px","width","200px"],["src","assets/images/school-building.png",3,"width","height"],[1,"m-b-0"],["class","card-body",4,"ngIf"],[1,"card","d-flex","flex-grow-1","rc"],[1,"card-toolbar","header"],[1,"card-title"],["class","card-body-table pt-0",4,"ngIf"],[1,"col-lg-8","col-xlg-9","col-md-7"],["class","card",4,"ngIf"],[1,"card","rc"],["class","card-toolbar header",4,"ngIf"],[1,"card-body-table","pt-0"],["class","card-empty",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"card-title","m-t-10","selectable-all"],[1,"row","text-center","justify-content-center"],[1,"snapshot-badges"],["checkedTextColor","white","uncheckedTextColor","black","defaultBgColor","#26daab","color","red","size","medium","uncheckedLabel","Active","checkedLabel","Inactive","name","deleted",3,"disabled","ngModel","title","ngModelChange","change"],["checkedTextColor","white","uncheckedTextColor","black","defaultBoColor","#2962FF","color","#2962FF","size","medium","uncheckedLabel","NO","name","prospective","checkedLabel","YES",3,"disabled","ngModel","title","change","ngModelChange"],["checkedTextColor","white","uncheckedTextColor","black","defaultBoColor","#2962FF","color","#2962FF","size","medium","uncheckedLabel","NO","checkedLabel","YES","name","placementSchool",3,"disabled","ngModel","title","change","ngModelChange"],[1,"col-md-7","col-lg-7","col-xl-7"],[1,"snapshot-datapoint"],[1,"text-muted"],[1,"col-md-5","col-lg-5","col-xl-5"],[1,""],["class","empty-state-card",4,"ngIf"],[1,"pl-0",2,"max-height","350px","overflow-y","auto"],["class","d-flex flex-column px-2 border-bottom  py-2",4,"ngFor","ngForOf"],[1,"empty-state-card"],[1,"d-flex","flex-column","px-2","border-bottom","py-2"],[1,"d-flex","pl-2"],[1,"mdi","mr-2","mdi-file-document","text-success"],[1,"text-muted","align-self-end"],[1,"card-toolbar","header","border-bottom","mb-2"],[1,"card-body","pt-0"],[2,"min-width","275px"],[1,"d-flex","flex-wrap","m-2"],["class","person-pill",4,"ngFor","ngForOf"],[1,"card-empty"],[1,"person-pill"],[1,"person-pill-pic",2,"position","absolute"],["alt","Contact","width","56",1,"rounded-circle",3,"src"],[1,"person-pill-content","ll-purple"],[1,"person-pill-details"],[1,"row","d-flex","justify-content-between"],[1,"col-9","m-b-0"],[1,"col-3","text-align-end","cursor-pointer","mdi","mdi-close-circle-outline","fs-18-card",3,"click"],[1,"person-pill-badge"],["class","card-toolbar-button align-items-end",4,"ngIf"],[1,"card-toolbar-button","align-items-end"],["href","javascript:void(0)","title","Add Location",3,"click"],[1,"mdi","mdi-plus-circle-outline","fs-25"],[1,"table-responsive"],[1,"table","table-hover","table-header-sm"],["scope","col"],["scope","col",1,"text-align-center"],[1,"table-striped","font-9pt"],[4,"ngFor","ngForOf"],[1,"user-icon-cell","cursor-pointer"],["href","javascript:void(0)",1,"cursorPointer",3,"click"],[1,"p-1"],[1,"d-flex","justify-content-center"],["href","javascript:void(0)","ngbDropdown","","container","body","placement","left-top",1,"d-inline-block"],["ngbDropdownToggle","","title","Actions",1,"btn","dropdown-toggle-split","hide-split",2,"width","38px","margin-top","1px"],[1,"mdi","mdi-dots-vertical",2,"font-size","18px","color","#007ad9"],["ngbDropdownMenu","",1,"dropdown-menu"],["class","dropdown-item",3,"click",4,"ngIf"],[1,"dropdown-item",3,"click"],[1,"d-flex",2,"text-align","right"],[3,"showViewBtn","showEditBtn","showDeleteBtn","inputItem","confirmMsg","delete","view","edit"],[3,"client"],[1,"modal-header","p-3"],["id","modal-basic-title",1,"modal-title"],["data-dismiss","modal",1,"cursorPointer",3,"click"],[1,"mdi","mdi-close"],[2,"width","100%",3,"inputObj"],[2,"width","100%",3,"openPOCModel","inputObj","clientId","onSave"],[2,"width","100%",3,"inputObj","client","onSave"],[2,"width","100%",3,"readOnly","inputObj","client","onSave"],[2,"width","100%",3,"inputObj","selectedLocation","onSave","onClose"],[1,"bg-info","text-white","modal-header","p-2"],[1,"modal-body"],[3,"selectedLocation"]],template:function(e,n){if(1&e&&(t._UZ(0,"ngx-loading",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"a",5),t.NdJ("click",function(){return n.tabChanged("overview")}),t._uU(6," Overview "),t.qZA(),t.TgZ(7,"a",5),t.NdJ("click",function(){return n.tabChanged("students")}),t._uU(8," Students "),t.qZA(),t.TgZ(9,"a",5),t.NdJ("click",function(){return n.tabChanged("terms_quarters")}),t.YNc(10,ri,2,0,"ng-container",6),t.YNc(11,ai,1,0,"ng-template",null,7,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",8),t.YNc(14,ci,3,0,"button",9),t.YNc(15,di,3,0,"button",10),t.qZA(),t.qZA(),t.YNc(16,Xi,35,20,"div",11),t.YNc(17,Ki,2,1,"div",12),t.YNc(18,to,2,1,"div",12),t.YNc(19,eo,8,4,"ng-template",null,13,t.W1O),t.YNc(21,no,8,6,"ng-template",null,14,t.W1O),t.YNc(23,io,8,6,"ng-template",null,15,t.W1O),t.YNc(25,oo,8,5,"ng-template",null,16,t.W1O),t.YNc(27,lo,8,6,"ng-template",null,17,t.W1O),t.YNc(29,so,8,5,"ng-template",null,18,t.W1O),t.YNc(31,ro,9,4,"ng-template",null,19,t.W1O)),2&e){const o=t.MAs(12);t.Q6J("show",n.isloadingState)("config",t.DdM(12,ao)),t.xp6(5),t.Q6J("ngClass",t.VKq(13,K,"overview"===n.activeTabIdString)),t.xp6(2),t.Q6J("ngClass",t.VKq(15,K,"students"===n.activeTabIdString)),t.xp6(2),t.Q6J("ngClass",t.VKq(17,K,"terms_quarters"===n.activeTabIdString)),t.xp6(1),t.Q6J("ngIf",!n.client.placementSchool)("ngIfElse",o),t.xp6(4),t.Q6J("ngIf",n.permissions.CAN_MANAGE_CLIENTS),t.xp6(1),t.Q6J("ngIf",n.permissions.CAN_MANAGE_CLIENTS),t.xp6(1),t.Q6J("ngIf","overview"===n.activeTabIdString),t.xp6(1),t.Q6J("ngIf","students"===n.activeTabIdString),t.xp6(1),t.Q6J("ngIf","terms_quarters"===n.activeTabIdString)}},directives:[Z.RJ,_.mk,_.O5,O.I,j.ob,a.JJ,a.On,_.sg,g.jt,g.iD,g.Vi,P.C,Bt,xn,ut.m,jn,ei,mt,si],pipes:[_.uU,_.rS,v.X$],styles:[".tab-active[_ngcontent-%COMP%] {\r\n  color: #2962ff;\r\n  opacity: 1;\r\n  background-color: transparent;\r\n  border-bottom: 3px solid #2962ff;\r\n}\r\n\r\n.tab-active[_ngcontent-%COMP%] {\r\n  color: #2962ff;\r\n  opacity: 1;\r\n  background-color: transparent;\r\n  border-bottom: 2px solid #2962ff;\r\n}\r\n\r\n.font-700[_ngcontent-%COMP%] {\r\n  font-weight: 700;\r\n}\r\n\r\n.starred_title_text[_ngcontent-%COMP%]{\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n}\r\n\r\n.starred_card[_ngcontent-%COMP%]{\r\n  background-color: #e4e7ea;\r\n}\r\n\r\n.star-atr-lable[_ngcontent-%COMP%]{\r\n  font-size: 14px ;\r\n  font-weight: 500;\r\n  color: #2096ff;\r\n}\r\n\r\n.star-atr-value[_ngcontent-%COMP%]{\r\n  font-size: 14px;\r\n  \r\n}\r\n\r\n.round-sucess[_ngcontent-%COMP%]{\r\n  display: block;\r\n  width: 16px;\r\n  height: 16px;\r\n  background-color: #36bea6;\r\n  border-radius: 50%;\r\n}\r\n\r\n.round-danger[_ngcontent-%COMP%]{\r\n  display: block;\r\n  width: 16px;\r\n  height: 16px;\r\n  background-color: #ff0000;\r\n  border-radius: 50%;\r\n}\r\n\r\n.custom-card-hover[_ngcontent-%COMP%]{\r\n border: 1px solid #00000038\r\n}\r\n\r\n.custom-card-hover[_ngcontent-%COMP%]:hover{\r\n  box-shadow: 2px 2px 4px 4px rgba(0, 0, 0, 0.055);\r\n}\r\n\r\n.fa-calendar[_ngcontent-%COMP%] {\r\n  position: absolute;\r\n  right: 24px;\r\n  top: 10px;\r\n  color: #42a5f5;\r\n  cursor: pointer;\r\n}\r\n\r\n.term-atr-label[_ngcontent-%COMP%]{\r\n  font-size: 16px;\r\n    font-weight: 600;\r\n}\r\n\r\n.logs-list[_ngcontent-%COMP%]{\r\n  list-style: none;\r\n}\r\n\r\n.logs-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{\r\n  padding-top: 8px;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.048);\r\n}\r\n\r\n.person-pill[_ngcontent-%COMP%] {\r\n  position: relative;\r\n  padding: 10px;\r\n  font-size: 12px;\r\n  display: flex;\r\n}\r\n\r\n.person-pill-content[_ngcontent-%COMP%] {\r\n  padding: 10px;\r\n  border-radius: 10px;\r\n  color: white;\r\n  margin-left: 28px;\r\n}\r\n\r\n.person-pill-pic[_ngcontent-%COMP%] {}\r\n\r\n.person-pill-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\r\n  box-shadow: 0 4px 5px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.person-pill-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\r\n  color: white;\r\n}\r\n\r\n.person-pill-badge[_ngcontent-%COMP%] {\r\n  background-color: rgb(38 205 135 / 20%);\r\n  padding: 2px 5px;\r\n  border-radius: 4px;\r\n  width: -moz-fit-content;\r\n  width: fit-content;\r\n  margin: 4px 0px 2px 0px;\r\n}\r\n\r\n.person-pill-details[_ngcontent-%COMP%] {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-left: 28px;\r\n  max-width: 100%;\r\n}\r\n\r\n.person-pill[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%] {\r\n  width: 56px;\r\n  height: 56px;\r\n  text-align: center;\r\n  line-height: 56px;\r\n  font-size: 14px;\r\n}\r\n\r\n.quarterIndex[_ngcontent-%COMP%]{\r\n  font-weight: bold;\r\n  border-radius: 10px;\r\n  box-shadow: 1px 2px solid grey;\r\n}\r\n\r\n.round-icon[_ngcontent-%COMP%]{\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n}\r\n\r\n\r\n\r\n.date-input[_ngcontent-%COMP%] {\r\n  width: 90%;\r\n  min-width: 15px;\r\n  border:1px solid #2096ff;\r\n  padding-right: 5px;\r\n  background-color: rgba(0, 0, 0, 0.034);\r\n}\r\n\r\n\r\n\r\n.date-input[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator {\r\n  background:url('calender-icon.png');\r\n  background-size: contain;\r\n  color: #333333;\r\n  font-size: 14px;\r\n\r\n}\r\n\r\n\r\n\r\n.date-input[_ngcontent-%COMP%]::-webkit-datetime-edit {\r\n  padding: 0.5em;\r\n  color: #333333;\r\n  font-size: 14px;\r\n}\r\n\r\n\r\n\r\n.date-input[_ngcontent-%COMP%]:invalid {\r\n  color: #ff0000;\r\n  border-color: #ff0000;\r\n}\r\n\r\n.fs-8[_ngcontent-%COMP%] {\r\n    font-size: 8px;\r\n  }\r\n\r\n.fs-25[_ngcontent-%COMP%] {\r\n    font-size: 25px;\r\n  }\r\n\r\n.ml-10[_ngcontent-%COMP%] {\r\n    margin-left:10px;\r\n  }\r\n\r\ndiv.disabled[_ngcontent-%COMP%] {\r\n    pointer-events: none;\r\n  \r\n    \r\n    opacity: 0.5;\r\n    background: #e4e7ea;\r\n  }\r\n\r\n.fc[_ngcontent-%COMP%] {\r\n    max-height: 300px;\r\n    min-height: 300px;\r\n  }\r\n\r\n.rc[_ngcontent-%COMP%] {\r\n    min-height: 100px;\r\n  }\r\n\r\n.fb[_ngcontent-%COMP%] {\r\n    background-color: rgb(163, 163, 163);\r\n    border-color: rgb(163, 163, 163);\r\n  }\r\n\r\n.fb[_ngcontent-%COMP%]:hover {\r\n    background-color: royalblue;\r\n    border-color: royalblue;\r\n  }\r\n\r\n.twitter[_ngcontent-%COMP%] {\r\n    background-color: rgb(163, 163, 163);\r\n    border-color: rgb(163, 163, 163);\r\n  }\r\n\r\n.twitter[_ngcontent-%COMP%]:hover {\r\n    background-color: rgb(14, 182, 248);\r\n    border-color: rgb(14, 182, 248);\r\n  }\r\n\r\n.card-empty[_ngcontent-%COMP%] {\r\n    padding: 0rem 1.25rem 1.25rem 1.25rem\r\n  }\r\n\r\n.btn-remove-file[_ngcontent-%COMP%] {\r\n    color: blue;\r\n  }\r\n\r\n.snapshot-badges[_ngcontent-%COMP%] {\r\n    display: flex;\r\n    align-items: center;\r\n    width: 300px;\r\n    justify-content: space-evenly;\r\n  }\r\n\r\n.snapshot-badges[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n.snapshot-badges[_ngcontent-%COMP%]   .snapshot-badge[_ngcontent-%COMP%] {\r\n    height: 30px;\r\n    width: 30px;\r\n    margin: 0 10px;\r\n    background-color: #2962ff;\r\n    border-radius: 8px;\r\n    position: relative;\r\n    color: white;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n.switch[_ngcontent-%COMP%]:focus {\r\n    border: 1px solid red;\r\n  }\r\n\r\n.lol-contact-snapshot[_ngcontent-%COMP%]   .switch.disabled[_ngcontent-%COMP%] {\r\n    opacity: 1 !important;\r\n  }\r\n\r\n.lol-contact-snapshot[_ngcontent-%COMP%]   .card-toolbar[_ngcontent-%COMP%] {\r\n    padding: 10px 20px;\r\n  }\r\n\r\n.lol-contact-snapshot[_ngcontent-%COMP%]   .btn-circle[_ngcontent-%COMP%] {\r\n    border: 2px solid #fff;\r\n    padding: 8px;\r\n    box-shadow: 1px 4px 8px #00000061;\r\n  }\r\n\r\n.lol-contact-snapshot[_ngcontent-%COMP%]   .btn-circle[_ngcontent-%COMP%]:disabled {\r\n    box-shadow: none;\r\n  }\r\n\r\n.snapshot-badges[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{\r\n    font-weight: 600;\r\n    font-size: 12px;\r\n    padding-top: 10px;\r\n  }\r\n\r\n.snapshot-badges[_ngcontent-%COMP%]   .snapshot-button[_ngcontent-%COMP%] {\r\n    font-size:12px;\r\n    padding:0 20px;\r\n  }\r\n\r\n.snapshot-badges[_ngcontent-%COMP%]   .snapshot-visaCheck[_ngcontent-%COMP%] {\r\n    background: #f43833;\r\n  }\r\n\r\n.snapshot-badges[_ngcontent-%COMP%]   .snapshot-counter[_ngcontent-%COMP%] {\r\n    position: absolute;\r\n    background: #f43833;\r\n    padding: 2px 8px;\r\n    border-radius: 36%;\r\n    transform: scale(.8);\r\n    top: -10px;\r\n    left: 16px;\r\n  }\r\n\r\n.matter-pill[_ngcontent-%COMP%] {\r\n    position: relative;\r\n    min-width: 300px;\r\n  }\r\n\r\n.matter-pill[_ngcontent-%COMP%]:hover {\r\n    cursor: pointer;\r\n  }\r\n\r\n.matter-pill-content[_ngcontent-%COMP%]{\r\n      padding: 10px;\r\n      border-radius: 10px;\r\n      color: white;\r\n      margin-left: 28px;\r\n  }\r\n\r\n.matter-pill-pic[_ngcontent-%COMP%] {\r\n    top: 5px;\r\n    left: 10px;\r\n  }\r\n\r\n.matter-pill-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{\r\n    box-shadow: 0 4px 5px rgba(0, 0, 0, 0.15);\r\n  }\r\n\r\n.matter-pill-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\r\n    color: white;\r\n  }\r\n\r\n.ll-purple[_ngcontent-%COMP%]{\r\n    background: #21255E;\r\n  }\r\n\r\n.ll-blue[_ngcontent-%COMP%]{\r\n    background: #30B4DC;\r\n  }\r\n\r\n.matter-pill-badge[_ngcontent-%COMP%]{\r\n    background-color: rgba(255,255,255,0.2);\r\n    padding: 5px;\r\n    border-radius: 4px;\r\n    width: -moz-fit-content;\r\n    width: fit-content;\r\n    font-size: 10px;\r\n  }\r\n\r\n.matter-pill-details[_ngcontent-%COMP%] {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-left: 46px;\r\n    margin-right: 20px;\r\n    max-width: 100%;\r\n  }\r\n\r\n.matter-list-area[_ngcontent-%COMP%] {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n  }\r\n\r\n.lol-matter-pending[_ngcontent-%COMP%] {\r\n    background-color: #ffbc34;\r\n  }\r\n\r\n.lol-matter-closed[_ngcontent-%COMP%] {\r\n    background-color: #a1aab2;\r\n  }\r\n\r\n.lol-matter-open[_ngcontent-%COMP%] {\r\n    background-color: #36bea6;\r\n  }\r\n\r\n.lol-table-family[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] {\r\n    border-top: 1px solid #e9ecef;\r\n  }\r\n\r\n.select-profile-picture[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%] {\r\n    height: 200px;\r\n  }\r\n\r\n.image-container[_ngcontent-%COMP%] {\r\n    margin-bottom: 25px;\r\n  }\r\n\r\n.image-container[_ngcontent-%COMP%]:hover {\r\n    font-weight: 600;\r\n    color: black;\r\n    font-size: 1em;\r\n  }\r\n\r\n.card-empty[_ngcontent-%COMP%] {\r\n    padding-top:20px;\r\n  }\r\n\r\n.empty-state-card[_ngcontent-%COMP%] {\r\n    color:#777777;\r\n  }\r\n\r\n.snapshot-datapoint[_ngcontent-%COMP%]   i.mdi-content-copy[_ngcontent-%COMP%] {\r\n    opacity: 0;\r\n    transition: 0.6s;\r\n    position: absolute;\r\n  }\r\n\r\n.snapshot-datapoint[_ngcontent-%COMP%]:hover   i.mdi-content-copy[_ngcontent-%COMP%] {\r\n    opacity: 100;\r\n   transform: translate(5px,0);\r\n    -webkit-transform: translate(5px,0); \r\n    -o-transform: translate(5px,0); \r\n    -moz-transform: translate(5px,0); \r\n  }\r\n\r\n.mdi-check[_ngcontent-%COMP%] {\r\n    font-size: 12px;\r\n  }\r\n\r\n.td-controls[_ngcontent-%COMP%] {\r\n    display: flex;  \r\n    margin-left: auto; \r\n    float: right;\r\n  }\r\n\r\n.ani-grad-matter[_ngcontent-%COMP%] {\r\n      background: linear-gradient(270deg, #2096ff, #2096ff);\r\n      background-size: 400% 400%;\r\n      animation: AnimationName 12s ease infinite;\r\n      @keyframes AnimationName {\r\n          0%{background-position:0% 50%}\r\n          50%{background-position:100% 50%}\r\n          100%{background-position:0% 50%}\r\n      }\r\n  }\r\n\r\n.confCol[_ngcontent-%COMP%] {\r\n    color: #b30f0f\r\n  }\r\n\r\n.opac-btn[_ngcontent-%COMP%]{\r\n    opacity: 0.5;\r\n    transition: opacity 0.5s ease-out;\r\n    -moz-transition: opacity 0.5s ease-out;\r\n    -webkit-transition: opacity 0.5s ease-out;\r\n    -o-transition: opacity 0.5s ease-out;\r\n  }\r\n\r\n.opac-btn[_ngcontent-%COMP%]:hover{\r\n    opacity: 1;\r\n    transition: opacity 0.5s ease-out;\r\n    -moz-transition: opacity 0.5s ease-out;\r\n    -webkit-transition: opacity 0.5s ease-out;\r\n    -o-transition: opacity 0.5s ease-out;\r\n  }\r\n\r\n.lol-task-controls[_ngcontent-%COMP%] {\r\n  position: fixed;\r\n  top: 88px;\r\n  left: -40px;\r\n}"]}),i})();var _o=c(4278);function po(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),l=t.MAs(71);return o.openModelPopup(null,l)}),t._uU(1,"Add Client"),t.qZA()}}function go(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"i",41),t.NdJ("click",function(){return t.CHM(e),t.oxw().clearSearchString()}),t.qZA()}}function uo(i,s){1&i&&(t.TgZ(0,"span",42),t._UZ(1,"div",43),t.qZA())}function mo(i,s){1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",45),t.TgZ(2,"strong"),t._uU(3,"No Clients Found"),t.qZA(),t.qZA(),t.qZA())}function ho(i,s){if(1&i&&(t.TgZ(0,"span"),t._UZ(1,"i",51),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.s9C("title",null!=e&&e.placementSchool?"Placement":"")}}function fo(i,s){1&i&&t._UZ(0,"span")}function To(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"edit-delete-btns",52),t.NdJ("view",function(){t.CHM(e);const o=t.oxw().$implicit,l=t.oxw(2),r=t.MAs(73);return l.openModelPopup(o,r)})("edit",function(){t.CHM(e);const o=t.oxw().$implicit,l=t.oxw(2),r=t.MAs(71);return l.openModelPopup(o,r)})("delete",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(2).deleteRec(o.id)}),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("showViewBtn",!e.permissions.CAN_MANAGE_CLIENTS)("showEditBtn",e.permissions.CAN_MANAGE_CLIENTS)("showDeleteBtn",e.permissions.CAN_MANAGE_CLIENTS)("confirmMsg","Are you sure you want to delete the selected item?")}}const Co=function(i,s){return{"bg-success":i,"bg-danger":s}};function Zo(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.ynx(1),t.TgZ(2,"td",46),t.TgZ(3,"a",47),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw(2).util.navigateToClientDetail(l)}),t._uU(4),t.ALo(5,"nullToDash"),t.qZA(),t.YNc(6,ho,2,1,"span",35),t.YNc(7,fo,1,0,"span",35),t.qZA(),t.TgZ(8,"td",48),t._uU(9),t.ALo(10,"nullToDash"),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"nullToDash"),t.qZA(),t.TgZ(14,"td",49),t._uU(15),t.ALo(16,"nullToDash"),t.qZA(),t.TgZ(17,"td"),t._UZ(18,"i",50),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"td"),t.YNc(21,To,2,4,"div",35),t.qZA(),t.BQk(),t.qZA()}if(2&i){const e=s.$implicit;t.xp6(4),t.hij(" ",t.lcZ(5,9,null==e?null:e.name)," "),t.xp6(2),t.Q6J("ngIf",!0===(null==e?null:e.placementSchool)),t.xp6(1),t.Q6J("ngIf",!1===(null==e?null:e.placementSchool)),t.xp6(2),t.hij(" ",t.lcZ(10,11,null==e?null:e.poNumber)," "),t.xp6(3),t.hij(" ",t.lcZ(13,13,null==e?null:e.billingOffice1)," "),t.xp6(3),t.hij(" ",t.lcZ(16,15,null==e?null:e.billingOffice2)," "),t.xp6(3),t.s9C("title",null!=e&&e.deleted?t.lcZ(19,17," Not Active"):"Active"),t.Q6J("ngClass",t.WLB(19,Co,!e.deleted,e.deleted)),t.xp6(3),t.Q6J("ngIf",!e.deleted)}}function vo(i,s){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,mo,4,0,"tr",35),t.YNc(2,Zo,22,22,"tr",44),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",0==e.clients.length),t.xp6(1),t.Q6J("ngForOf",e.clients)}}function Ao(i,s){1&i&&t._UZ(0,"table-loading",53),2&i&&t.Q6J("rows",8)("classList","ph-col-10")}function xo(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",54),t.TgZ(1,"h5",55),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",56,38),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",57),t.qZA(),t.qZA(),t._UZ(7,"app-add-edit-client",58)}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(null==e.selectedClient?"Add New Client":t.lcZ(3,2,"Update Client")),t.xp6(5),t.Q6J("inputObj",e.selectedClient)}}function bo(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",54),t.TgZ(1,"h5",55),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",56,39),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",57),t.qZA(),t.qZA(),t._UZ(7,"app-add-edit-client",59)}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,3,"Client Details")),t.xp6(5),t.Q6J("readOnly",!0)("inputObj",e.selectedClient)}}let qo=[{path:"",canActivate:[h.a1],component:(()=>{class i{constructor(e,n,o,l,r,d){this.util=e,this._eventService=n,this._modalService=o,this.toastr=l,this.clientService=r,this.excelServ=d,this.clearIcon=!1,this.clients=[],this.clientSearchString="",this.isloadingState=!1,this.limit=10,this.page=0,this.permissions=new N.m,this.searchInterval=null,this.showSpinner=!1,this.subs=new x.w,this.readOnly=!1,this.selectedClient=null,this.sortColumn=null,this.sortDirection=null,this.total=0,this.filters={deleted:!1,placementSchool:null,prospective:null}}ngOnInit(){this.permissions=this.util.getAllowedPermissions(),this.limit=this.util.getPageLimit(),this.loadClients(),this.util.scrollToTop(),this.subs.add(this._eventService.onClientEventSaved.subscribe(()=>{this.loadClients()}))}loadClients(){this.isloadingState=!0,this.clientService.getAllClients(Object.assign(Object.assign({},this.filters),{keyword:this.clientSearchString.trim()}),this.limit,this.page,this.sortColumn,this.sortDirection).then(e=>{let n=this.clientService.getData(e);this.total=n.totalRecords,this.clients=n.resultList,this.isloadingState=!1}).catch(e=>{this.isloadingState=!1,console.log(e)})}exportExcel(){let e=[];null==this.clients||this.clients.length<=0?this.toastr.error("no data to export."):(this.clients.forEach(n=>{e.push({Name:n.name,"PO Number":n.poNumber,"Billing Address 1":n.billingOffice1,"Billing Address 2":n.billingOffice2,Status:n.deleted?"Inactive":"Active"})}),this.excelServ.exportAsExcelFile(e,"Client"))}ngOnDestroy(){this.subs.unsubscribe()}onFilterClear(){this.resetFilter(),this.loadClients()}resetFilter(){this.filters={deleted:null,placementSchool:null,prospective:null},this.clientSearchString=""}deleteRec(e){this.isloadingState=!0,this.clientService.deleteRecord(e).then(()=>{this.isloadingState=!1,this.toastr.success("Deleted","SUCCESS"),this.loadClients()}).catch(n=>{this.isloadingState=!1,console.log(n)})}openModelPopup(e,n){this.selectedClient=JSON.parse(JSON.stringify(e)),this._modalService.open(n,{size:"lg",backdrop:"static",keyboard:!1,centered:!0,windowClass:this.util.getThemeFromSession("lol-modal-sm")})}onFilterChange(){this.loadClients()}onSorted(e){this.sortColumn=e.sortColumn,this.sortDirection=e.sortDirection,this.loadClients()}onPageChanged(e){this.limit=e.limit,this.page=e.page,this.loadClients()}clearSearchString(){this.clientSearchString.length>0&&(this.clientSearchString="",this.loadClients())}onValueChanged(e){clearInterval(this.searchInterval),this.showSpinner=!1,(""==e||0==e.length)&&this.loadClients(),this.util.isValidated(this.clientSearchString.trim())&&!(this.clientSearchString.length<3)&&(this.showSpinner=!0,this.clients=[],this.searchInterval=setTimeout(()=>{this.loadClients(),this.showSpinner=!1},1e3))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.Z),t.Y36(C.P),t.Y36(g.FF),t.Y36(T._W),t.Y36(M.y),t.Y36(_o.x))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-view-clients"]],decls:74,vars:36,consts:function(){let s,e,n,o,l;return s=$localize`:␟ac09caec0fe7ee599496c7fe778755e2f49b3216␟5147574950879335037: ${"\ufffd0\ufffd"}:INTERPOLATION: `,e=$localize`:␟b9357da82ade67875b7f45780fc860d9c359f14b␟4283608141433200396: ${"\ufffd0\ufffd"}:INTERPOLATION: `,n=$localize`:␟b80582849dfe5a5fbffbf98ec3a75eb3eb4733c0␟3560514221740817047: ${"\ufffd0\ufffd"}:INTERPOLATION: `,o=$localize`:␟b17176b382ef669b08ec0c10d19b5c7a2e4bd35d␟4721130483004475833: ${"\ufffd0\ufffd"}:INTERPOLATION: `,l=$localize`:␟97259a7d39c3d0873df0b4af5319f9fd6d6d3eab␟384747025738768104: ${"\ufffd0\ufffd"}:INTERPOLATION: `,[[1,"row"],[1,"col-md-12"],[1,"card"],["appFixedTableHeader","",1,"card-body","p-t-0"],[1,"row","mt-2","client-filter","fixed-filter-container"],[1,"w-100","d-flex","justify-content-end","m-1","p-1"],["class","btn btn-outline-primary btn-anim-dropshadow","type","button","title","Create Client",3,"click",4,"ngIf"],["type","button","title","Download Excel Report",1,"btn","btn-outline-primary","btn-anim-dropshadow",3,"click"],[1,"col-md-5"],[1,"autocomplete"],[1,"border",2,"border-radius","3px"],["class","mdi mdi-close close-icon cursor-pointer text-danger ","style","font-size: large",3,"click",4,"ngIf"],["autocomplete","off","name","searchInputName","placeholder","Search client",1,"form-control",3,"ngModel","ngModelChange","input"],["searchInputName","ngModel"],["style","margin-top: -28px;","class","float-right mr-2",4,"ngIf"],[1,"col-md-2"],[1,"form-group"],["ngbTooltip","Status filter","name","deleted",1,"browser-default","cursor-pointer","custom-select",3,"ngModel","change","ngModelChange"],["deleted","ngModel"],[3,"ngValue"],["selected","",3,"ngValue"],["ngbTooltip","Placement filter","name","placementSchool",1,"browser-default","cursor-pointer","custom-select",3,"ngModel","change","ngModelChange"],["ngbTooltip","Prospective filter","name","prospective",1,"browser-default","cursor-pointer","custom-select",3,"ngModel","change","ngModelChange"],[1,"col-md-1","d-flex","justify-content-end","align-items-start"],["ngbTooltip","clear filter",1,"btn","btn-danger",3,"click"],[1,"table","table-container","smart-table"],["sortable-table","",1,"table","table-striped","table-hover","v-middle","wh-table-people",3,"sorted"],["scope","col",1,"cursor-pointer",3,"sortable-column","sort-direction"],s,["sortable-column","poNumber","scope","col",1,"cursor-pointer"],e,["scope","col"],n,o,l,[4,"ngIf"],[3,"rows","classList",4,"ngIf"],[3,"totalNumOfRecords","onPageChanged"],["addClient",""],["viewClient",""],["type","button","title","Create Client",1,"btn","btn-outline-primary","btn-anim-dropshadow",3,"click"],[1,"mdi","mdi-close","close-icon","cursor-pointer","text-danger",2,"font-size","large",3,"click"],[1,"float-right","mr-2",2,"margin-top","-28px"],["role","status",1,"spinner-border"],[4,"ngFor","ngForOf"],["colspan","11",1,"text-center","pt-3"],[1,"user-icon-cell","cursor-pointer"],["href","javascript:void(0)",1,"cursorPointer",3,"click"],[1,"user-icon-cell"],[1,"align-middle"],["ngxTooltip","",1,"status-circle",3,"ngClass","title"],[1,"mdi","mdi-city",2,"font-size","19px",3,"title"],[3,"showViewBtn","showEditBtn","showDeleteBtn","confirmMsg","view","edit","delete"],[3,"rows","classList"],[1,"modal-header","p-3"],["id","modal-basic-title",1,"modal-title"],["data-dismiss","modal",1,"cursorPointer",3,"click"],[1,"mdi","mdi-close"],[2,"width","100%",3,"inputObj"],[2,"width","100%",3,"readOnly","inputObj"]]},template:function(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.YNc(6,po,2,0,"button",6),t.TgZ(7,"button",7),t.NdJ("click",function(){return n.exportExcel()}),t._uU(8,"Export"),t.qZA(),t.qZA(),t.TgZ(9,"div",8),t.TgZ(10,"div",9),t.TgZ(11,"div",10),t.YNc(12,go,1,0,"i",11),t.TgZ(13,"input",12,13),t.NdJ("ngModelChange",function(r){return n.clientSearchString=r})("input",function(){t.CHM(o);const r=t.MAs(14);return n.onValueChanged(r.value)}),t.qZA(),t.YNc(15,uo,2,0,"span",14),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",15),t.TgZ(17,"div",16),t.TgZ(18,"select",17,18),t.NdJ("change",function(){return n.onFilterChange()})("ngModelChange",function(r){return n.filters.deleted=r}),t.TgZ(20,"option",19),t._uU(21,"All"),t.qZA(),t.TgZ(22,"option",20),t._uU(23,"Active"),t.qZA(),t.TgZ(24,"option",19),t._uU(25,"Inactive"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"div",15),t.TgZ(27,"div",16),t.TgZ(28,"select",21),t.NdJ("change",function(){return n.onFilterChange()})("ngModelChange",function(r){return n.filters.placementSchool=r}),t.TgZ(29,"option",20),t._uU(30,"All"),t.qZA(),t.TgZ(31,"option",19),t._uU(32,"Placement"),t.qZA(),t.TgZ(33,"option",19),t._uU(34,"District"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",15),t.TgZ(36,"div",16),t.TgZ(37,"select",22),t.NdJ("change",function(){return n.onFilterChange()})("ngModelChange",function(r){return n.filters.prospective=r}),t.TgZ(38,"option",20),t._uU(39,"All"),t.qZA(),t.TgZ(40,"option",19),t._uU(41,"Prospective"),t.qZA(),t.TgZ(42,"option",19),t._uU(43,"Non Prospective"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(44,"div",23),t.TgZ(45,"button",24),t.NdJ("click",function(){return n.onFilterClear()}),t._uU(46," Clear "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(47,"div",25),t.TgZ(48,"table",26),t.NdJ("sorted",function(r){return n.onSorted(r)}),t.TgZ(49,"thead"),t.TgZ(50,"th",27),t.SDv(51,28),t.ALo(52,"translate"),t.qZA(),t.TgZ(53,"th",29),t.SDv(54,30),t.ALo(55,"translate"),t.qZA(),t.TgZ(56,"th",31),t.SDv(57,32),t.ALo(58,"translate"),t.qZA(),t.TgZ(59,"th",31),t.SDv(60,33),t.ALo(61,"translate"),t.qZA(),t.TgZ(62,"th",31),t.SDv(63,34),t.ALo(64,"translate"),t.qZA(),t.TgZ(65,"th"),t._uU(66,"Action"),t.qZA(),t.qZA(),t.YNc(67,vo,3,2,"tbody",35),t.qZA(),t.YNc(68,Ao,1,2,"table-loading",36),t.TgZ(69,"app-pagination",37),t.NdJ("onPageChanged",function(r){return n.onPageChanged(r)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(70,xo,8,4,"ng-template",null,38,t.W1O),t.YNc(72,bo,8,5,"ng-template",null,39,t.W1O)}2&e&&(t.xp6(6),t.Q6J("ngIf",n.permissions.CAN_MANAGE_CLIENTS),t.xp6(6),t.Q6J("ngIf",n.clientSearchString.length>0&&!n.showSpinner),t.xp6(1),t.Q6J("ngModel",n.clientSearchString),t.xp6(2),t.Q6J("ngIf",n.showSpinner),t.xp6(3),t.Q6J("ngModel",n.filters.deleted),t.xp6(2),t.Q6J("ngValue",null),t.xp6(2),t.Q6J("ngValue",!1),t.xp6(2),t.Q6J("ngValue",!0),t.xp6(4),t.Q6J("ngModel",n.filters.placementSchool),t.xp6(1),t.Q6J("ngValue",null),t.xp6(2),t.Q6J("ngValue",!0),t.xp6(2),t.Q6J("ngValue",!1),t.xp6(4),t.Q6J("ngModel",n.filters.prospective),t.xp6(1),t.Q6J("ngValue",null),t.xp6(2),t.Q6J("ngValue",!0),t.xp6(2),t.Q6J("ngValue",!1),t.xp6(8),t.Q6J("sortable-column","name")("sort-direction","asc"),t.xp6(2),t.pQV(t.lcZ(52,26,"Name")),t.QtT(51),t.xp6(3),t.pQV(t.lcZ(55,28,"PO Number")),t.QtT(54),t.xp6(3),t.pQV(t.lcZ(58,30,"Billing Address 1")),t.QtT(57),t.xp6(3),t.pQV(t.lcZ(61,32,"Billing Address 2")),t.QtT(60),t.xp6(3),t.pQV(t.lcZ(64,34,"Status")),t.QtT(63),t.xp6(3),t.Q6J("ngIf",!n.isloadingState&&!n.showSpinner),t.xp6(1),t.Q6J("ngIf",n.isloadingState||n.showSpinner),t.xp6(1),t.Q6J("totalNumOfRecords",n.total))},directives:[lt.K,_.O5,a.Fj,a.JJ,a.On,a.EJ,g._L,a.YN,a.Kr,H.Q,Q.a,V.Q,_.sg,_.mk,P.C,O.I,ut.m],pipes:[v.X$,Y.W],styles:[".td[_ngcontent-%COMP%]{\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n}\r\n.lol-task-controls[_ngcontent-%COMP%] {\r\n    position: fixed;\r\n    top: 88px;\r\n    left: -40px;\r\n  }\r\n.spinner-border[_ngcontent-%COMP%] {\r\n    display: inline-block;\r\n    width: 1rem !important;\r\n    height: 1rem !important;\r\n    vertical-align: text-bottom;\r\n    border: 0.25em solid currentColor;\r\n    border-right-color: transparent;\r\n    border-radius: 50%;\r\n    animation: spinner-border 0.75s linear infinite;\r\n  }\r\n.autocomplete[_ngcontent-%COMP%] {\r\n    position: relative;\r\n    width: 100%;\r\n  }\r\n.close-icon[_ngcontent-%COMP%]{\r\n    position: absolute;\r\n    right: 5px;\r\n    margin-top: 5px;\r\n    font-weight: bolder;\r\n  }\r\n@media(max-width:768px){\r\n    .client-filter[_ngcontent-%COMP%]{\r\n      display: flex;\r\n      grid-gap: 10px;\r\n      gap: 10px;\r\n      flex-direction: column;\r\n      margin-bottom: 10px;\r\n    }\r\n    .card-body[_ngcontent-%COMP%]{\r\n      \r\n      padding: 4px!important;\r\n    }\r\n    td[_ngcontent-%COMP%]{\r\n      padding: 4px;\r\n    }\r\n    .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{\r\n      padding: 4px;\r\n    }\r\n  }"]}),i})(),data:{title:"Clients",urls:[{title:"Dashboard",url:"/bts/dashboard"},{title:"Clients"}]}},{path:":id",canActivate:[h.a1],component:co,data:{title:"Client Detail",urls:[{title:"Dashboard",url:"/bts/dashboard"},{title:"Clients",url:"/bts/clients"},{title:"Client Detail"}]}},{path:"information",canActivate:[h.a1],data:{title:"Account Info",urls:[{title:"Dashboard",url:"/bts/dashboard"},{title:"Settings"},{title:"Account Info"}]}},{path:"account-config",canActivate:[h.a1],data:{title:"Account Configuration",urls:[{title:"Dashboard",url:"/bts/dashboard"},{title:"Settings"},{title:"Account Configuration"}]}},{path:"branding",canActivate:[h.a1],data:{title:"Update Branding",urls:[{title:"Dashboard",url:"/bts/dashboard"},{title:"Settings"},{title:"Update-Branding"}]}},{path:"security",canActivate:[h.a1],data:{title:"Security Groups",urls:[{title:"Dashboard",url:"/bts/dashboard"},{title:"Settings"},{title:"Security Groups"}]}},{path:"service-types",canActivate:[h.a1],data:{title:"Service Types",urls:[{title:"Dashboard",url:"/bts/dashboard"},{title:"Settings"},{title:"Service Types"}]}},{path:"service-area",canActivate:[h.a1],data:{title:"Service Area",urls:[{title:"Dashboard",url:"/bts/dashboard"},{title:"Settings"},{title:"Service Area"}]}},{path:"wbs",canActivate:[h.a1],data:{title:"WBS",urls:[{title:"Dashboard",url:"/bts/dashboard"},{title:"Settings"},{title:"WBS"}]}},{path:"logs",canActivate:[h.a1],data:{title:"Logs",urls:[{title:"Dashboard",url:"/bts/dashboard"},{title:"Settings"},{title:"Logs"}]}},{path:"everify-enrollment",canActivate:[h.a1],data:{title:"E-Verify Enrollment",urls:[{title:"Dashboard",url:"/bts/dashboard"},{title:"Settings"},{title:"E-Verify Enrollment"}]}}];var Mo=c(8932);let Lo=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[g.Kz],imports:[[_.ez,Tt.q,j.Su,S.kn.forRoot(),a.u5,a.UX,g.IJ,Ct.Xd,Z.q,Zt.UU,$.ZQ,nt.Bz.forChild(qo),k.CT.forRoot({player:ft}),Mo.fx.forRoot()]]}),i})();function ft(){return Promise.resolve().then(c.t.bind(c,3052,23))}}}]);