"use strict";(self.webpackChunkems=self.webpackChunkems||[]).push([[795],{7060:function(U,m,s){s.r(m),s.d(m,{DashboardModule:function(){return ht},playerFactory:function(){return M}});var p=s(1321),_=s(3679),f=s(9895),v=s(2664),A=s(6549),g=s(5690),C=s(2663),d=s(9007),h=s(4362);function u(n){this._context=n}function x(n){return new u(n)}u.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,a){switch(n=+n,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 1:this._point=2;default:this._context.lineTo(n,a)}}};var T=s(389),Z=s(6826),y=s(826),L=s(5165),t=s(7716),P=s(1831),S=s(9426),O=s(7061),w=s(1293),q=s(2875),E=s(4318),N=s(9344),D=s(6640),I=s(8946),J=s(7423),F=s(6975),Y=s(6291),Q=s(3438),k=s(1373),$=s(6580),j=s(958),H=s(7576),R=s(1464),W=s(9790);function z(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"ng-option",27),t._uU(2),t.qZA(),t.BQk()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("value",e),t.xp6(1),t.hij(" ",e.fullName,"")}}function B(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",34),t.TgZ(1,"div",35),t.TgZ(2,"button",36),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2),o=t.MAs(29);return r.openModelMileage(null,o)}),t._uU(3," Add a Mileage "),t.qZA(),t.qZA(),t.qZA()}}function G(n,a){1&n&&t._UZ(0,"table-loading",37),2&n&&t.Q6J("rows",10)("classList","ph-col-12")}function K(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td",44),t.TgZ(7,"a",45),t.NdJ("click",function(){const o=t.CHM(e).$implicit,l=t.oxw(3),c=t.MAs(35);return l.openUserReadOnlyPopup(o.provider.id,c)}),t._uU(8),t.qZA(),t.qZA(),t.TgZ(9,"td"),t.TgZ(10,"div"),t.TgZ(11,"edit-delete-btns",46),t.NdJ("edit",function(){const o=t.CHM(e).$implicit,l=t.oxw(3),c=t.MAs(29);return l.openModelMileage(o,c)})("delete",function(){const o=t.CHM(e).$implicit;return t.oxw(3).deleteMileage(o.id)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=a.$implicit;t.xp6(2),t.Oqu(null==e?null:e.mileage),t.xp6(2),t.Oqu(t.xi3(5,4,null==e?null:e.travelDate,"MM/dd/yyyy")),t.xp6(4),t.hij("",null==e||null==e.provider?null:e.provider.fullName," "),t.xp6(3),t.Q6J("confirmMsg","Are you sure you want to delete the selected item?")}}function V(n,a){if(1&n&&(t.TgZ(0,"div",38),t.TgZ(1,"div",39),t.TgZ(2,"table",40),t.TgZ(3,"thead",41),t.TgZ(4,"th",42),t._uU(5,"Mileage (in miles)"),t.qZA(),t.TgZ(6,"th",42),t._uU(7,"Travel Date"),t.qZA(),t.TgZ(8,"th",42),t._uU(9,"Provider"),t.qZA(),t.TgZ(10,"th",42),t._uU(11,"Action"),t.qZA(),t.qZA(),t.TgZ(12,"tbody",43),t.YNc(13,K,12,7,"tr",5),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(13),t.Q6J("ngForOf",e.mileages)}}function X(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",28),t.TgZ(1,"div",29),t.TgZ(2,"div",10),t.TgZ(3,"h4",12),t._uU(4,"Mileages"),t.qZA(),t.TgZ(5,"span",15),t.TgZ(6,"a",30),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),o=t.MAs(29);return r.openModelMileage(null,o)}),t._UZ(7,"i",31),t.qZA(),t.qZA(),t.qZA(),t.YNc(8,B,4,0,"div",20),t.TgZ(9,"div",32),t.YNc(10,G,1,2,"table-loading",21),t.YNc(11,V,14,1,"div",33),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(8),t.Q6J("ngIf",0==(null==e.mileages?null:e.mileages.length)&&!e.mileageLoader),t.xp6(2),t.Q6J("ngIf",e.mileageLoader),t.xp6(1),t.Q6J("ngIf",(null==e.mileages?null:e.mileages.length)>0&&!e.mileageLoader)}}function tt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span",47),t.TgZ(1,"a",48),t.NdJ("click",function(){return t.CHM(e),t.oxw().PostActivity(null)}),t._UZ(2,"i",49),t.qZA(),t.qZA()}}function et(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",34),t.TgZ(1,"div",35),t.TgZ(2,"button",50),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),o=t.MAs(31);return r.openModelPopup(null,o)}),t._uU(3," Add Activity "),t.qZA(),t.qZA(),t.qZA()}}function it(n,a){1&n&&t._UZ(0,"table-loading",37),2&n&&t.Q6J("rows",10)("classList","ph-col-12")}function nt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t.TgZ(5,"a",45),t.NdJ("click",function(){const o=t.CHM(e).$implicit,l=t.oxw(2),c=t.MAs(33);return l.openModelPopup(o,c)}),t._uU(6),t.ALo(7,"nullToDash"),t.qZA(),t.qZA(),t.TgZ(8,"td"),t.TgZ(9,"a",45),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw(2).util.navigateToClientDetail(null==o?null:o.client)}),t._uU(10),t.ALo(11,"nullToDash"),t.qZA(),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"nullToDash"),t.qZA(),t.TgZ(15,"td"),t.TgZ(16,"a",45),t.NdJ("click",function(){const o=t.CHM(e).$implicit,l=t.oxw(2),c=t.MAs(35);return l.openUserReadOnlyPopup(o.provider.id,c)}),t._uU(17),t.qZA(),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.ALo(20,"nullToDash"),t.qZA(),t.TgZ(21,"td"),t.TgZ(22,"div"),t.TgZ(23,"edit-delete-btns",55),t.NdJ("edit",function(){const o=t.CHM(e).$implicit,l=t.oxw(2),c=t.MAs(31);return l.openModelPopup(o,c)})("post",function(){const o=t.CHM(e).$implicit;return t.oxw(2).PostActivity(o.id)})("delete",function(){const o=t.CHM(e).$implicit;return t.oxw(2).deleteActivity(o.id)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=a.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,9,null==e?null:e.startDateTime,"MM/dd/yyyy hh:mm a")," "),t.xp6(4),t.hij(" ",t.lcZ(7,12,null==e?null:e.title)," "),t.xp6(4),t.hij(" ",t.lcZ(11,14,null==e||null==e.client?null:e.client.name)," "),t.xp6(3),t.Oqu(t.lcZ(14,16,null==e||null==e.location?null:e.location.title)),t.xp6(4),t.hij(" ",null==e||null==e.provider?null:e.provider.fullName," "),t.xp6(2),t.Oqu(t.lcZ(20,18,null==e?null:e.duration)),t.xp6(4),t.Q6J("confirmMsg","Are you sure you want to delete the selected item?")("showPostDialog",!1)("showPostBtn",!0)}}function st(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",51),t.TgZ(1,"div",39),t.TgZ(2,"table",52),t.NdJ("sorted",function(r){return t.CHM(e),t.oxw().onUnpostedSort(r)}),t.TgZ(3,"thead",41),t.TgZ(4,"th",53),t._uU(5," Date "),t.qZA(),t.TgZ(6,"th",42),t._uU(7,"Title"),t.qZA(),t.TgZ(8,"th",54),t._uU(9," Client "),t.qZA(),t.TgZ(10,"th",42),t._uU(11,"Location"),t.qZA(),t.TgZ(12,"th",42),t._uU(13,"Provider"),t.qZA(),t.TgZ(14,"th",42),t._uU(15,"Duration (minutes)"),t.qZA(),t.TgZ(16,"th",42),t._uU(17,"Action"),t.qZA(),t.qZA(),t.TgZ(18,"tbody",43),t.YNc(19,nt,24,20,"tr",5),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(19),t.Q6J("ngForOf",e.unPostedActivities)}}function ot(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",56),t.TgZ(1,"h5",57),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",58,23),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",59),t.qZA(),t.qZA(),t._UZ(7,"app-add-edit-record-mileage",60)}if(2&n){const e=t.oxw();t.xp6(2),t.hij(" ",null==e.selectedMileage?"Add New Mileage":t.lcZ(3,3,"Update Mileage")," "),t.xp6(5),t.Q6J("inputUser",e.selectedUser)("inputObj",e.selectedMileage)}}function rt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",56),t.TgZ(1,"h5",57),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",58,24),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",59),t.qZA(),t.qZA(),t._UZ(7,"activity-entry",61)}if(2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,"Add New Activity")," "),t.xp6(5),t.Q6J("inputObj",e.selectedActivity)("selectedUser",e.selectedUser)}}function at(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",56),t.TgZ(1,"h5",57),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",58,25),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",59),t.qZA(),t.qZA(),t._UZ(7,"app-activity-detail",62)}if(2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,2,"Activity Detail")," "),t.xp6(5),t.Q6J("activityID",null==e.selectedActivity?null:e.selectedActivity.id)}}function lt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",56),t.TgZ(1,"h5",57),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",58,26),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",59),t.qZA(),t.qZA(),t._UZ(7,"app-user-read-only-modal",63)}if(2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,2,"User Info")," "),t.xp6(5),t.Q6J("userId",e.readOnlyUserId)}}const ct=[{path:"",children:[{path:"",component:(()=>{class n{constructor(e,i,r,o,l,c,b,gt,ut){this.util=e,this.datePipe=i,this.modalService=r,this._eventService=o,this.activityService=l,this.mileageService=c,this.confirmDialog=b,this.logService=gt,this.toastr=ut,this.usersLists=[],this.selectedActivity=null,this.selectedMileage=null,this.selectedUser=null,this.activityCount=new T.EJ,this.mileages=[],this.unPostedActivities=[],this.activityList=[],this.readOnlyUserId=null,this.activityLoader=!1,this.mileageLoader=!1,this.subs=new y.w,this.activityIds=[],this.limit=50,this.page=0,this.sortUnpostedDirection=null,this.sortUnpostedColumn=null,this.milageSearch=new Z.Yj,this.isUserFirstTimeChange=!0,this.users=this.util.getBtsUsersListsFromSession(),this.permissions=this.util.getAllowedPermissions(),this.logsSearch=new Z.ol,this.taskDonutChartData=[],this.logList=[],this.schemeType="ordinal",this.areaChartViewSize=[512,340],this.barChartViewSize=[512,340],this.taskAreaChartData=[],this.showTaskAreaChart=!1,this.logLoader=!1,this.wbsCountLoader=!1,this.activityChartLoader=!1,this.colorScheme={domain:["#36bea6","#a1aab2","#fb8c00","#2962FF","#f62d51","#7460ee"]},this.curve=x}ngOnInit(){var e,i;this.usersLists=null!==(e=this.util.getBtsUsersListsFromSession())&&void 0!==e?e:[],this.selectedUser=this.util.getBtsUserFromSession(),this.selectedUser&&0!=(null===(i=this.usersLists)||void 0===i?void 0:i.length)?(this.setMileageStartEndDateFilter(),this.setMilageUserFilter(),this.getUnPostedActivitiesList(),this.getMileagesList(),this.subs.add(this._eventService.onMileageEventSaved.subscribe(r=>{this.getMileagesList()})),this.subs.add(this._eventService.onActivityEventSaved.subscribe(r=>{this.getUnPostedActivitiesList()})),this.subs.add(this._eventService.onActivityEventDelete.subscribe(r=>{this.getUnPostedActivitiesList()}))):this.toastr.error("Error occurred while loading the user/users")}getUnPostedActivitiesList(){this.activityLoader=!0;const e=new L.d;e.status="UNPOSTED",e.endDateTime=new Date,e.providerIds.push(this.selectedUser.id),e.fixDates(),this.activityService.searchActivitySimple(e,this.limit,this.page,this.sortUnpostedColumn,this.sortUnpostedDirection).then(i=>{const r=this.activityService.getData(i);this.unPostedActivities=r.resultList,this.activityLoader=!1,this.activityIds=[],this.unPostedActivities.forEach(o=>{this.activityIds.push(o.id)}),this.getUnpostedCount()}).catch(i=>{console.log(" Error in Getting Events "),this.activityLoader=!1})}getMileagesList(){!this.permissions.CAN_RECORD_MILEAGE||(this.mileageLoader=!0,this.milageSearch.fixDates(),this.mileageService.searchMileage(this.milageSearch,this.limit,this.page).then(e=>{let i=this.mileageService.getData(e);this.mileages=i.resultList,this.mileages=this.util.sort(this.mileages,"createdDate"),this.mileageLoader=!1}).catch(e=>{this.mileageLoader=!1,console.log(e)}))}setMilageUserFilter(){let e=this.util.getLoggedUserId();this.milageSearch.providerIds.push(e)}openModelPopup(e,i){this.selectedActivity=e,this.modalService.open(i,{centered:!0,size:"lg",backdrop:"static",keyboard:!1,windowClass:this.util.getThemeFromSession("lol-modal-sm")})}openUserReadOnlyPopup(e,i){this.readOnlyUserId=e,this.modalService.open(i,{centered:!0,size:"lg",backdrop:"static",keyboard:!1,windowClass:this.util.getThemeFromSession("lol-modal-sm")})}openModelMileage(e,i){this.selectedMileage=JSON.parse(JSON.stringify(e)),this.modalService.open(i,{centered:!0,size:"lg",backdrop:"static",keyboard:!1,windowClass:this.util.getThemeFromSession("lol-modal-sm")})}PostActivity(e){let i=[];e?i.push(e):i=this.activityIds,this.confirmDialog.confirm(`Are you sure you want to post the selected ${i.length>1?"sessions":"session"}?`).then(o=>{o&&(this.activityLoader=!0,this.activityService.updateActivityByStatus(i,"POSTED").then(l=>{this.toastr.success("Posted","SUCCESS")}).catch(l=>{console.log(l)}).finally(()=>{this.activityLoader=!1,this._eventService.onActivityEventSaved.emit()}))})}deleteActivity(e){this.activityLoader=!0,this.activityService.deleteRecord(e).then(i=>{this.activityLoader=!1,this.toastr.success("Deleted","SUCCESS"),this._eventService.onActivityEventDelete.emit()}).catch(i=>{this.activityLoader=!1,console.log(i)})}deleteMileage(e){this.activityLoader=!0,this.mileageService.deleteRecord(e).then(i=>{this.activityLoader=!1,this.toastr.success("Deleted","SUCCESS"),this.getMileagesList()}).catch(i=>{this.activityLoader=!1,console.log(i)})}onUserChange(e){this.milageSearch.providerIds=[],this.milageSearch.providerIds.push(e.id),this.getUnPostedActivitiesList(),this.getMileagesList()}ngOnDestroy(){this.subs.unsubscribe()}setMileageStartEndDateFilter(){const e=new Date,i=new Date(e.setDate(e.getDate()-e.getDay()+1)),r=new Date(e.setDate(e.getDate()+6));this.milageSearch.startDate=i,this.milageSearch.endDate=r}getUnpostedCount(){var e;let i=this.util.getTodayDateMilliSeconds();this.activityService.getActivityCount(null===(e=this.selectedUser)||void 0===e?void 0:e.id,null,i).then(r=>{let o=this.activityService.getData(r);this.activityCount=o}).catch(r=>{console.log(r)})}onUnpostedSort(e){this.sortUnpostedColumn=e.sortColumn,this.sortUnpostedDirection=e.sortDirection,this.getUnPostedActivitiesList()}getDayDate(e){return this.datePipe.transform(e,"EEE dd")}onResize(e){this.barChartViewSize=[e.target.innerWidth/1.9,210],this.areaChartViewSize=[e.target.innerWidth/1.95,210]}setSeriesIntoDataLists(e,i,r,o){let l=["Posted","Unposted","Audit","Billed"];this.taskAreaChartData=[],l.forEach((c,b)=>{this.taskAreaChartData.push({name:c,series:"Posted"===c?e:"Unposted"===c?i:"Audit"===c?r:o}),b===l.length-1&&(this.showTaskAreaChart=!0)})}handleAnimation(e){this.anim=e}compareFn(e,i){return e.id==i.id}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(P.Z),t.Y36(p.uU),t.Y36(v.FF),t.Y36(S.P),t.Y36(O.M),t.Y36(w.i),t.Y36(q.O),t.Y36(E.$),t.Y36(N._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard"]],decls:36,vars:17,consts:[[1,"lol-mydashboard","mt-n3"],[1,"row","dropdown","mt-1",2,"margin-right","0px"],[1,"col-md-9","col-2"],[1,"col-md-3",2,"gap","10px"],["name","user","bindLabel","fullName",3,"dropdownPosition","placeholder","ngModel","clearable","compareWith","ngModelChange","change"],[4,"ngFor","ngForOf"],[1,"row","mt-2"],["class","col-12",4,"ngIf"],[1,"col-12","mt-2",2,"max-width","100%"],[1,"card","card-height-stretch"],[1,"card-toolbar","py-1","header"],[1,"d-flex","align-items-center"],[1,"card-title"],[1,"ml-2","count-container"],[1,"badge","font-14","bg-red","text-light","px-2","d-block","ms-auto","pt-1"],[1,"card-toolbar-button","float-right"],["class","mr-2",4,"ngIf"],[1,""],["href","javascript:void(0)","title","Add Activity",3,"click"],[1,"mdi","mdi-plus-circle-outline"],["class","card-empty",4,"ngIf"],[3,"rows","classList",4,"ngIf"],["class","pt-0",4,"ngIf"],["addRecordMileage",""],["addActivity",""],["activityDetail",""],["userReadOnlyModal",""],[3,"value"],[1,"col-12"],[1,"card","card-height-stretch","p-3"],["href","javascript:void(0)","title","Add Milage",3,"click"],[1,"mdi","mdi-plus-circle-outline","fs-25"],[1,"events"],["class","pt-0","id","custom-scroll",4,"ngIf"],[1,"card-empty"],[1,"empty-state-card"],[1,"btn","btn","btn-outline-primary","ng-star-inserted",3,"click"],[3,"rows","classList"],["id","custom-scroll",1,"pt-0"],[1,"table-responsive","fixed-height-table"],[1,"table","table-hover"],[1,"fixed-header"],["scope","col"],[1,"table-striped"],[1,"user-icon-cell","cursor-pointer"],["href","javascript:void(0)",1,"cursorPointer",3,"click"],[3,"confirmMsg","edit","delete"],[1,"mr-2"],["href","javascript:void(0)","title","Post All Activities",3,"click"],[1,"fa","fa-regular","fa-share"],[1,"btn","btn-outline-primary","ng-star-inserted",3,"click"],[1,"pt-0"],["sortable-table","",1,"table",3,"sorted"],["scope","col","sortable-column","startDateTime","sort-direction","asc",1,"cursor-pointer"],["scope","col","sortable-column","client",1,"cursor-pointer"],[3,"confirmMsg","showPostDialog","showPostBtn","edit","post","delete"],[1,"modal-header","p-3"],["id","modal-basic-title",1,"modal-title"],["data-dismiss","modal",1,"cursorPointer",3,"click"],[1,"mdi","mdi-close"],[2,"width","100%",3,"inputUser","inputObj"],[2,"width","100%",3,"inputObj","selectedUser"],[2,"width","100%",3,"activityID"],[2,"width","100%",3,"userId"]],template:function(e,i){if(1&e){const r=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"ng-select",4),t.NdJ("ngModelChange",function(l){return i.selectedUser=l})("change",function(l){return i.onUserChange(l)}),t.YNc(5,z,3,2,"ng-container",5),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",6),t.YNc(7,X,12,3,"div",7),t.TgZ(8,"div",8),t.TgZ(9,"div",9),t.TgZ(10,"div",10),t.TgZ(11,"div",11),t.TgZ(12,"h4",12),t._uU(13,"Unposted Activites"),t.qZA(),t.TgZ(14,"div",13),t.TgZ(15,"span",14),t._uU(16),t.qZA(),t.TgZ(17,"span",14),t._uU(18),t.ALo(19,"minutesToHours"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",15),t.YNc(21,tt,3,0,"span",16),t.TgZ(22,"span",17),t.TgZ(23,"a",18),t.NdJ("click",function(){t.CHM(r);const l=t.MAs(31);return i.openModelPopup(null,l)}),t._UZ(24,"i",19),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(25,et,4,0,"div",20),t.YNc(26,it,1,2,"table-loading",21),t.YNc(27,st,20,1,"div",22),t.qZA(),t.qZA(),t.qZA(),t.YNc(28,ot,8,5,"ng-template",null,23,t.W1O),t.YNc(30,rt,8,5,"ng-template",null,24,t.W1O),t.YNc(32,at,8,4,"ng-template",null,25,t.W1O),t.YNc(34,lt,8,4,"ng-template",null,26,t.W1O),t.qZA()}2&e&&(t.xp6(4),t.Q6J("dropdownPosition","bottom")("placeholder","search user")("ngModel",i.selectedUser)("clearable",!1)("compareWith",i.compareFn),t.xp6(1),t.Q6J("ngForOf",i.users),t.xp6(2),t.Q6J("ngIf",i.permissions.CAN_RECORD_MILEAGE),t.xp6(9),t.Oqu(null==i.activityCount?null:i.activityCount.unpostedCount),t.xp6(2),t.Oqu(t.Dn7(19,13,null==i.activityCount?null:i.activityCount.unpostedDuration,!0,!0)),t.xp6(3),t.Q6J("ngIf",i.unPostedActivities.length>0),t.xp6(4),t.Q6J("ngIf",0==(null==i.unPostedActivities?null:i.unPostedActivities.length)&&!i.activityLoader),t.xp6(1),t.Q6J("ngIf",i.activityLoader),t.xp6(1),t.Q6J("ngIf",(null==i.unPostedActivities?null:i.unPostedActivities.length)>0&&!i.activityLoader))},directives:[D.w9,_.JJ,_.On,p.sg,p.O5,D.xv,I.I,J.C,F.Q,Y.a,Q.j,k.H,$.o,j.C],pipes:[H._,p.uU,R.W,W.X$],styles:[".todaysTasks[_ngcontent-%COMP%] {\r\n  height: 240px;\r\n}\r\n\r\n\r\n@media screen and (max-width: 767px){\r\n  .table-responsive[_ngcontent-%COMP%] {\r\n    width: auto;\r\n    height: auto;\r\n    margin-bottom: 15px;\r\n    overflow-y: auto;\r\n    \r\n    border: 1px solid #ddd;\r\n}\r\n.table-responsive[_ngcontent-%COMP%]    > .table[_ngcontent-%COMP%] {\r\n    margin-bottom: 0;\r\n}\r\n\r\n}\r\n\r\n\r\n.chart-container[_ngcontent-%COMP%] {\r\n  \r\n}\r\n\r\n\r\n.chart-task-1-p1[_ngcontent-%COMP%] {\r\n  display: flex;\r\n  overflow: hidden;\r\n  width: 100%;\r\n  height: 280px;\r\n}\r\n\r\n\r\n.chart-hour-1-p1[_ngcontent-%COMP%] {\r\n  display: flex;\r\n  overflow: hidden;\r\n  width: 100%;\r\n  height: 280px;\r\n}\r\n\r\n\r\n.chart-task-1-p2[_ngcontent-%COMP%] {\r\n}\r\n\r\n\r\n.card-title-padding[_ngcontent-%COMP%] {\r\n  padding: 1.25rem;\r\n}\r\n\r\n\r\n.cursor-pointer[_ngcontent-%COMP%]:hover {\r\n  cursor: pointer;\r\n}\r\n\r\n\r\n.flexWrap[_ngcontent-%COMP%] {\r\n  \r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  align-content: stretch;\r\n}\r\n\r\n\r\n.flex-card[_ngcontent-%COMP%] {\r\n  order: 0;\r\n  flex: 1 1 auto;\r\n  align-self: stretch;\r\n  border-radius: 8px;\r\n  \r\n}\r\n\r\n\r\n.flex-column[_ngcontent-%COMP%] {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n\r\n.flexWrap[_ngcontent-%COMP%]   .flex-card[_ngcontent-%COMP%] {\r\n  margin: 7px;\r\n}\r\n\r\n\r\n.count-container[_ngcontent-%COMP%]{\r\n  display: flex;\r\n  grid-gap: 10px;\r\n  gap: 10px;\r\n  display: flex ;\r\n}\r\n\r\n\r\n@media(max-width:749px){\r\n \r\n  .card-body[_ngcontent-%COMP%]{\r\n    padding: 8px!important;\r\n  }\r\n  td[_ngcontent-%COMP%]{\r\n    padding: 6px;\r\n    font-size: 10px;\r\n    grid-row-gap: -3px !important;\r\n    row-gap: -3px !important;\r\n  }\r\n  .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{\r\n    padding: 4px;\r\n    font-size: 12px;\r\n  }\r\n}"]}),n})(),data:{title:"Dashboard",urls:[{title:"Dashboard"}]}}]}];var dt=s(534);let ht=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[D.A0,p.ez,f.Bz.forChild(ct),v.IJ,_.u5,C.q,d.Xd,g.P4,A.a4,h.q,dt.CT.forRoot({player:M})]]}),n})();function M(){return Promise.resolve().then(s.t.bind(s,3052,23))}},4318:function(U,m,s){s.d(m,{$:function(){return A}});var p=s(529),_=s(7716),f=s(8393),v=s(1831);let A=(()=>{class g extends p.d{constructor(d,h){super("/bts/api/v1/log",d),this.provider=d,this.util=h}getAllLogs(d=null,h=null,u=null,x=50,T=0){let y=this.util.getQueryMethod({pageSize:x,pageNo:T,createdById:d,logType:u,id:h});return this.getList(`/search/${y}`)}searchLogs(d,h=10,u=0){return this.save(d,`/search/login-logs?pageSize=${h}&pageNo=${u}`)}downloadLoginLogs(d){return this.downloadPost("/export-to-excel/login-logs",d)}downloadUserLogs(d){return this.downloadPost("/export-to-excel/user-logs",{createdById:d.userId,endDate:null,relatedTo:null,startDate:null,type:null})}}return g.\u0275fac=function(d){return new(d||g)(_.LFG(f.U),_.LFG(v.Z))},g.\u0275prov=_.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()}}]);