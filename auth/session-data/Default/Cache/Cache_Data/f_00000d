"use strict";(self.webpackChunkems=self.webpackChunkems||[]).push([[146],{8146:function(en,M,r){r.r(M),r.d(M,{StudentModule:function(){return Ge},playerFactory:function(){return Y}});var _=r(1321),d=r(3679),p=r(9895),u=r(2664),g=r(9790),V=r(2533),f=r(2663),P=r(9007),R=r(3422),H=r(7827),E=r(534),B=r(3052),W=r.n(B),j=r(4362),T=r(5826),w=r(826),z=r(6157),U=r(8852),O=r(9269),G=r(3244),t=r(7716),y=r(2875),X=r(9075),m=r(4339),K=r(4318),h=r(1831),S=r(9344),tt=r(2741),C=r(9426),q=r(3401),Z=r(8946),F=r(6975),k=r(6291),et=r(7423),I=r(6858),v=r(8682);const nt=function(){return{standalone:!0}};let it=(()=>{class i{constructor(e,n,o){this.util=e,this._studentService=n,this.modalService=o,this.onClose=new t.vpe,this.loading=!1,this.notes="",this.loader=!1}ngOnInit(){null!=this.student&&(this.notes=this.student.notes)}getEditorToolbar(){return this.util.getEditorToolbarOptions()}save(){this.loader=!0,this.loading=!0,this.student.notes=this.notes,this._studentService.updateStudentNotes(this.student).then(e=>{this.onClose.emit(this.student),this.loader=!1,this.loading=!1}).catch(e=>{console.log(e),this.loader=!1,this.loading=!1})}close(){this.modalService.dismissAll()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.Z),t.Y36(m.V),t.Y36(u.FF))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-note-modal"]],inputs:{student:"student"},outputs:{onClose:"onClose"},decls:9,vars:5,consts:[[1,"modal-body","activity-entry"],[1,"row"],[1,"form-body"],[1,"col-md-12"],[1,"form-group"],[3,"ngModel","modules","ngModelOptions","ngModelChange"],[1,"modal-footer"],[1,"row","form-controls-right"],[3,"loader","onBtnClick","onCancelClick"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"quill-editor",5),t.NdJ("ngModelChange",function(s){return n.notes=s}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",6),t.TgZ(7,"div",7),t.TgZ(8,"app-save-button",8),t.NdJ("onBtnClick",function(){return n.save()})("onCancelClick",function(){return n.close()}),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(5),t.Q6J("ngModel",n.notes)("modules",n.getEditorToolbar())("ngModelOptions",t.DdM(4,nt)),t.xp6(3),t.Q6J("loader",n.loader))},directives:[I.g6,d.JJ,d.On,v.t],styles:[""]}),i})();var L=r(9481),J=r(1314),ot=r(3975),lt=r(4531),st=r(4220),Q=r(9793),x=r(1464);let rt=(()=>{class i{transform(e){return this.ssnMask(e)}ssnMask(e){if(null==e)return e;let n=e.replace(/\D/g,"");return 0===n.length?n="":n.length<=3?n=n.replace(/^(\d{0,3})/,"$1"):n.length<=6?n=n.replace(/^(\d{0,3})(\d{0,2})/,"$1-$2"):(n.length<=9||(n=n.substring(0,8)),n=n.replace(/^(\d{0,3})(\d{0,2})(\d{0,4})/,"$1-$2-$3")),n}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"SSNMASK",type:i,pure:!0}),i})();var at=r(6876),dt=r(5328),ct=r(1201);const _t=["noteModal"],ut=["addEditService"];function pt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),s=t.MAs(44);return o.openModelPopup(null,s)}),t._UZ(1,"i",39),t._uU(2," Add Student"),t.qZA()}}function gt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),s=t.MAs(44);return o.openModelPopup(o.student,s)}),t._UZ(1,"i",41),t._uU(2," Edit"),t.qZA()}}function mt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",42),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),s=t.MAs(46);return o.openModelPopup(o.student,s)}),t._uU(1," View"),t.qZA()}}function ht(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",43),t.TgZ(1,"ng-lottie",44),t.NdJ("animCreated",function(o){return t.CHM(e),t.oxw().handleAnimation(o)}),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("options",e.lottieConfig)("width","175")("height","175")}}function ft(i,l){if(1&i&&t._UZ(0,"img",45),2&i){const e=t.oxw();t.Q6J("src",e.sanitizer.bypassSecurityTrustUrl(e.student.profilePictureUrl?e.student.profilePictureUrl:"assets/images/users/1.jpg"),t.LSH)}}function Tt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"ui-switch",46),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().student.deleted=o})("change",function(o){return t.CHM(e),t.oxw().toggleStatus(o)}),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("disabled",!e.permissions.CAN_MANAGE_STUDENTS||!e.isAdmin)("ngModel",e.student.deleted)("title","Student Status")}}function St(i,l){if(1&i&&(t.TgZ(0,"h6"),t._uU(1),t.ALo(2,"nullToDash"),t.ALo(3,"date"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij("",t.lcZ(2,1,t.xi3(3,3,null==e.student?null:e.student.dateOfBirth,"MM/dd/yyyy"))," ")}}function Ct(i,l){1&i&&(t.TgZ(0,"h6"),t._uU(1," --- "),t.qZA())}function Zt(i,l){if(1&i&&(t.TgZ(0,"h6"),t._uU(1),t.ALo(2,"SSNMASK"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,null==e.student?null:e.student.ssn))}}function vt(i,l){1&i&&(t.TgZ(0,"h6"),t._uU(1," --- "),t.qZA())}function xt(i,l){if(1&i&&(t.TgZ(0,"h6"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.student?null:e.student.medicadId)}}function At(i,l){1&i&&(t.TgZ(0,"h6"),t._uU(1," --- "),t.qZA())}function bt(i,l){if(1&i&&(t.TgZ(0,"h6"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.student||null==e.student.client?null:e.student.client.name)}}function Nt(i,l){1&i&&(t.TgZ(0,"h6"),t._uU(1," --- "),t.qZA())}function Dt(i,l){if(1&i&&(t.TgZ(0,"h6"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.student||null==e.student.location?null:e.student.location.title)}}function Mt(i,l){1&i&&(t.TgZ(0,"h6"),t._uU(1," --- "),t.qZA())}function Pt(i,l){if(1&i&&(t.TgZ(0,"h6"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.student?null:e.student.gender.toUpperCase())}}function Et(i,l){1&i&&(t.TgZ(0,"h6"),t._uU(1," --- "),t.qZA())}function wt(i,l){if(1&i&&(t.TgZ(0,"div",8),t.TgZ(1,"div"),t.TgZ(2,"div",0),t.TgZ(3,"div",47),t.TgZ(4,"div",48),t.TgZ(5,"small",49),t._uU(6,"DOB"),t.qZA(),t.YNc(7,St,4,6,"h6",18),t.YNc(8,Ct,2,0,"h6",18),t.qZA(),t.TgZ(9,"div",48),t.TgZ(10,"small",49),t._uU(11,"SSN"),t.qZA(),t.YNc(12,Zt,3,3,"h6",18),t.YNc(13,vt,2,0,"h6",18),t.qZA(),t.TgZ(14,"div",48),t.TgZ(15,"small",49),t._uU(16,"Medicaid Id"),t.qZA(),t.YNc(17,xt,2,1,"h6",18),t.YNc(18,At,2,0,"h6",18),t.qZA(),t.qZA(),t.TgZ(19,"div",50),t.TgZ(20,"div",48),t.TgZ(21,"small",49),t._uU(22,"Clint"),t.qZA(),t.YNc(23,bt,2,1,"h6",18),t.YNc(24,Nt,2,0,"h6",18),t.qZA(),t.TgZ(25,"div",48),t.TgZ(26,"small",49),t._uU(27,"Client Location"),t.qZA(),t.YNc(28,Dt,2,1,"h6",18),t.YNc(29,Mt,2,0,"h6",18),t.qZA(),t.TgZ(30,"div",48),t.TgZ(31,"small",49),t._uU(32,"Gender"),t.qZA(),t.YNc(33,Pt,2,1,"h6",18),t.YNc(34,Et,2,0,"h6",18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(7),t.Q6J("ngIf",null!=(null==e.student?null:e.student.dateOfBirth)),t.xp6(1),t.Q6J("ngIf",null==(null==e.student?null:e.student.dateOfBirth)||""==(null==e.student?null:e.student.dateOfBirth)),t.xp6(4),t.Q6J("ngIf",null!=(null==e.student?null:e.student.ssn)),t.xp6(1),t.Q6J("ngIf",null==(null==e.student?null:e.student.ssn)||""==(null==e.student?null:e.student.ssn)),t.xp6(4),t.Q6J("ngIf",null!=(null==e.student?null:e.student.medicadId)),t.xp6(1),t.Q6J("ngIf",null==(null==e.student?null:e.student.medicadId)||""==(null==e.student?null:e.student.medicadId)),t.xp6(5),t.Q6J("ngIf",null!=(null==e.student||null==e.student.client?null:e.student.client.name)),t.xp6(1),t.Q6J("ngIf",null==(null==e.student||null==e.student.client?null:e.student.client.name)||""==(null==e.student||null==e.student.client?null:e.student.client.name)),t.xp6(4),t.Q6J("ngIf",null!=(null==e.student||null==e.student.location?null:e.student.location.title)),t.xp6(1),t.Q6J("ngIf",null==(null==e.student||null==e.student.location?null:e.student.location.title)||""==(null==e.student||null==e.student.location?null:e.student.location.title)),t.xp6(4),t.Q6J("ngIf",null!=(null==e.student?null:e.student.gender)),t.xp6(1),t.Q6J("ngIf",null==(null==e.student?null:e.student.gender)||""==(null==e.student?null:e.student.gender))}}function Ut(i,l){1&i&&(t.TgZ(0,"div",54),t.TgZ(1,"div",55),t._uU(2," No Logs "),t.qZA(),t.qZA())}function Ot(i,l){if(1&i&&(t.ynx(0,56),t.TgZ(1,"ul",58),t.TgZ(2,"li",59),t.TgZ(3,"span",60),t._UZ(4,"i",61),t.TgZ(5,"span",56),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"span",62),t._uU(8),t.ALo(9,"date"),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&i){const e=l.$implicit;t.xp6(6),t.hij(" ",null==e?null:e.message," "),t.xp6(2),t.hij(" ",t.xi3(9,2,null==e?null:e.createdDate,"MM/dd/yyyy hh:mm a")," ")}}function yt(i,l){if(1&i&&(t.TgZ(0,"div",56),t.YNc(1,Ot,10,5,"ng-container",57),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.logsList)}}function qt(i,l){if(1&i&&(t.TgZ(0,"div",51),t.YNc(1,Ut,3,0,"div",52),t.YNc(2,yt,2,1,"div",53),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",0==(null==e.logsList?null:e.logsList.length)),t.xp6(1),t.Q6J("ngIf",(null==e.logsList?null:e.logsList.length)>0)}}function Ft(i,l){1&i&&t._UZ(0,"table-loading")}function kt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"span",63),t.TgZ(1,"a",64),t.NdJ("click",function(){return t.CHM(e),t.oxw().openNotesModal()}),t._UZ(2,"i",65),t.qZA(),t.qZA()}}function It(i,l){if(1&i&&(t.TgZ(0,"div",66),t.TgZ(1,"perfect-scrollbar",67),t._UZ(2,"div",68),t.ALo(3,"safe"),t.ALo(4,"nullToDash"),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("config",e.config),t.xp6(1),t.Q6J("innerHtml",t.xi3(3,2,t.lcZ(4,5,null==e.student?null:e.student.notes),"html"),t.oJD)}}function Lt(i,l){1&i&&t._UZ(0,"table-loading")}function Jt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"span",63),t.TgZ(1,"a",69),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).editService(null)}),t._UZ(2,"i",70),t.qZA(),t.qZA()}}function Qt(i,l){1&i&&(t.TgZ(0,"div",54),t.TgZ(1,"div",55),t._uU(2," No Services "),t.qZA(),t.qZA())}function $t(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",80),t.TgZ(2,"a",81),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(4),c=t.MAs(56);return a.openDetailModal(null==s?null:s.serviceType,c)}),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"td",80),t.TgZ(5,"a",81),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(4),c=t.MAs(54);return a.openDetailModal(null==s||null==s.serviceType?null:s.serviceType.serviceArea,c)}),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td",82),t.TgZ(10,"edit-delete-btns",83),t.NdJ("edit",function(){const s=t.CHM(e).$implicit;return t.oxw(4).editService(s)})("view",function(){const s=t.CHM(e).$implicit,a=t.oxw(4),c=t.MAs(50);return a.openServiceModelPopup(s,c)})("delete",function(){const s=t.CHM(e).$implicit;return t.oxw(4).deleteRecTreatMent(s.id)}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw(4);t.xp6(3),t.hij(" ",null==e||null==e.serviceType?null:e.serviceType.title," "),t.xp6(3),t.hij(" ",null==e||null==e.serviceType||null==e.serviceType.serviceArea?null:e.serviceType.serviceArea.title," "),t.xp6(2),t.hij(" ",null==e?null:e.servicePo," "),t.xp6(2),t.Q6J("showEditBtn",n.permissions.CAN_MANAGE_STUDENTS&&n.isAdmin)("showViewBtn",!n.permissions.CAN_MANAGE_STUDENTS||!n.isAdmin)("showDeleteBtn",n.permissions.CAN_MANAGE_STUDENTS&&n.isAdmin)("inputItem",e)("confirmMsg","Are you sure you want to delete the selected service?")}}function Yt(i,l){1&i&&t._UZ(0,"table-loading")}function Vt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",72),t.TgZ(1,"table",73),t.NdJ("sorted",function(o){return t.CHM(e),t.oxw(3).onSortedService(o)}),t.TgZ(2,"thead"),t.TgZ(3,"tr"),t.TgZ(4,"th",74),t.SDv(5,75),t.qZA(),t.TgZ(6,"th",76),t._uU(7,"Area"),t.qZA(),t.TgZ(8,"th",76),t._uU(9,"PO"),t.qZA(),t.TgZ(10,"th",77),t._uU(11,"Action"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"tbody",78),t.YNc(13,$t,11,8,"tr",79),t.qZA(),t.qZA(),t.YNc(14,Yt,1,0,"table-loading",18),t.qZA()}if(2&i){const e=t.oxw(3);t.xp6(13),t.Q6J("ngForOf",e.btsTreatments),t.xp6(1),t.Q6J("ngIf",e.tableLoadingState_service)}}function Rt(i,l){if(1&i&&(t.TgZ(0,"div",51),t.YNc(1,Qt,3,0,"div",52),t.YNc(2,Vt,15,2,"div",71),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0==(null==e.btsTreatments?null:e.btsTreatments.length)),t.xp6(1),t.Q6J("ngIf",(null==e.btsTreatments?null:e.btsTreatments.length)>0)}}function Ht(i,l){if(1&i&&(t.TgZ(0,"div",21),t.TgZ(1,"div",22),t.TgZ(2,"h4",23),t._uU(3,"Service Types"),t.qZA(),t.YNc(4,Jt,3,0,"span",26),t.qZA(),t.YNc(5,Rt,3,2,"div",24),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.permissions.CAN_MANAGE_STUDENTS&&e.isAdmin),t.xp6(1),t.Q6J("ngIf",e.loadState)}}function Bt(i,l){1&i&&t._UZ(0,"div",21)}function Wt(i,l){1&i&&t._UZ(0,"table-loading")}function jt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"span",63),t.TgZ(1,"a",85),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2),s=t.MAs(58);return o.openDetailModal(null,s)}),t._UZ(2,"i",70),t.qZA(),t.qZA()}}function zt(i,l){1&i&&(t.TgZ(0,"div",54),t.TgZ(1,"div",55),t._uU(2," No Records Found"),t.qZA(),t.qZA())}function Gt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"i",99),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(3).deleteRec(o.id)}),t.qZA()}}function Xt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",90),t.TgZ(1,"div",91),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(3)._util.navigateToUserDetail(s.user)}),t._UZ(2,"img",92),t.qZA(),t.TgZ(3,"div",93),t.TgZ(4,"div",94),t.TgZ(5,"div",95),t.TgZ(6,"h6",96),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(3)._util.navigateToUserDetail(s.user)}),t._uU(7),t.qZA(),t.YNc(8,Gt,1,0,"i",97),t.qZA(),t.TgZ(9,"div",98),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(3)._util.navigateToUserDetail(s.user)}),t.TgZ(10,"span"),t._uU(11),t.qZA(),t.qZA(),t.TgZ(12,"a"),t._uU(13),t.ALo(14,"roleToLabel"),t.qZA(),t.TgZ(15,"a"),t._uU(16),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw(3);t.xp6(2),t.Q6J("src",null!=e&&null!=e.user&&e.user.profilePic?null==e||null==e.user?null:e.user.profilePic:"assets/images/users/default.jpg",t.LSH),t.xp6(2),t.Q6J("ngClass",n.permissions.CAN_MANAGE_STUDENTS?"":"disabled-link"),t.xp6(3),t.AsE("",null==e||null==e.user?null:e.user.firstName," ",null==e||null==e.user?null:e.user.lastName,""),t.xp6(1),t.Q6J("ngIf",n.permissions.CAN_MANAGE_STUDENTS),t.xp6(3),t.hij(" ",null==e||null==e.user?null:e.user.email," "),t.xp6(2),t.Oqu(t.lcZ(14,8,null==e||null==e.user?null:e.user.role)),t.xp6(3),t.Oqu(null==e||null==e.user?null:e.user.phone)}}function Kt(i,l){if(1&i&&(t.TgZ(0,"div",86),t.YNc(1,zt,3,0,"div",52),t.TgZ(2,"div",87),t.TgZ(3,"div",88),t.YNc(4,Xt,17,10,"div",89),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0==(null==e.providers?null:e.providers.length)),t.xp6(2),t.Q6J("ngClass",e.isAdmin?"":"readonly"),t.xp6(1),t.Q6J("ngForOf",e.providers)}}function te(i,l){if(1&i&&(t.TgZ(0,"div",21),t.TgZ(1,"div",22),t.TgZ(2,"h4",23),t._uU(3,"Providers"),t.qZA(),t.YNc(4,jt,3,0,"span",26),t.qZA(),t.YNc(5,Kt,5,3,"div",84),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.permissions.CAN_MANAGE_STUDENTS&&e.isAdmin),t.xp6(1),t.Q6J("ngIf",e.loadState)}}function ee(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",100),t.TgZ(1,"h5",101),t._uU(2,"Note"),t.qZA(),t.TgZ(3,"a",102,29),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(5,"i",103),t.qZA(),t.qZA(),t.TgZ(6,"app-note-modal",104),t.NdJ("onClose",function(o){return t.CHM(e),t.oxw().closeNoteModal(o)}),t.qZA()}if(2&i){const e=t.oxw();t.xp6(6),t.Q6J("student",e.student)}}function ne(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",105),t.TgZ(1,"h5",106),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",102,30),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",103),t.qZA(),t.qZA(),t.TgZ(7,"app-add-edit-student",107),t.NdJ("onSave",function(){return t.CHM(e),t.oxw().ngOnInit()}),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",null==e.selectedStudent?"Add New Student":t.lcZ(3,2,"Update Student")," "),t.xp6(5),t.Q6J("inputObj",e.selectedStudent)}}function ie(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",105),t.TgZ(1,"h5",106),t._uU(2," Student Details "),t.qZA(),t.TgZ(3,"a",102,31),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(5,"i",103),t.qZA(),t.qZA(),t.TgZ(6,"app-add-edit-student",108),t.NdJ("onSave",function(){return t.CHM(e),t.oxw().ngOnInit()}),t.qZA()}if(2&i){const e=t.oxw();t.xp6(6),t.Q6J("readOnly",!0)("inputObj",e.selectedStudent)}}function oe(i,l){if(1&i&&(t.TgZ(0,"option",127),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.Q6J("ngValue",e),t.xp6(1),t.hij("",e.title," ")}}function le(i,l){1&i&&(t.TgZ(0,"div"),t._uU(1,"Service is required"),t.qZA())}function se(i,l){if(1&i&&(t.TgZ(0,"div",128),t.YNc(1,le,2,0,"div",18),t.qZA()),2&i){t.oxw();const e=t.MAs(19);t.xp6(1),t.Q6J("ngIf",null==e?null:e.errors.required)}}function re(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",105),t.TgZ(1,"h5",106),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",102,32),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",103),t.qZA(),t.qZA(),t.TgZ(7,"form",109,110),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.MAs(8),s=t.oxw();return o.form.valid&&s.addTreatment()})("keydown.enter",function(o){return o.preventDefault()}),t.TgZ(9,"div",111),t.TgZ(10,"div",112),t.TgZ(11,"div",113),t.TgZ(12,"div",7),t.TgZ(13,"div",8),t.TgZ(14,"div",0),t.TgZ(15,"div",114),t.TgZ(16,"div",115),t._UZ(17,"field-label",116),t.TgZ(18,"select",117,118),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().selectedTreatment.serviceType=o}),t.TgZ(20,"option",119),t._uU(21,"Select Service Type..."),t.qZA(),t.YNc(22,oe,2,2,"option",120),t.ALo(23,"sort"),t.qZA(),t.YNc(24,se,2,1,"div",121),t.qZA(),t.qZA(),t.TgZ(25,"div",122),t.TgZ(26,"div",115),t._UZ(27,"field-label",116),t.TgZ(28,"input",123),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().selectedTreatment.servicePo=o}),t.ALo(29,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"div",124),t.TgZ(31,"div",125),t.TgZ(32,"app-save-button",126),t.NdJ("onCancelClick",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.MAs(8),n=t.MAs(19),o=t.oxw();t.xp6(2),t.Oqu(null==o.selectedTreatment.id?"Add New Treatment":t.lcZ(3,13,"Update Treatment")),t.xp6(15),t.Q6J("labelStr","Service Type"),t.xp6(1),t.Q6J("ngModel",o.selectedTreatment.serviceType),t.xp6(2),t.Q6J("ngValue",null),t.xp6(2),t.Q6J("ngForOf",t.xi3(23,15,o.serviceTypes,"title")),t.xp6(2),t.Q6J("ngIf",e.submitted&&n.invalid),t.xp6(3),t.Q6J("labelStr","Po Number"),t.xp6(1),t.s9C("placeholder",t.lcZ(29,18," ")),t.Q6J("ngModel",o.selectedTreatment.servicePo),t.xp6(4),t.Q6J("type","submit")("loader",o.loading)("saveBtnSizeAndStyle","btn-outline-success")("cancelBtnSizeAndStyle","btn-outline-danger")}}function ae(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",105),t.TgZ(1,"h5",106),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",102,32),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",103),t.qZA(),t.qZA(),t.TgZ(7,"div",111),t.TgZ(8,"div",129),t.TgZ(9,"div",130),t._uU(10,"Service Type"),t.qZA(),t.TgZ(11,"div",130),t.TgZ(12,"span",131),t._uU(13),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",0),t.TgZ(15,"div",130),t._uU(16,"PO Number"),t.qZA(),t.TgZ(17,"div",130),t.TgZ(18,"span",132),t._uU(19),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",124),t.TgZ(21,"div",125),t.TgZ(22,"app-save-button",133),t.NdJ("onCancelClick",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,8,"Treatment Details")),t.xp6(11),t.hij(" ",e.selectedTreatment.serviceType.title," "),t.xp6(6),t.hij(" ",null==e.selectedTreatment?null:e.selectedTreatment.servicePo," "),t.xp6(3),t.Q6J("showSaveBtn",!1)("type","submit")("loader",e.loading)("saveBtnSizeAndStyle","btn-outline-success")("cancelBtnSizeAndStyle","btn-outline-danger")}}function de(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",105),t.TgZ(1,"h5",106),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",102,134),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",103),t.qZA(),t.qZA(),t._UZ(7,"app-add-user",135)}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(null==e.selectedUser?"Invite New User":t.lcZ(3,2,"Update User")),t.xp6(5),t.Q6J("inputObj",e.selectedUser)}}function ce(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",105),t.TgZ(1,"h5",106),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",102,35),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",103),t.qZA(),t.qZA(),t._UZ(7,"app-service-area-detail",136)}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,2,"Service Area Details")," "),t.xp6(5),t.Q6J("serviceArea",e.selectedDetail)}}function _e(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",105),t.TgZ(1,"h5",106),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",102,36),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",103),t.qZA(),t.qZA(),t._UZ(7,"app-service-type-detail",137)}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,2,"Service Type Detail")," "),t.xp6(5),t.Q6J("serviceType",e.selectedDetail)}}function ue(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",138),t.TgZ(1,"h5",106),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",102,37),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",103),t.qZA(),t.qZA(),t.TgZ(7,"div",111),t.TgZ(8,"app-attach-modal",139),t.NdJ("onCaseLoadSaved",function(){return t.CHM(e),t.oxw().fetchProviders()}),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,3,"Attach Provider to Student")),t.xp6(6),t.Q6J("studentId",e.selectedStudentId)("type","attach-provider")}}const pe=function(){return{backdropBorderRadius:"50%"}};let ge=(()=>{class i{constructor(e,n,o,s,a,c,N,D,Xe,Ke,tn){this.confirmDialog=e,this.route=n,this.sanitizer=o,this.studentService=s,this.logService=a,this._modalService=c,this._util=N,this.toastr=D,this._breadcrumbService=Xe,this.datePipe=Ke,this.eventService=tn,this.selectedStudentId=null,this.selectedDetail=null,this.selectedTreatment=null,this.config={},this.btsTreatments=[],this.serviceTypes=[],this.permissions=new O.m,this.providers=[],this.selectedUser=null,this.clients=[],this.student=new U.Db,this.logsList=[],this.tableLogs=!1,this.total=0,this.limit=10,this.page=0,this.isloadingState=!1,this.isImgLoading=!1,this.loadState=!1,this.tableLoadingState_service=!1,this.tableLoadingState_providers=!1,this.selectedStudent=null,this.serIndex=null,this.loading=!1,this.isAdmin=this._util.isAdmin(),this.subs=new w.w,this.serviceTypes=this._util.getBtsServiceTypesFromSession(),this.lottieConfig={path:"../../assets/images/lottie/contact_img_outline.json",renderer:"svg",autoplay:!0,loop:!0},this.lottieEmpty={path:"../assets/images/lottie/empty-box.json",renderer:"svg",autoplay:!0,loop:!1}}ngOnInit(){this.permissions=this._util.getAllowedPermissions(),this.route.paramMap.subscribe(e=>{this.selectedStudentId=parseInt(e.get("id")),this.selectedStudentId&&this.loadContent()}),this.subs.add(this.eventService.onStudentEventUpdate.subscribe(e=>{this.selectedStudentId&&this.loadContent()}))}loadContent(){this.fetchStudent(),this.fetchTreatments(),this.fetchProviders(),this.fetchStudentLog()}fetchStudentLog(){this.loadState=!0,this.logService.getAllLogs(null,this.selectedStudentId,z.qB.STUDENT,this.limit,this.page).then(e=>{this.loadState=!0;let n=this.logService.getData(e);this.logsList=null==n?void 0:n.resultList}).catch(e=>{console.log(e+"error!")})}setTitle(){var e,n;this.route.snapshot.data.title=this.student.firstName.toUpperCase()+" "+this.student.lastName.toUpperCase()+((null===(e=this.student)||void 0===e?void 0:e.dateOfBirth)?"("+this.datePipe.transform(null===(n=this.student)||void 0===n?void 0:n.dateOfBirth,"MM/dd/yyyy")+")":"")}fetchStudent(){this.btsTreatments=[],this.studentService.fetchStudentById(this.selectedStudentId).then(e=>{this.loadState=!0,this.student=this.studentService.getData(e),this.setTitle(),this._breadcrumbService.apply(this.student.firstName+" "+this.student.lastName)}).catch(e=>{console.log("error",e)})}fetchTreatments(){this.btsTreatments=[],this.loadState=!0,this.studentService.fetchTreatMents(this.selectedStudentId).then(e=>{this.loadState=!0,this.btsTreatments=this.studentService.getData(e)}).catch(e=>{console.log("error",e)})}fetchProviders(){this.tableLoadingState_providers=!0,this.studentService.fetchProviders(this.selectedStudentId).then(e=>{this.loadState=!0,this.tableLoadingState_providers=!1,this.providers=this.studentService.getData(e)}).catch(e=>{this.tableLoadingState_providers=!1,console.log("error",e)})}handleAnimation(e){this.anim=e}openNotesModal(){this._modalService.open(this.noteModal,{centered:!0,size:"lg",backdrop:"static",keyboard:!1,windowClass:this._util.getThemeFromSession("lol-modal-sm")})}openModelPopup(e,n){this.selectedStudent=e,this._modalService.open(n,{centered:!0,size:"lg",backdrop:"static",keyboard:!1,windowClass:this._util.getThemeFromSession("lol-modal-sm")})}openServiceModelPopup(e,n){this.selectedTreatment=e,this._modalService.open(n,{centered:!0,size:"lg",backdrop:"static",keyboard:!1,windowClass:this._util.getThemeFromSession("lol-modal-sm")})}editService(e){this.selectedTreatment=JSON.parse(JSON.stringify(e)),null==e&&(this.selectedTreatment=new U.To),this.serviceTypes.forEach((n,o)=>{this.selectedTreatment&&this.selectedTreatment.serviceType&&this.selectedTreatment.serviceType.id==this.serviceTypes[o].id&&(this.serviceTypes[o]=this.selectedTreatment.serviceType)}),this._modalService.open(this.addEditService,{size:"lg",backdrop:"static",keyboard:!1,centered:!0,windowClass:this._util.getThemeFromSession("lol-modal-medium")})}deleteRec(e){this.confirmDialog.confirm("Are you sure you want to delete the selected item?").then(n=>{n&&(this.isloadingState=!0,this.studentService.deleteProvider(e).then(o=>{this.isloadingState=!1,this.toastr.success("Deleted","SUCCESS"),this.fetchProviders()}).catch(o=>{this.isloadingState=!1,console.log(o)}))})}deleteRecTreatMent(e){this.isloadingState=!0,this.studentService.deleteTreatment(e).then(n=>{this.isloadingState=!1,this.toastr.success("Deleted","SUCCESS"),this.fetchTreatments()}).catch(n=>{this.isloadingState=!1,console.log(n)})}deleteStudent(){this.confirmDialog.confirm("Are you sure you want to delete the selected item?").then(e=>{e&&(this.isloadingState=!0,this.studentService.deleteRecord(this.student.id).then(n=>{this.isloadingState=!1,this.toastr.success("Deleted","SUCCESS"),this._util.navigateToStudents()}).catch(n=>{this.isloadingState=!1,console.log(n)}))})}openDetailModal(e,n){this.selectedDetail=e,this._modalService.open(n,{size:"lg",backdrop:"static",keyboard:!1,centered:!0,windowClass:this._util.getThemeFromSession("lol-modal-sm")})}addEditUser(e,n){this.selectedUser=e,this._modalService.open(n,{centered:!0,size:"lg",backdrop:"static",keyboard:!1,windowClass:this._util.getThemeFromSession("lol-modal-medium")})}update(){this.loadState=!1,this.studentService.saveStudent(this.student).then(e=>{this.student=this.studentService.getData(e),this.fetchStudent(),this.loadState=!0,this.serIndex=null}).catch(e=>{this.loadState=!0,console.log(e)})}closeNoteModal(e){this._modalService.dismissAll()}onSortedService(e){G.o.sortByProperty(this.btsTreatments,e.sortColumn,e.sortDirection)}addTreatment(){this.loading=!0,this.studentService.attachTreatment(this.selectedTreatment,this.student.id).then(e=>{this.loading=!1,this.toastr.success(null===this.selectedTreatment.id?"Added":" Updated","Success"),this.fetchTreatments(),this._modalService.dismissAll()}).catch(e=>{this.loading=!1,console.log(e)})}toggleStatus(e){this.confirmDialog.confirm("Are You Sure to make this student "+(e?"Inactive":"Active")).then(n=>{n?e?this.studentService.deleteRecord(this.student.id).then(o=>{this.isloadingState=!1,this.toastr.success("Deleted","SUCCESS"),this._util.navigateToStudents()}).catch(o=>{this.isloadingState=!1,console.log(o)}):this.update():this.student.deleted=!e})}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(y.O),t.Y36(p.gz),t.Y36(X.H7),t.Y36(m.V),t.Y36(K.$),t.Y36(u.FF),t.Y36(h.Z),t.Y36(S._W),t.Y36(tt.p),t.Y36(_.uU),t.Y36(C.P))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-student-detail"]],viewQuery:function(e,n){if(1&e&&(t.Gf(_t,5),t.Gf(ut,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.noteModal=o.first),t.iGM(o=t.CRH())&&(n.addEditService=o.first)}},decls:59,vars:22,consts:function(){let l;return l=$localize`:␟dc37c91ec1df27ae3384ba18a0268ba9de31d07c␟7967751763469128657:Service `,[[1,"row"],[1,"w-100","d-flex","justify-content-end","lol-task-controls"],["class","btn btn-outline-primary","type","button","title","Create Student",3,"click",4,"ngIf"],["class","btn btn-outline-info","type","button","title","Edit Student",3,"click",4,"ngIf"],["class","btn btn-outline-info","type","button","title","View Student",3,"click",4,"ngIf"],[1,"row","lol-contact-snapshot"],[1,"col-lg-4","col-xlg-3","col-md-5"],[1,"card"],[1,"card-body"],[1,"m-t-0","text-center"],[1,"col-auto","text-center"],[1,"image-container",2,"margin-bottom","0px"],[3,"show","config"],["style","height:200px;width:200px;",4,"ngIf"],["width","200","class","rounded-circle",3,"src",4,"ngIf"],[1,"card-title","m-t-10","selectable-all"],[1,"row","text-center","justify-content-center"],[1,"snapshot-badges"],[4,"ngIf"],[1,"m-b-0"],["class","card-body",4,"ngIf"],[1,"card","rc"],[1,"card-toolbar","header"],[1,"card-title"],["class","card-body-table pt-0",4,"ngIf"],[1,"col-lg-8","col-xlg-9","col-md-7"],["class","card-toolbar-button align-items-end",4,"ngIf"],["class","card-body pt-0 lol-contact-snapshot-note ql-editor",4,"ngIf"],["class","card rc",4,"ngIf"],["noteModal",""],["addEditStudent",""],["viewStudent",""],["addEditService",""],["viewService",""],["addEditUserModal",""],["serviceAreaDetail",""],["serviceTypeDetail",""],["attachModal",""],["type","button","title","Create Student",1,"btn","btn-outline-primary",3,"click"],[1,"mdi","mdi-plus-circle-outline","m-r-5"],["type","button","title","Edit Student",1,"btn","btn-outline-info",3,"click"],[1,"mdi","mdi","mdi-pencil"],["type","button","title","View Student",1,"btn","btn-outline-info",3,"click"],[2,"height","200px","width","200px"],[3,"options","width","height","animCreated"],["width","200",1,"rounded-circle",3,"src"],["checkedTextColor","white","uncheckedTextColor","black","defaultBgColor","#26daab","color","red","size","medium","uncheckedLabel","Active","checkedLabel","Inactive","name","deleted",3,"disabled","ngModel","title","ngModelChange","change"],[1,"col-md-7","col-lg-7","col-xl-7"],[1,"snapshot-datapoint"],[1,"text-muted"],[1,"col-md-5","col-lg-5","col-xl-5"],[1,"card-body-table","pt-0"],["class","card-empty",4,"ngIf"],["class","",4,"ngIf"],[1,"card-empty"],[1,"empty-state-card"],[1,""],["class","",4,"ngFor","ngForOf"],[1,"pl-0"],[1,"d-flex","flex-column","px-2","border-bottom","pb-1"],[1,"d-flex","pl-2"],[1,"mdi","mr-2","mdi-file-document","text-success"],[1,"text-muted","align-self-end"],[1,"card-toolbar-button","align-items-end"],["href","javascript:void(0)","ngbTooltip","Edit Note","placement","top",3,"click"],[1,"mdi","mdi-pencil-box-outline","fs-25"],[1,"card-body","pt-0","lol-contact-snapshot-note","ql-editor"],[3,"config"],[1,"col-md-12","float-left",2,"height","100%",3,"innerHtml"],["href","javascript:void(0)","title","Add Service",3,"click"],[1,"mdi","mdi-plus-circle-outline","fs-25"],["class","table-responsive",4,"ngIf"],[1,"table-responsive"],["sortable-table","",1,"table","table-hover","table-header-sm","table-inverse",3,"sorted"],["sortable-column","scheduleDateTime","scope","col",1,"cursor-pointer"],l,["scope","col"],["scope","col",1,"",2,"text-align","right"],[1,"table-striped","font-9pt"],[4,"ngFor","ngForOf"],[1,"align-inhrt"],["href","javascript:void(0)",1,"cursorPointer",3,"click"],[2,"text-align","right"],[3,"showEditBtn","showViewBtn","showDeleteBtn","inputItem","confirmMsg","edit","view","delete"],["class","card-body pt-0",4,"ngIf"],["href","javascript:void(0)","title","Attach Provider",3,"click"],[1,"card-body","pt-0"],[2,"min-width","275px"],[1,"d-flex","flex-wrap","m-2",3,"ngClass"],["class","person-pill",4,"ngFor","ngForOf"],[1,"person-pill"],[1,"person-pill-pic","cursor-pointer",2,"position","absolute",3,"click"],["alt","Contact","width","56",1,"rounded-circle",3,"src"],[1,"person-pill-content","ani-grad-matter"],[1,"person-pill-details",3,"ngClass"],[1,"row","d-flex","justify-content-between"],[1,"col-10","m-b-0","cursor-pointer",3,"click"],["class","col-2 cursor-pointer mdi mdi-close-circle-outline fs-18-card",3,"click",4,"ngIf"],[1,"person-pill-badge","cursor-pointer",3,"click"],[1,"col-2","cursor-pointer","mdi","mdi-close-circle-outline","fs-18-card",3,"click"],[1,"bg-info","text-white","modal-header","p-3"],[1,"modal-title"],["data-dismiss","modal",1,"cursorPointer",3,"click"],[1,"mdi","mdi-close"],[3,"student","onClose"],[1,"modal-header","p-3"],["id","modal-basic-title",1,"modal-title"],[2,"width","100%",3,"inputObj","onSave"],[2,"width","100%",3,"readOnly","inputObj","onSave"],["name","form",3,"ngSubmit","keydown.enter"],["addForm","ngForm"],[1,"modal-body"],[1,"col-lg-12"],[1,"form-body"],[1,"col-md-7"],[1,"form-group"],[3,"labelStr"],["name","service",1,"browser-default","custom-select",3,"ngModel","ngModelChange"],["service","ngModel"],["selected","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-5"],["type","text","name","servicePo",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"modal-footer"],[1,"row","form-controls-right"],[3,"type","loader","saveBtnSizeAndStyle","cancelBtnSizeAndStyle","onCancelClick"],[3,"ngValue"],[1,"invalid-feedback"],[1,"row","mb-2"],[1,"col-4"],[1,"badge","text-white","bg-info"],[1,"badge","text-white","bg-success"],[3,"showSaveBtn","type","loader","saveBtnSizeAndStyle","cancelBtnSizeAndStyle","onCancelClick"],["userModel",""],[2,"width","100%",3,"inputObj"],[2,"width","100%",3,"serviceArea"],[2,"width","100%",3,"serviceType"],[1,"bg-info","text-white","modal-header","p-2"],[3,"studentId","type","onCaseLoadSaved"]]},template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.YNc(2,pt,3,0,"button",2),t.YNc(3,gt,3,0,"button",3),t.YNc(4,mt,2,0,"button",4),t.qZA(),t.qZA(),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"div",7),t.TgZ(8,"div",8),t.TgZ(9,"div",9),t.TgZ(10,"div",10),t.TgZ(11,"div",11),t._UZ(12,"ngx-loading",12),t.YNc(13,ht,2,3,"div",13),t.YNc(14,ft,1,1,"img",14),t._UZ(15,"br"),t.qZA(),t.qZA(),t.TgZ(16,"h4",15),t._uU(17),t.qZA(),t.TgZ(18,"div",16),t.TgZ(19,"div",17),t.YNc(20,Tt,2,3,"div",18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(21,"hr",19),t.YNc(22,wt,35,12,"div",20),t.qZA(),t.TgZ(23,"div",21),t.TgZ(24,"div",22),t.TgZ(25,"h4",23),t._uU(26,"Logs"),t.qZA(),t.qZA(),t.YNc(27,qt,3,2,"div",24),t.qZA(),t.qZA(),t.TgZ(28,"div",25),t.YNc(29,Ft,1,0,"table-loading",18),t.TgZ(30,"div",7),t.TgZ(31,"div",22),t.TgZ(32,"h4",23),t._uU(33,"Note"),t.qZA(),t.YNc(34,kt,3,0,"span",26),t.qZA(),t.YNc(35,It,5,7,"div",27),t.qZA(),t.YNc(36,Lt,1,0,"table-loading",18),t.YNc(37,Ht,6,2,"div",28),t.YNc(38,Bt,1,0,"div",28),t.YNc(39,Wt,1,0,"table-loading",18),t.YNc(40,te,6,2,"div",28),t.qZA(),t.qZA(),t.YNc(41,ee,7,1,"ng-template",null,29,t.W1O),t.YNc(43,ne,8,4,"ng-template",null,30,t.W1O),t.YNc(45,ie,7,2,"ng-template",null,31,t.W1O),t.YNc(47,re,33,20,"ng-template",null,32,t.W1O),t.YNc(49,ae,23,10,"ng-template",null,33,t.W1O),t.YNc(51,de,8,4,"ng-template",null,34,t.W1O),t.YNc(53,ce,8,4,"ng-template",null,35,t.W1O),t.YNc(55,_e,8,4,"ng-template",null,36,t.W1O),t.YNc(57,ue,9,5,"ng-template",null,37,t.W1O)),2&e&&(t.xp6(2),t.Q6J("ngIf",n.permissions.CAN_MANAGE_STUDENTS&&n.isAdmin),t.xp6(1),t.Q6J("ngIf",n.permissions.CAN_MANAGE_STUDENTS&&n.isAdmin),t.xp6(1),t.Q6J("ngIf",!n.permissions.CAN_MANAGE_STUDENTS||!n.isAdmin),t.xp6(8),t.Q6J("show",n.isImgLoading)("config",t.DdM(21,pe)),t.xp6(1),t.Q6J("ngIf",!n.student.profilePictureUrl),t.xp6(1),t.Q6J("ngIf",n.student.profilePictureUrl),t.xp6(3),t.lnq("",null==n.student?null:n.student.firstName," ",null==n.student?null:n.student.middleName," ",null==n.student?null:n.student.lastName,""),t.xp6(3),t.Q6J("ngIf",n.loadState),t.xp6(2),t.Q6J("ngIf",n.loadState),t.xp6(5),t.Q6J("ngIf",n.loadState),t.xp6(2),t.Q6J("ngIf",!n.loadState),t.xp6(5),t.Q6J("ngIf",n.permissions.CAN_MANAGE_STUDENTS&&n.isAdmin),t.xp6(1),t.Q6J("ngIf",n.loadState),t.xp6(1),t.Q6J("ngIf",!n.loadState),t.xp6(1),t.Q6J("ngIf",n.loadState),t.xp6(1),t.Q6J("ngIf",!n.loadState),t.xp6(1),t.Q6J("ngIf",!n.loadState),t.xp6(1),t.Q6J("ngIf",n.loadState))},directives:[_.O5,f.RJ,E.e$,q.ob,d.JJ,d.On,_.sg,Z.I,u._L,P.Vv,F.Q,k.a,et.C,_.mk,it,L.L,d._Y,d.JL,d.F,J.t,d.EJ,d.YN,d.Kr,d.Fj,v.t,ot.J,lt.u,st.h,Q.H],pipes:[x.W,_.uU,rt,at.y,dt.L,g.X$,ct.F],styles:[".fs-8[_ngcontent-%COMP%] {\r\n    font-size: 8px;\r\n  }\r\n  .fs-25[_ngcontent-%COMP%] {\r\n    font-size: 25px;\r\n  }\r\n  .ml-10[_ngcontent-%COMP%] {\r\n    margin-left:10px;\r\n  }\r\n  div.disabled[_ngcontent-%COMP%] {\r\n    pointer-events: none;\r\n  \r\n    \r\n    opacity: 0.5;\r\n    background: #e4e7ea;\r\n  }\r\n  .fc[_ngcontent-%COMP%] {\r\n    max-height: 300px;\r\n    min-height: 300px;\r\n  }\r\n  .rc[_ngcontent-%COMP%] {\r\n    min-height: 100px;\r\n  }\r\n  .fb[_ngcontent-%COMP%] {\r\n    background-color: rgb(163, 163, 163);\r\n    border-color: rgb(163, 163, 163);\r\n  }\r\n  .fb[_ngcontent-%COMP%]:hover {\r\n    background-color: royalblue;\r\n    border-color: royalblue;\r\n  }\r\n  .twitter[_ngcontent-%COMP%] {\r\n    background-color: rgb(163, 163, 163);\r\n    border-color: rgb(163, 163, 163);\r\n  }\r\n  .twitter[_ngcontent-%COMP%]:hover {\r\n    background-color: rgb(14, 182, 248);\r\n    border-color: rgb(14, 182, 248);\r\n  }\r\n  .card-empty[_ngcontent-%COMP%] {\r\n    padding: 0rem 1.25rem 1.25rem 1.25rem\r\n  }\r\n  .btn-remove-file[_ngcontent-%COMP%] {\r\n    color: blue;\r\n  }\r\n  .snapshot-badges[_ngcontent-%COMP%] {\r\n    display: flex;\r\n    align-items: center;\r\n    width: 300px;\r\n    justify-content: space-evenly;\r\n  }\r\n  .snapshot-badges[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n  .snapshot-badges[_ngcontent-%COMP%]   .snapshot-badge[_ngcontent-%COMP%] {\r\n    height: 30px;\r\n    width: 30px;\r\n    margin: 0 10px;\r\n    background-color: #2962ff;\r\n    border-radius: 8px;\r\n    position: relative;\r\n    color: white;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n  .switch[_ngcontent-%COMP%]:focus {\r\n    border: 1px solid red;\r\n  }\r\n  .lol-contact-snapshot[_ngcontent-%COMP%]   .switch.disabled[_ngcontent-%COMP%] {\r\n    opacity: 1 !important;\r\n  }\r\n  .lol-contact-snapshot[_ngcontent-%COMP%]   .card-toolbar[_ngcontent-%COMP%] {\r\n    padding: 10px 20px;\r\n  }\r\n  .lol-contact-snapshot[_ngcontent-%COMP%]   .btn-circle[_ngcontent-%COMP%] {\r\n    border: 2px solid #fff;\r\n    padding: 8px;\r\n    box-shadow: 1px 4px 8px #00000061;\r\n  }\r\n  .lol-contact-snapshot[_ngcontent-%COMP%]   .btn-circle[_ngcontent-%COMP%]:disabled {\r\n    box-shadow: none;\r\n  }\r\n  .snapshot-badges[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{\r\n    font-weight: 600;\r\n    font-size: 12px;\r\n    padding-top: 10px;\r\n  }\r\n  .snapshot-badges[_ngcontent-%COMP%]   .snapshot-button[_ngcontent-%COMP%] {\r\n    font-size:12px;\r\n    padding:0 20px;\r\n  }\r\n  .snapshot-badges[_ngcontent-%COMP%]   .snapshot-visaCheck[_ngcontent-%COMP%] {\r\n    background: #f43833;\r\n  }\r\n  .snapshot-badges[_ngcontent-%COMP%]   .snapshot-counter[_ngcontent-%COMP%] {\r\n    position: absolute;\r\n    background: #f43833;\r\n    padding: 2px 8px;\r\n    border-radius: 36%;\r\n    transform: scale(.8);\r\n    top: -10px;\r\n    left: 16px;\r\n  }\r\n  .matter-pill[_ngcontent-%COMP%] {\r\n    position: relative;\r\n    min-width: 300px;\r\n  }\r\n  .matter-pill[_ngcontent-%COMP%]:hover {\r\n    cursor: pointer;\r\n  }\r\n  .matter-pill-content[_ngcontent-%COMP%]{\r\n      padding: 10px;\r\n      border-radius: 10px;\r\n      color: white;\r\n      margin-left: 28px;\r\n  }\r\n  .matter-pill-pic[_ngcontent-%COMP%] {\r\n    top: 5px;\r\n    left: 10px;\r\n  }\r\n  .matter-pill-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{\r\n    box-shadow: 0 4px 5px rgba(0, 0, 0, 0.15);\r\n  }\r\n  .matter-pill-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\r\n    color: white;\r\n  }\r\n  .ll-purple[_ngcontent-%COMP%]{\r\n    background: #21255E;\r\n  }\r\n  .ll-blue[_ngcontent-%COMP%]{\r\n    background: #30B4DC;\r\n  }\r\n  .matter-pill-badge[_ngcontent-%COMP%]{\r\n    background-color: rgba(255,255,255,0.2);\r\n    padding: 5px;\r\n    border-radius: 4px;\r\n    width: -moz-fit-content;\r\n    width: fit-content;\r\n    font-size: 10px;\r\n  }\r\n  .align-inhrt[_ngcontent-%COMP%] {\r\n  vertical-align: inherit !important;\r\n}\r\n  .matter-pill-details[_ngcontent-%COMP%] {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-left: 46px;\r\n    margin-right: 20px;\r\n    max-width: 100%;\r\n  }\r\n  .matter-list-area[_ngcontent-%COMP%] {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n  }\r\n  .lol-matter-pending[_ngcontent-%COMP%] {\r\n    background-color: #ffbc34;\r\n  }\r\n  .lol-matter-closed[_ngcontent-%COMP%] {\r\n    background-color: #a1aab2;\r\n  }\r\n  .lol-matter-open[_ngcontent-%COMP%] {\r\n    background-color: #36bea6;\r\n  }\r\n  .lol-table-family[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] {\r\n    border-top: 1px solid #e9ecef;\r\n  }\r\n  .select-profile-picture[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%] {\r\n    height: 200px;\r\n  }\r\n  .image-container[_ngcontent-%COMP%] {\r\n    margin-bottom: 25px;\r\n  }\r\n  .image-container[_ngcontent-%COMP%]:hover {\r\n    font-weight: 600;\r\n    color: black;\r\n    font-size: 1em;\r\n  }\r\n  .card-empty[_ngcontent-%COMP%] {\r\n    padding-top:20px;\r\n  }\r\n  .empty-state-card[_ngcontent-%COMP%] {\r\n    color:#777777;\r\n  }\r\n  .snapshot-datapoint[_ngcontent-%COMP%]   i.mdi-content-copy[_ngcontent-%COMP%] {\r\n    opacity: 0;\r\n    transition: 0.6s;\r\n    position: absolute;\r\n  }\r\n  .snapshot-datapoint[_ngcontent-%COMP%]:hover   i.mdi-content-copy[_ngcontent-%COMP%] {\r\n    opacity: 100;\r\n   transform: translate(5px,0);\r\n    -webkit-transform: translate(5px,0); \r\n    -o-transform: translate(5px,0); \r\n    -moz-transform: translate(5px,0); \r\n  }\r\n  .mdi-check[_ngcontent-%COMP%] {\r\n    font-size: 12px;\r\n  }\r\n  .td-controls[_ngcontent-%COMP%] {\r\n    display: flex;  \r\n    margin-left: auto; \r\n    float: right;\r\n  }\r\n  .ani-grad-matter[_ngcontent-%COMP%] {\r\n    background: linear-gradient(270deg, #2096ff, #05ffa3);\r\n    background-size: 400% 400%;\r\n    animation: AnimationName 12s ease infinite;\r\n    @keyframes AnimationName {\r\n        0% {\r\n            background-position: 0% 50%;\r\n        }\r\n        50% {\r\n            background-position: 100% 50%;\r\n        }\r\n        100% {\r\n            background-position: 0% 50%;\r\n        }\r\n    }\r\n}\r\n  .confCol[_ngcontent-%COMP%] {\r\n    color: #b30f0f\r\n  }\r\n  .opac-btn[_ngcontent-%COMP%]{\r\n    opacity: 0.5;\r\n    transition: opacity 0.5s ease-out;\r\n    -moz-transition: opacity 0.5s ease-out;\r\n    -webkit-transition: opacity 0.5s ease-out;\r\n    -o-transition: opacity 0.5s ease-out;\r\n  }\r\n  .opac-btn[_ngcontent-%COMP%]:hover{\r\n    opacity: 1;\r\n    transition: opacity 0.5s ease-out;\r\n    -moz-transition: opacity 0.5s ease-out;\r\n    -webkit-transition: opacity 0.5s ease-out;\r\n    -o-transition: opacity 0.5s ease-out;\r\n  }\r\n  .lol-task-controls[_ngcontent-%COMP%] {\r\n    position: fixed;\r\n    top: 88px;\r\n    left: -40px;\r\n  }\r\n  .fs-18[_ngcontent-%COMP%] {\r\n  font-size: 15px;\r\ncolor: #F32013;\r\nmargin-top: -12px;\r\n}\r\n  .person-pill[_ngcontent-%COMP%] {\r\n    position: relative;\r\n    padding: 10px;\r\n    font-size: 12px;\r\n    display: flex;\r\n  }\r\n  .person-pill-content[_ngcontent-%COMP%] {\r\n    padding: 10px;\r\n    border-radius: 10px;\r\n    color: white;\r\n    margin-left: 28px;\r\n  }\r\n  .person-pill-pic[_ngcontent-%COMP%] {}\r\n  .person-pill-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\r\n    box-shadow: 0 4px 5px rgba(0, 0, 0, 0.15);\r\n  }\r\n  .person-pill-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\r\n    color: white;\r\n  }\r\n  .person-pill-badge[_ngcontent-%COMP%] {\r\n    background-color: rgb(38 205 135 / 20%);\r\n    padding: 2px 5px;\r\n    border-radius: 4px;\r\n    width: -moz-fit-content;\r\n    width: fit-content;\r\n    margin: 4px 0px 2px 0px;\r\n  }\r\n  .person-pill-details[_ngcontent-%COMP%] {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-left: 28px;\r\n    max-width: 100%;\r\n  }\r\n  .person-pill[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%] {\r\n    width: 56px;\r\n    height: 56px;\r\n    text-align: center;\r\n    line-height: 56px;\r\n    font-size: 14px;\r\n  }"]}),i})();var A=r(6826),me=r(9966),he=r(4278),fe=r(7215),Te=r(2186),$=r(2117),Se=r(640),b=r(6640);const Ce=["addForm"];function Ze(i,l){if(1&i&&(t.ynx(0),t.TgZ(1,"ng-option",35),t._uU(2),t.qZA(),t.BQk()),2&i){const e=l.$implicit;t.xp6(1),t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.fullName,"")}}function ve(i,l){if(1&i&&(t.ynx(0),t.TgZ(1,"ng-option",35),t._uU(2),t.qZA(),t.BQk()),2&i){const e=l.$implicit;t.xp6(1),t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name,"")}}function xe(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){return t.CHM(e),t.oxw().searchCaseloads()}),t._uU(1,"Search"),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("disabled",!e.studentSearch.userId||!e.studentSearch.clientId)}}function Ae(i,l){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",37),t.TgZ(2,"strong"),t._uU(3),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.Oqu(e.message)}}function be(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t.TgZ(2,"div",21),t.TgZ(3,"input",38),t.NdJ("change",function(){const s=t.CHM(e).$implicit;return t.oxw(2).toggleCheckBox(s)}),t.qZA(),t._UZ(4,"label",39),t.qZA(),t.qZA(),t.TgZ(5,"td",40),t.TgZ(6,"a",41),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"td",40),t.TgZ(9,"a",41),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"nullToDash"),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=l.index;t.xp6(3),t.Q2q("id","checkboxCaseLoad_",n,""),t.Q6J("checked",e.checked),t.xp6(1),t.Q2q("for","checkboxCaseLoad_",n,""),t.xp6(2),t.Q6J("routerLink","/bts/students/"+e.id),t.xp6(1),t.Oqu(null==e?null:e.lastName),t.xp6(2),t.Q6J("routerLink","/bts/students/"+e.id),t.xp6(1),t.hij(" ",null==e?null:e.firstName," "),t.xp6(2),t.hij(" ",t.lcZ(13,8,null==e||null==e.location?null:e.location.title)," ")}}function Ne(i,l){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,Ae,4,1,"tr",28),t.YNc(2,be,14,10,"tr",13),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",0==e.caseLoads.length),t.xp6(1),t.Q6J("ngForOf",e.caseLoads)}}function De(i,l){1&i&&t._UZ(0,"table-loading",42),2&i&&t.Q6J("rows",8)("classList","ph-col-10")}function Me(i,l){1&i&&(t.TgZ(0,"button",43),t.tHW(1,44),t._UZ(2,"i",45),t.ALo(3,"translate"),t.N_p(),t.qZA()),2&i&&(t.xp6(3),t.pQV(t.lcZ(3,1,"Deleting Caseloads")),t.QtT(1))}const Pe=function(){return{backdropBorderRadius:"3px"}};let Ee=(()=>{class i{constructor(e,n,o,s,a,c){this.modalService=e,this.util=n,this.eventService=o,this._toastr_service=s,this.clientService=a,this.studentService=c,this.loading=!1,this.caseLoads=[],this.clients=this.util.getBtsClientFromSession(),this.users=this.util.getBtsUsersListsFromSession(),this.studentSearch=new A.sF,this.isDeleting=!1,this.total=0,this.checkedAll=!1,this.selectedList=[],this.limit=10,this.page=0,this.sortDirection=null,this.sortColumn=null,this.message="Apply search by selecting client and provider to load caseloads"}ngOnInit(){this.initpagination()}initpagination(){this.limit=this.util.getPageLimit(),this.page=0}compareWith(e,n){return e.id==n.id}onClientChanged(e){this.message="Apply search to load caseloads",this.caseLoads=[],this.resetSelection()}onCancelClicked(){this.modalService.dismissAll()}onUserChange(e){this.message="Apply search to load caseloads",this.caseLoads=[],this.resetSelection(),this.loading=!0,this.clientService.getByProviderId(e).then(n=>{this.clients=this.clientService.getData(n),this.loading=!1}).catch(n=>{this.loading=!1})}searchCaseloads(){this.message="No Record Found",this.resetSelection(),this.loading=!0,this.studentService.getAllStudents(this.studentSearch,this.limit,this.page,this.sortColumn,this.sortDirection).then(e=>{const n=this.studentService.getData(e);this.caseLoads=n.resultList,this.total=n.totalRecords,this.loading=!1}).catch(e=>{this.loading=!1})}onDeleteCaseLoads(){this.isDeleting=!0,this.studentService.detachCaseLoads(this.selectedList,this.studentSearch.userId).then(e=>{this.isDeleting=!1,this.searchCaseloads(),this._toastr_service.success("students deleted from provider successfully")}).catch(e=>{this.isDeleting=!1}).finally(()=>{this.resetSelection()})}toggleCheckBox(e){e.checked=!e.checked,e.checked&&e&&this.selectedList.push(e.id),e.checked||(this.selectedList=this.removeFromBulk(this.selectedList,e.id)),this.checkedAll=this.caseLoads.every(n=>this.selectedList.includes(n.id))}toggleCheckAll(){this.checkedAll=!this.checkedAll,this.checkedAll&&(this.selectedList=[],this.caseLoads.forEach(e=>{e.checked=!0,this.selectedList.push(e.id)})),this.checkedAll||(this.selectedList=[],this.caseLoads.forEach(e=>{e.checked=!1}))}removeFromBulk(e,n){return e.filter(function(o){return o!=n})}resetSelection(){this.checkedAll=!1,this.caseLoads.forEach(e=>{e.checked=!1}),this.selectedList=[]}onPageChanged(e){this.limit=e.limit,this.page=e.page,this.searchCaseloads()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.FF),t.Y36(h.Z),t.Y36(C.P),t.Y36(S._W),t.Y36(Se.y),t.Y36(m.V))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-caseloads-pop-up"]],viewQuery:function(e,n){if(1&e&&t.Gf(Ce,5),2&e){let o;t.iGM(o=t.CRH())&&(n.addForm=o.first)}},decls:46,vars:44,consts:function(){let l,e,n,o;return l=$localize`:␟9de1ff747b78d4ffaf37d6c649d36ad970efde08␟1845047974724294655: ${"\ufffd0\ufffd"}:INTERPOLATION: `,e=$localize`:␟309f2beefeca885a05b9cda26dd2bc082c6d3ae5␟7326270204502256484: ${"\ufffd0\ufffd"}:INTERPOLATION: `,n=$localize`:␟cd531ff9073e4f7eb6bfb62c9332cdc847d33585␟475736727841131510:${"\ufffd0\ufffd"}:INTERPOLATION:`,o=$localize`:␟c88c70bce766bc4ad341783ff125e7e606c1d20d␟5842147746852648885:${"\ufffd#2\ufffd"}:START_ITALIC_TEXT:${"\ufffd/#2\ufffd"}:CLOSE_ITALIC_TEXT: ${"\ufffd0\ufffd"}:INTERPOLATION: `,[[3,"show","config"],["name","form",3,"ngSubmit","keydown.enter"],["addForm","ngForm"],[1,"modal-body"],[1,"col-lg-12"],[1,"form-body"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-5"],[1,"form-group"],[3,"labelStr","isRequired"],["bindLabel","fullName",3,"compareWith","dropdownPosition","placeholder","ngModel","clearable","ngModelChange","change"],[4,"ngFor","ngForOf"],["name","client","bindLabel","name",3,"dropdownPosition","placeholder","multiple","clearable","ngModel","compareWith","ngModelChange","change"],[1,"col-md-2","d-flex","flex-column","justify-content-end"],[3,"labelStr"],["class","col-12 btn  btn-success mb-1 btn-sm",3,"disabled","click",4,"ngIf"],[1,"table","table-responsive","smart-table"],[1,"table","table-striped","table-hover","v-middle","wh-table-people"],["width","5%"],[1,"custom-control","custom-checkbox"],["id","checkAllCaseLoad","type","checkbox",1,"custom-control-input","pl-2",3,"checked","change"],["for","checkAllCaseLoad",1,"custom-control-label"],["scope","col"],l,e,n,[4,"ngIf"],[3,"rows","classList",4,"ngIf"],[3,"totalNumOfRecords","onPageChanged"],[1,"modal-footer"],["disabled","","class","btn btn-rounded btn-outline-success",4,"ngIf"],[1,"row","form-controls-right"],[3,"loader","isDisabled","type","text","saveBtnTitle","showSaveBtn","saveBtnSizeAndStyle","cancelBtnSizeAndStyle","onCancelClick"],[3,"value"],[1,"col-12","btn","btn-success","mb-1","btn-sm",3,"disabled","click"],["colspan","13",1,"text-center","pt-0"],["type","checkbox",1,"custom-control-input",3,"checked","change"],[1,"custom-control-label"],[1,"user-icon-cell"],[1,"button","cursor-pointer",3,"routerLink"],[3,"rows","classList"],["disabled","",1,"btn","btn-rounded","btn-outline-success"],o,[1,"fas","fa-spinner","fa-spin"]]},template:function(e,n){if(1&e){const o=t.EpF();t._UZ(0,"ngx-loading",0),t.TgZ(1,"form",1,2),t.NdJ("ngSubmit",function(){return t.CHM(o),t.MAs(2).form.valid&&n.onDeleteCaseLoads()})("keydown.enter",function(a){return a.preventDefault()}),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"div",7),t.TgZ(8,"div",8),t.TgZ(9,"div",9),t.TgZ(10,"div",10),t._UZ(11,"field-label",11),t.TgZ(12,"ng-select",12),t.NdJ("ngModelChange",function(a){return n.studentSearch.userId=a})("change",function(a){return n.onUserChange(a)}),t.YNc(13,Ze,3,2,"ng-container",13),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",9),t.TgZ(15,"div",10),t._UZ(16,"field-label",11),t.TgZ(17,"ng-select",14),t.NdJ("ngModelChange",function(a){return n.studentSearch.clientId=a})("change",function(a){return n.onClientChanged(a)}),t.YNc(18,ve,3,2,"ng-container",13),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",15),t.TgZ(20,"div",10),t._UZ(21,"field-label",16),t.YNc(22,xe,2,1,"button",17),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",18),t.TgZ(24,"table",19),t.TgZ(25,"thead"),t.TgZ(26,"th",20),t.TgZ(27,"div",21),t.TgZ(28,"input",22),t.NdJ("change",function(){return n.toggleCheckAll()}),t.qZA(),t._UZ(29,"label",23),t.qZA(),t.qZA(),t.TgZ(30,"th",24),t.SDv(31,25),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"th",24),t.SDv(34,26),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"th",24),t.SDv(37,27),t.ALo(38,"translate"),t.qZA(),t.qZA(),t.YNc(39,Ne,3,2,"tbody",28),t.qZA(),t.YNc(40,De,1,2,"table-loading",29),t.TgZ(41,"app-pagination",30),t.NdJ("onPageChanged",function(a){return n.onPageChanged(a)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",31),t.YNc(43,Me,4,3,"button",32),t.TgZ(44,"div",33),t.TgZ(45,"app-save-button",34),t.NdJ("onCancelClick",function(){return n.onCancelClicked()}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}2&e&&(t.Q6J("show",n.loading)("config",t.DdM(43,Pe)),t.xp6(11),t.Q6J("labelStr","Provider")("isRequired",!0),t.xp6(1),t.Q6J("compareWith",n.compareWith)("dropdownPosition","bottom")("placeholder","Select Provider")("ngModel",n.studentSearch.userId)("clearable",!1),t.xp6(1),t.Q6J("ngForOf",n.users),t.xp6(3),t.Q6J("labelStr","Client")("isRequired",!0),t.xp6(1),t.Q6J("dropdownPosition","bottom")("placeholder","Select Client")("multiple",!1)("clearable",!0)("ngModel",n.studentSearch.clientId)("compareWith",n.compareWith),t.xp6(1),t.Q6J("ngForOf",n.clients),t.xp6(3),t.Q6J("labelStr",""),t.xp6(1),t.Q6J("ngIf",!n.loading),t.xp6(6),t.Q6J("checked",n.checkedAll),t.xp6(4),t.pQV(t.lcZ(32,37,"Last Name")),t.QtT(31),t.xp6(3),t.pQV(t.lcZ(35,39,"First Name")),t.QtT(34),t.xp6(3),t.pQV(t.lcZ(38,41,"Location")),t.QtT(37),t.xp6(1),t.Q6J("ngIf",!n.loading),t.xp6(1),t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("totalNumOfRecords",n.total),t.xp6(2),t.Q6J("ngIf",n.isDeleting),t.xp6(2),t.Q6J("loader",n.isDeleting)("isDisabled",0==n.selectedList.length)("type","submit")("text","Delete Caseloads")("saveBtnTitle","Delete Caseloads")("showSaveBtn",!n.isDeleting)("saveBtnSizeAndStyle","btn-outline-success")("cancelBtnSizeAndStyle","btn-outline-danger"))},directives:[f.RJ,d._Y,d.JL,d.F,J.t,b.w9,d.JJ,d.On,_.sg,_.O5,$.Q,v.t,b.xv,p.yS,Z.I],pipes:[g.X$,x.W],styles:["tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{\r\n    padding: .2rem !important;\r\n}\r\n.custom-control[_ngcontent-%COMP%]{\r\n    text-align: center;\r\n}"]}),i})();function we(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2),s=t.MAs(47);return o.assignToCaseLoad(null,s)}),t._uU(1,"ASSIGN TO CASELOAD"),t.qZA()}}function Ue(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",33),t.YNc(1,we,2,0,"button",34),t.TgZ(2,"button",35),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),s=t.MAs(43);return o.openModelPopup(null,s,null)}),t._uU(3,"Caseloads"),t.qZA(),t.TgZ(4,"button",36),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),s=t.MAs(41);return o.openModelPopup(null,s)}),t._uU(5,"Add Student"),t.qZA(),t.TgZ(6,"button",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().exportExcel()}),t._uU(7,"Export"),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.selectedList.length)}}function Oe(i,l){1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",40),t.TgZ(2,"strong"),t._uU(3,"No Record Found"),t.qZA(),t.qZA(),t.qZA())}function ye(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",57),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit,s=t.oxw(2),a=t.MAs(41);return s.openModelPopup(o,a)}),t._uU(1,"Edit"),t.qZA()}}function qe(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",57),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw(2).deleteCaseload(o.id)}),t._uU(1,"Remove"),t.qZA()}}function Fe(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",57),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit,s=t.oxw(2),a=t.MAs(45);return s.openModelPopup(o,a)}),t._uU(1,"View"),t.qZA()}}function ke(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",57),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw(2).ViewFile(o.folderUrl)}),t._uU(1,"Link"),t.qZA()}}function Ie(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",57),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw(2).deleteRec(o.id)}),t._uU(1,"Delete"),t.qZA()}}function Le(i,l){if(1&i&&(t.TgZ(0,"div",51),t.TgZ(1,"a",52),t.TgZ(2,"button",53),t._UZ(3,"i",54),t.qZA(),t.TgZ(4,"div",55),t.YNc(5,ye,2,0,"button",56),t.YNc(6,qe,2,0,"button",56),t.YNc(7,Fe,2,0,"button",56),t.YNc(8,ke,2,0,"button",56),t.YNc(9,Ie,2,0,"button",56),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(5),t.Q6J("ngIf",n.permissions.CAN_MANAGE_STUDENTS&&n.isAdmin),t.xp6(1),t.Q6J("ngIf",!!n.search.userId&&n.isAdmin),t.xp6(1),t.Q6J("ngIf",!n.isAdmin||!n.permissions.CAN_MANAGE_STUDENTS),t.xp6(1),t.Q6J("ngIf",!!e.folderUrl),t.xp6(1),t.Q6J("ngIf",n.permissions.CAN_MANAGE_STUDENTS&&n.isAdmin)}}function Je(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"a",58),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(2).activateStudent(o.id)}),t._UZ(2,"span",59),t.qZA(),t.qZA()}}const Qe=function(i,l){return{"bg-success":i,"bg-danger":l}};function $e(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t.TgZ(2,"div",10),t.TgZ(3,"input",41),t.NdJ("change",function(){const s=t.CHM(e).$implicit;return t.oxw(2).toggleCheckBox(s)}),t.qZA(),t._UZ(4,"label",42),t.qZA(),t.qZA(),t.TgZ(5,"td",43),t.TgZ(6,"a",44),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"td",43),t.TgZ(9,"a",44),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"td",45),t.TgZ(12,"a",46),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).util.navigateToClientDetail(null==s?null:s.client)}),t._uU(13),t.ALo(14,"nullToDash"),t.qZA(),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.ALo(17,"nullToDash"),t.qZA(),t.TgZ(18,"td",47),t._uU(19),t.ALo(20,"nullToDash"),t.ALo(21,"date"),t.qZA(),t.TgZ(22,"td"),t._UZ(23,"i",48),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"td",49),t.YNc(26,Le,10,5,"div",50),t.YNc(27,Je,3,0,"div",25),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=l.index,o=t.oxw(2);t.xp6(3),t.Q2q("id","checkbox_",n,""),t.Q6J("checked",e.checked),t.xp6(1),t.Q2q("for","checkbox_",n,""),t.xp6(2),t.Q6J("routerLink","/bts/students/"+e.id),t.xp6(1),t.Oqu(null==e?null:e.lastName),t.xp6(2),t.Q6J("routerLink","/bts/students/"+e.id),t.xp6(1),t.hij(" ",null==e?null:e.firstName," "),t.xp6(2),t.Q6J("ngClass",o.permissions.CAN_MANAGE_CLIENTS?"":"disabled-link"),t.xp6(1),t.hij(" ",t.lcZ(14,15,null==e||null==e.client?null:e.client.name)," "),t.xp6(3),t.hij(" ",t.lcZ(17,17,null==e||null==e.location?null:e.location.title)," "),t.xp6(3),t.hij(" ",t.lcZ(20,19,t.xi3(21,21,null==e?null:e.createdDate,"MM/dd/yy"))," "),t.xp6(4),t.s9C("title",null!=e&&e.deleted?"Not Active":t.lcZ(24,24,"Active")),t.Q6J("ngClass",t.WLB(26,Qe,!e.deleted,e.deleted)),t.xp6(3),t.Q6J("ngIf",!e.deleted),t.xp6(1),t.Q6J("ngIf",e.deleted)}}function Ye(i,l){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,Oe,4,0,"tr",25),t.YNc(2,$e,28,29,"tr",39),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",0==e.items.length),t.xp6(1),t.Q6J("ngForOf",e.items)}}function Ve(i,l){1&i&&t._UZ(0,"table-loading",60),2&i&&t.Q6J("rows",8)("classList","ph-col-10")}function Re(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",61),t.TgZ(1,"h5",62),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",63,29),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",64),t.qZA(),t.qZA(),t._UZ(7,"app-add-edit-student",65)}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",null==e.selectedStudent?"Add New Student":t.lcZ(3,2,"Update Student")," "),t.xp6(5),t.Q6J("inputObj",e.selectedStudent)}}function He(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",61),t.TgZ(1,"h5",62),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",63,30),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",64),t.qZA(),t.qZA(),t._UZ(7,"app-caseloads-pop-up",66)}2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"Caseloads")," "))}function Be(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",61),t.TgZ(1,"h5",62),t._uU(2," Student Details "),t.qZA(),t.TgZ(3,"a",63,29),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(5,"i",64),t.qZA(),t.qZA(),t._UZ(6,"app-add-edit-student",67)}if(2&i){const e=t.oxw();t.xp6(6),t.Q6J("readOnly",!0)("inputObj",e.selectedStudent)}}function We(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",68),t.TgZ(1,"h5",62),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",63,32),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"i",64),t.qZA(),t.qZA(),t.TgZ(7,"div",69),t.TgZ(8,"app-attach-modal",70),t.NdJ("onCaseLoadSaved",function(){return t.CHM(e),t.oxw().onCaseloadSaved()}),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,4,"Attach Provider to Student")),t.xp6(6),t.Q6J("isBulkStudentsAssign",!0)("selectedStudentsIds",e.selectedList)("type","attach-provider")}}const ze=[{path:"",canActivate:[T.a1],children:[{path:"",canActivate:[T.a1],component:(()=>{class i{constructor(e,n,o,s,a,c,N,D){this.util=e,this._eventService=n,this._modalService=o,this.toastr=s,this.datePipe=a,this.studentService=c,this.excelServ=N,this.confirmDialog=D,this.items=[],this.isAdmin=this.util.isAdmin(),this.total=0,this.limit=10,this.page=0,this.sortDirection=null,this.sortColumn=null,this.readOnly=!1,this.isloadingState=!1,this.selectedStudent=null,this.subs=new w.w,this.teamDecorator={},this.itemDecoratorComplete=!1,this.permissions=new O.m,this.search=new A.sF,this.filterFields=new me.B,this.checkedAll=!1,this.selectedList=[],this.isProvider=this.util.isProvider(),this.isAscending=!0,this.isDescending=!1,this.initFilter()}ngOnInit(){this.initpagination(),this.search.deleted=!1,this.loadData(),this.permissions=this.util.getAllowedPermissions(),this.subs.add(this._eventService.onStudentSaveEventSaved.subscribe(e=>{this.loadData()})),this.subs.add(this._eventService.onStudentEventUpdate.subscribe(e=>{this.loadData()}))}ngOnDestroy(){this.subs.unsubscribe()}loadData(){this.isloadingState=!0,this.setDefaultStudentsFilter(),this.studentService.getAllStudents(this.search,this.limit,this.page,this.sortColumn,this.sortDirection).then(e=>{this.clearSelectedRows();let n=this.studentService.getData(e);this.total=n.totalRecords,this.items=n.resultList,this.isloadingState=!1}).catch(e=>{this.isloadingState=!1,console.log(e)})}exportExcel(){let e=[];null==this.items||this.items.length<=0?this.toastr.error("No data to export"):(this.items.forEach(n=>{var o,s;const a=this.datePipe.transform(n.createdDate,"MM/dd/yyyy");e.push({"First Name":n.firstName,"Last Name":n.lastName,Client:null===(o=n.client)||void 0===o?void 0:o.name,Location:null===(s=n.location)||void 0===s?void 0:s.title,"Created Date":a,Status:n.deleted?"Inactive":"Active"})}),this.excelServ.exportAsExcelFile(e,"Students"))}onApplyFilter(e){this.initpagination(),this.search=e,this.loadData()}initFilter(){this.filterFields.user=!0,this.filterFields.client=!0,this.filterFields.deleted=!0}refreshList(){this.search=new A.sF}renderTeamMembers(){this.items.forEach(e=>{null==e.providers&&(e.providers=[]),e.innerDiv='<ul class="list-unstyled users-list">',e.providers.forEach(n=>{if(n.user.profilePic)e.innerDiv+=`<li class="avatar avatar-sm pull-up"><a class="btn-circle btn p-0 popover-item nowrap" >\n    \t\t\t\t\t\t\t\t<img src="${n.user.profilePic}" alt="user" width="36" height="36"\n    \t\t\t\t\t\t\t\tclass="rounded-circle" data-html="true"\n    \t\t\t\t\t\t\t\ttitle="${n.user.fullName} &#013;${n.user.role} &#013;${n.user.email} &#013;${null==n.user.phone?"":n.user.phone}"\n    \t\t\t\t\t\t\t\tplacement="left"></a>\n    \t\t\t\t\t\t\t\t</li>`;else{let o=n.user.fullName.trim().toUpperCase();this.teamDecorator[n.user.fullName]=o.split(" ")[0].substring(0,1)+""+o.split(" ")[1].substring(0,1),e.innerDiv+=`<li class="avatar avatar-sm pull-up"><a class="btn ${this.util.getUserColor(n.user.fullName)} btn-circle text-white popover-item font-12 lol-user-icon nowrap" \n    \t\t\t\t\t\t\tdata-html="true"\n    \t\t\t\t\t\t\ttitle="${n.user.fullName} &#013;${n.user.role} &#013;${n.user.email} &#013;${null==n.user.phone?"":n.user.phone}"\n    \t\t\t\t\t\t\tplacement="left">${this.teamDecorator[n.user.fullName]}</a>\n    \t\t\t\t\t\t</li>`}}),e.innerDiv+="</ul>"}),this.itemDecoratorComplete=!0}openModelPopup(e,n,o="view"){this.selectedStudent=e,this._modalService.open(n,{size:"lg",backdrop:"static",keyboard:!1,centered:!0,windowClass:this.util.getThemeFromSession("lol-modal-sm")})}onSorted(e){this.sortColumn=e.sortColumn,this.sortDirection=e.sortDirection,this.loadData()}onPageChanged(e){this.limit=e.limit,this.page=e.page,this.loadData()}deleteRec(e){this.confirmDialog.confirm("Are you sure you want to delete the selected student?").then(n=>{n&&(this.isloadingState=!0,this.studentService.deleteRecord(e).then(o=>{this.isloadingState=!1,this.toastr.success("Deleted","SUCCESS"),this.loadData()}).catch(o=>{this.isloadingState=!1,console.log(o)}))})}setDefaultStudentsFilter(){this.isAdmin||(this.search.userId=this.util.getLoggedUserId())}deleteCaseload(e){this.search.userId&&this.confirmDialog.confirm("Are you sure you want to delete the caseload?").then(n=>{n&&(this.isloadingState=!0,this.studentService.deleteCaseloadFromProvider(e,this.search.userId).then(o=>{this.isloadingState=!1,this.toastr.success("Deleted","SUCCESS"),this.loadData()}).catch(o=>{this.isloadingState=!1,this.toastr.error(o)}))})}ViewFile(e){let n=`${e}`;n&&window.open(n,"_blank")}toggleCheckBox(e){e.checked=!e.checked,e.checked&&e&&this.selectedList.push(e.id),e.checked||(this.selectedList=this.removeFromBulk(this.selectedList,e.id)),this.checkedAll=this.items.every(n=>this.selectedList.includes(n.id))}toggleCheckAll(){this.checkedAll=!this.checkedAll,this.checkedAll&&(this.selectedList=[],this.items.forEach(e=>{e.checked=!0,this.selectedList.push(e.id)})),this.checkedAll||(this.selectedList=[],this.items.forEach(e=>{e.checked=!1}))}removeFromBulk(e,n){return e.filter(function(o){return o!=n})}assignToClient(){console.log(this.selectedList)}assignToCaseLoad(e,n){this._modalService.open(n,{size:"lg",backdrop:"static",keyboard:!1,centered:!0,windowClass:this.util.getThemeFromSession("lol-modal-sm")})}activateStudent(e){this.confirmDialog.confirm("Do you want to make this student active?").then(n=>{n&&(this.isloadingState=!0,this.studentService.activateStudent(e).then(o=>{this.loadData(),this.isloadingState=!1}).catch(o=>{this.isloadingState=!1,console.log(o)}))})}onCaseloadSaved(){this.selectedList=[],this.loadData()}initpagination(){this.limit=this.util.getPageLimit(),this.page=0}clearSelectedRows(){this.selectedList=[],this.checkedAll=!1}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.Z),t.Y36(C.P),t.Y36(u.FF),t.Y36(S._W),t.Y36(_.uU),t.Y36(m.V),t.Y36(he.x),t.Y36(y.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-view-students"]],decls:48,vars:32,consts:function(){let l,e,n,o,s,a;return l=$localize`:␟9de1ff747b78d4ffaf37d6c649d36ad970efde08␟1845047974724294655: ${"\ufffd0\ufffd"}:INTERPOLATION: `,e=$localize`:␟309f2beefeca885a05b9cda26dd2bc082c6d3ae5␟7326270204502256484: ${"\ufffd0\ufffd"}:INTERPOLATION: `,n=$localize`:␟bae6d571a3132572510a3b7d42cdbc8390112a4f␟408846324775097049: ${"\ufffd0\ufffd"}:INTERPOLATION: `,o=$localize`:␟cd531ff9073e4f7eb6bfb62c9332cdc847d33585␟475736727841131510:${"\ufffd0\ufffd"}:INTERPOLATION:`,s=$localize`:␟0b5339dbda4ddc1c7a2470401c4f889fc2cfe507␟4740763805582533625: ${"\ufffd0\ufffd"}:INTERPOLATION: `,a=$localize`:␟c3961cf30b0fac76baaaa016c6f1d37ff72cbb74␟4585555454834934080: ${"\ufffd0\ufffd"}:INTERPOLATION: `,[[1,"row"],[1,"col-md-12"],[1,"card"],["appFixedTableHeader","",1,"card-body","p-t-0"],[1,"fixed-filter-container"],["class","w-100 d-flex justify-content-end m-1 p-1",4,"ngIf"],[3,"filterFields","onApplyFilter","onClearFilter"],[1,"table","table-responsive","smart-table","table-container"],["sortable-table","",1,"table","table-striped","table-hover","v-middle","wh-table-people",2,"position","relative",3,"sorted"],["width","5%"],[1,"custom-control","custom-checkbox"],["id","checkAll","type","checkbox",1,"custom-control-input","pl-2",3,"checked","change"],["for","checkAll",1,"custom-control-label"],["scope","col",1,"cursor-pointer",3,"sortable-column","sort-direction"],l,["scope","col",1,"cursor-pointer"],e,["scope","col",1,"cursor-pointer",3,"sortable-column"],n,["scope","col"],o,["sortable-column","createdDate","scope","col",1,"cursor-pointer"],s,a,["actionColumn",""],[4,"ngIf"],[3,"rows","classList",4,"ngIf"],[1,"fixed","px-2","rounded-full","fixed-student-pagination","bg-blend-lighten","row"],[3,"pageNo","recordsLimit","totalNumOfRecords","onPageChanged"],["addEditStudent",""],["caseloadPopUp",""],["viewStudent",""],["attachModal",""],[1,"w-100","d-flex","justify-content-end","m-1","p-1"],["class","btn bg-success text-light  btn-outline-success btn-anim-dropshadow","type","button","title","ASSIGN TO CASELOAD",3,"click",4,"ngIf"],["type","button","title","Caseloads",1,"btn","btn-outline-info","btn-anim-dropshadow",3,"click"],["type","button","title","Create Student",1,"btn","btn-outline-info","btn-anim-dropshadow",3,"click"],["type","button","title","Create Excel Report",1,"btn","btn-outline-info","btn-anim-dropshadow",3,"click"],["type","button","title","ASSIGN TO CASELOAD",1,"btn","bg-success","text-light","btn-outline-success","btn-anim-dropshadow",3,"click"],[4,"ngFor","ngForOf"],["colspan","13",1,"text-center","pt-3"],["type","checkbox",1,"custom-control-input",3,"checked","change"],[1,"custom-control-label"],[1,"user-icon-cell"],[1,"button","cursor-pointer",3,"routerLink"],[1,"user-icon-cell","cursor-pointer"],["href","javascript:void(0)",1,"cursorPointer",3,"ngClass","click"],[1,"cursor-pointer"],["ngxTooltip","",1,"status-circle",3,"ngClass","title"],[1,"p-1"],["class","d-flex",4,"ngIf"],[1,"d-flex"],["href","javascript:void(0)","ngbDropdown","","container","body","placement","left-top",1,"d-inline-block"],["ngbDropdownToggle","","title","Actions",1,"btn","dropdown-toggle-split","hide-split",2,"width","38px","margin-top","1px"],[1,"mdi","mdi-dots-vertical",2,"font-size","18px","color","#007ad9"],["ngbDropdownMenu","",1,"dropdown-menu"],["class","dropdown-item",3,"click",4,"ngIf"],[1,"dropdown-item",3,"click"],["title","change status to active",1,"ng2-smart-action-edit-edit","mr-2",2,"margin-top","2px",3,"click"],[1,"fas","fa-redo","text-green"],[3,"rows","classList"],[1,"modal-header","p-3"],["id","modal-basic-title",1,"modal-title"],["data-dismiss","modal",1,"cursorPointer",3,"click"],[1,"mdi","mdi-close"],[2,"width","100%",3,"inputObj"],[2,"width","100%"],[2,"width","100%",3,"readOnly","inputObj"],[1,"bg-info","text-white","modal-header","p-2"],[1,"modal-body"],[3,"isBulkStudentsAssign","selectedStudentsIds","type","onCaseLoadSaved"]]},template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.YNc(5,Ue,8,1,"div",5),t.TgZ(6,"app-students-grid-view-filter",6),t.NdJ("onApplyFilter",function(s){return n.onApplyFilter(s)})("onClearFilter",function(){return n.refreshList()}),t.qZA(),t.qZA(),t.TgZ(7,"div",7),t.TgZ(8,"table",8),t.NdJ("sorted",function(s){return n.onSorted(s)}),t.TgZ(9,"thead"),t.TgZ(10,"th",9),t.TgZ(11,"div",10),t.TgZ(12,"input",11),t.NdJ("change",function(){return n.toggleCheckAll()}),t.qZA(),t._UZ(13,"label",12),t.qZA(),t.qZA(),t.TgZ(14,"th",13),t.SDv(15,14),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"th",15),t.SDv(18,16),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"th",17),t.SDv(21,18),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"th",19),t.SDv(24,20),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"th",21),t.SDv(27,22),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"th",19),t.SDv(30,23),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"th",null,24),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.qZA(),t.YNc(36,Ye,3,2,"tbody",25),t.qZA(),t.YNc(37,Ve,1,2,"table-loading",26),t.TgZ(38,"div",27),t.TgZ(39,"app-pagination",28),t.NdJ("onPageChanged",function(s){return n.onPageChanged(s)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(40,Re,8,4,"ng-template",null,29,t.W1O),t.YNc(42,He,8,3,"ng-template",null,30,t.W1O),t.YNc(44,Be,7,2,"ng-template",null,31,t.W1O),t.YNc(46,We,9,6,"ng-template",null,32,t.W1O)),2&e&&(t.xp6(5),t.Q6J("ngIf",n.permissions.CAN_MANAGE_STUDENTS&&n.isAdmin),t.xp6(1),t.Q6J("filterFields",n.filterFields),t.xp6(6),t.Q6J("checked",n.checkedAll),t.xp6(2),t.Q6J("sortable-column","lastName")("sort-direction","asc"),t.xp6(2),t.pQV(t.lcZ(16,18,"Last Name")),t.QtT(15),t.xp6(3),t.pQV(t.lcZ(19,20,"First Name")),t.QtT(18),t.xp6(1),t.Q6J("sortable-column","client"),t.xp6(2),t.pQV(t.lcZ(22,22,"Client")),t.QtT(21),t.xp6(3),t.pQV(t.lcZ(25,24,"Location")),t.QtT(24),t.xp6(3),t.pQV(t.lcZ(28,26,"Created Date")),t.QtT(27),t.xp6(3),t.pQV(t.lcZ(31,28,"Status")),t.QtT(30),t.xp6(3),t.Oqu(t.lcZ(35,30,"Action")),t.xp6(2),t.Q6J("ngIf",!n.isloadingState),t.xp6(1),t.Q6J("ngIf",n.isloadingState),t.xp6(2),t.Q6J("pageNo",n.page)("recordsLimit",n.limit)("totalNumOfRecords",n.total))},directives:[fe.K,_.O5,Te.p,F.Q,k.a,$.Q,_.sg,p.yS,_.mk,u.jt,u.iD,u.Vi,Z.I,L.L,Ee,Q.H],pipes:[g.X$,x.W,_.uU],styles:[".lol-task-controls[_ngcontent-%COMP%] {\r\n    position: fixed;\r\n    top: 88px;\r\n    left: -40px;\r\n  }\r\n  td[_ngcontent-%COMP%]{\r\n    padding-top: 8px;\r\n    padding-bottom: 8px;\r\n  }\r\n  .providers_column[_ngcontent-%COMP%]{\r\n    max-width: 300px;\r\n    overflow: auto;\r\n  }\r\n  @media(max-width:749px){\r\n  \r\n    .card-body[_ngcontent-%COMP%]{\r\n      display: flex;\r\n      grid-gap: -10px;\r\n      gap: -10px;\r\n      flex-direction: column;\r\n      margin-bottom: 10px;\r\n      padding: 4px!important;\r\n    }\r\n    td[_ngcontent-%COMP%]{\r\n      padding: 4px;\r\n    }\r\n    .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{\r\n      padding: 4px;\r\n    }\r\n\r\n    .providers_column[_ngcontent-%COMP%]{\r\n      max-width: 200px;\r\n      overflow: auto;\r\n    }\r\n\r\n    .sort-icon[_ngcontent-%COMP%] {\r\n      position: relative;\r\n    }\r\n    \r\n    .sort-icon--asc[_ngcontent-%COMP%]:before, .sort-icon--desc[_ngcontent-%COMP%]:before {\r\n      content: '';\r\n      position: absolute;\r\n      right: -15px;\r\n      top: 50%;\r\n      transform: translateY(-50%);\r\n      width: 0;\r\n      height: 0;\r\n      border-left: 5px solid transparent;\r\n      border-right: 5px solid transparent;\r\n    }\r\n    \r\n    .sort-icon--asc[_ngcontent-%COMP%]:before {\r\n      border-bottom: 5px solid #000; \r\n    }\r\n    \r\n    .sort-icon--desc[_ngcontent-%COMP%]:before {\r\n      border-top: 5px solid #000; \r\n    }\r\n  }\r\n  .fixed-student-pagination[_ngcontent-%COMP%]{\r\n    width: 100%;\r\n    position: fixed;\r\n    bottom: 0;\r\n    background-color: white;\r\n    padding: 10px;\r\n    z-index: 1000;\r\n    border: 1px #F8F9FA solid;\r\n    \r\n  }"]}),i})(),data:{title:"Students",urls:[{title:"Dashboard",url:"/bts/dashboard"},{title:"Students"}]}},{path:":id",canActivate:[T.a1],component:ge,data:{title:"Student Detail",urls:[{title:"Dashboard",url:"/bts/dashboard"},{title:"Students",url:"/bts/students"},{title:"Student Detail"}]}}]}];let Ge=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[_.ez,V.JX,u.IJ,p.Bz.forChild(ze),g.aw,d.u5,R.kn,d.UX,j.q,I.fi.forRoot(),q.Su,P.Xd,b.A0,H.ZQ,E.CT.forRoot({player:Y}),f.q.forRoot({})]]}),i})();function Y(){return W()}}}]);