"use strict";(self.webpackChunkems=self.webpackChunkems||[]).push([[918],{4918:function(V,R,u){u.r(R),u.d(R,{AuthenticationModule:function(){return Pe}});var M=u(9895),E=u(1321),P=u(2663),F=u(826),B=u(2340),n=u(7716),W=u(9344),Q=u(2664),ee=u(1831),k=u(9075),te=u(7556),U=u(5863),D=u(8393);let ne=(()=>{class s extends U.g{constructor(t){super("/api/cbe/user",t),this.provider=t}fetchCBUserData(t){return this.getRecord("/user/"+t)}}return s.\u0275fac=function(t){return new(t||s)(n.LFG(D.U))},s.\u0275prov=n.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var re=u(9426);let se=(()=>{class s extends U.g{constructor(t){super("/bts/api/v1/auth",t),this.provider=t}getLoginData(){return this.getRecord("/login")}}return s.\u0275fac=function(t){return new(t||s)(n.LFG(D.U))},s.\u0275prov=n.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const oe=["errorModal"];function ie(s,e){if(1&s){const t=n.EpF();n.TgZ(0,"div",26),n.TgZ(1,"h5",27),n._uU(2,"Error"),n.qZA(),n.TgZ(3,"a",28,25),n.NdJ("click",function(){return n.CHM(t).$implicit.dismiss("Cross click")}),n._UZ(5,"i",29),n.qZA(),n.qZA(),n.TgZ(6,"div",30),n.TgZ(7,"p"),n._uU(8),n.qZA(),n.qZA(),n.TgZ(9,"div",31),n.TgZ(10,"button",32),n.NdJ("click",function(){return n.CHM(t).$implicit.close("Close click")}),n._uU(11," Ok "),n.qZA(),n.qZA()}if(2&s){const t=n.oxw();n.xp6(8),n.Oqu(t.errorRespones)}}const ae=function(){return{backdropBorderRadius:"3px"}},le=[{path:"",children:[{pathMatch:"legacy",path:"unauthorized",component:(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=n.Xpm({type:s,selectors:[["app-unauthorized"]],decls:11,vars:0,consts:[[1,"container",2,"height","100vh"],[1,"d-flex","h-100","flex-grow-1","py-5","px-5","justify-content-center","flex-column","align-items-center"],[1,"card","h-100","w-100","d-flex","justify-content-center","flex-column","align-items-center"],[1,"card-body","d-flex","justify-content-center","flex-column","align-items-center"],[1,"text-danger"],["href","/"],[1,"btn","btn-primary"]],template:function(t,r){1&t&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n.TgZ(4,"h1",4),n._uU(5,"401"),n.qZA(),n.TgZ(6,"h3"),n._uU(7,"Not Authorized"),n.qZA(),n.TgZ(8,"a",5),n.TgZ(9,"button",6),n._uU(10," Go Home "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA())},styles:[""]}),s})()},{path:"login",component:(()=>{class s{constructor(t,r,o,i,f,c,d,h,T,A,b){this.router=t,this.toastr=r,this.route=o,this._modalService=i,this.util=f,this.sanitizer=c,this.authService=d,this.cbUserService=h,this._eventService=T,this.titleService=A,this.btsAuthServ=b,this.user={username:null,password:null},this.errorRespones=null,this.isError=!1,this.loadingState=!1,this.redirect_uri=null,this.returnUrl=null,this.state=null,this.loginform=!0,this.recoverform=!1,this.subs=new F.w,this.environment=B.N}ngOnInit(){this.titleService.setTitle("BTS - Login")}ngOnDestroy(){this.subs.unsubscribe()}ngAfterViewInit(){this.route.queryParams.subscribe(t=>{let r=t.login,o=t.error,i=t.reason;i&&void 0!==i&&(o="Your session has expired, please login again to continue.",this.showErrorModal()),"true"==r&&null!=r?this.getBtsLogin():(o&&null!=r&&(this.isError=!0,this.showErrorModal()),this.errorRespones=o),this.util.getBtsUserFromSession()&&this.util.getBtsUserFromSession().id&&(this.loadingState=!0,this.getBtsLogin())})}getBtsLogin(){setTimeout(()=>{this.util.clearLocalStorage(),this.loadingState=!0,this.btsAuthServ.getLoginData().then(t=>{let r=this.authService.getData(t);this.loadingState=!1,this.util.setBtsUserInSession(r.user),this.util.setBtsClientInSession(r.clients),this.util.setBtsServiceTypesInSession(r.serviceTypes),this.util.setBtsUsersListsFromSession(r.users),this.util.setBtsWbsInSession(r.wbs),this.util.setBtsConfigInSession(r.configuration),this.navigateToDashboard(r)}).catch(t=>{this.loadingState=!1})})}navigateToDashboard(t){this.returnUrl?this.router.navigateByUrl(this.returnUrl):this.util.navigateToDashboard()}toggleForms(){this.resetFields(),this.loginform=!this.loginform,this.recoverform=!this.recoverform}resetFields(){this.isError=!1,this.errorRespones=null,this.user.username=null,this.user.password=null}showErrorModal(){this.errorModalRef=this._modalService.open(this.errorModal,{centered:!0,size:"lg",windowClass:"modal-holder"})}}return s.\u0275fac=function(t){return new(t||s)(n.Y36(M.F0),n.Y36(W._W),n.Y36(M.gz),n.Y36(Q.FF),n.Y36(ee.Z),n.Y36(k.H7),n.Y36(te.e),n.Y36(ne),n.Y36(re.P),n.Y36(k.Dx),n.Y36(se))},s.\u0275cmp=n.Xpm({type:s,selectors:[["app-login"]],viewQuery:function(t,r){if(1&t&&n.Gf(oe,5),2&t){let o;n.iGM(o=n.CRH())&&(r.errorModal=o.first)}},decls:41,vars:5,consts:[[3,"show","config"],[1,"full-page","d-flex","container-fluid"],[1,"full-background-svg"],[1,"full-background-img"],[1,"row","d-flex","flex-grow-1"],[1,"col-md-8","order-md-0","order-1","h-100","left_col","ps-md-5","px-2","d-flex","flex-column"],[1,"d-flex","flex-grow-1","justify-content-center"],[1,"container-fluid","w-100","d-flex","align-items-center"],[1,"row"],[1,"mx-auto"],[1,"mb-3"],[1,"display-5","bts-sign-header",2,"color","aliceblue"],[1,"col-md-9"],[1,"text-white","lh-1-5","mb-md-5","mb-2",2,"font-size","16px"],[1,"d-flex","flex-column","align-items-center","d-md-block"],[1,"btn"],[1,"",3,"href"],["alt","Loginbtn",1,"micro-logo",2,"object-fit","contain",3,"src"],[1,"bts-login-footer-info","py-2","px-3"],[1,"text-bold","text-light"],["href","https://boothbytherapy.com/","target","_blank",1,"footer_a"],[1,"separator"],["href","https://goo.gl/maps/4g73HK3VV1x","target","_blank",1,"footer_a"],["href","tel:+603-524-9090 ","target","_blank",1,"footer_a"],["href","mailto:solutions@boothbytherapy.com","target","_blank",1,"footer_a"],["errorModal",""],[1,"text-white","modal-header","p-3"],[1,"modal-title"],["data-dismiss","modal",1,"cursorPointer",3,"click"],[1,"mdi","mdi-close"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"]],template:function(t,r){1&t&&(n._UZ(0,"ngx-loading",0),n.TgZ(1,"div",1),n._UZ(2,"div",2),n._UZ(3,"div",3),n.TgZ(4,"div",4),n.TgZ(5,"div",5),n.TgZ(6,"div",6),n.TgZ(7,"div",7),n.TgZ(8,"div",8),n.TgZ(9,"div",9),n.TgZ(10,"div"),n.TgZ(11,"div",10),n.TgZ(12,"h1",11),n._uU(13," BTS: Better Therapy Solution "),n.qZA(),n.qZA(),n.TgZ(14,"div",8),n.TgZ(15,"div",12),n.TgZ(16,"p",13),n._uU(17," Document your sessions with ease via our BTS platform customized for school-based professionals. "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(18,"div",14),n.TgZ(19,"button",15),n.TgZ(20,"a",16),n._UZ(21,"img",17),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(22,"div",18),n.TgZ(23,"span",19),n._uU(24,"\xa9"),n.qZA(),n.TgZ(25,"a",20),n._uU(26,"Boothby Therapy Services"),n.qZA(),n.TgZ(27,"span",21),n._uU(28,"|"),n.qZA(),n.TgZ(29,"a",22),n._uU(30,"806 North Main St. Laconia, 03246"),n.qZA(),n.TgZ(31,"span",21),n._uU(32,"|"),n.qZA(),n.TgZ(33,"a",23),n._uU(34,"(603) 524-9090"),n.qZA(),n.TgZ(35,"span",21),n._uU(36,"|"),n.qZA(),n.TgZ(37,"a",24),n._uU(38,"eMail Us"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(39,ie,12,1,"ng-template",null,25,n.W1O)),2&t&&(n.Q6J("show",r.loadingState)("config",n.DdM(4,ae)),n.xp6(20),n.Q6J("href",r.environment.LOGIN_URL,n.LSH),n.xp6(1),n.Q6J("src",r.sanitizer.bypassSecurityTrustUrl("assets/images/misc/micro_logo.png"),n.LSH))},directives:[P.RJ],styles:[".full-page[_ngcontent-%COMP%] {\r\n  max-width: 100%;\r\n  background: url('login_back.webp') no-repeat\r\n    center center fixed;\r\n  background-size: cover;\r\n  height: 100vh;\r\n  background-color: antiquewhite;\r\n}\r\n.full-background-img[_ngcontent-%COMP%] {\r\n  background: url('login_back.webp') no-repeat\r\n    center center fixed;\r\n  background-size: cover;\r\n  width: 100%;\r\n  height: 100%;\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n}\r\n.bts-login-footer-info[_ngcontent-%COMP%]{\r\n  position: fixed;\r\n  bottom: 0px;\r\n  width: 100vw;\r\n  left: 0px;\r\n  display: flex;\r\n  justify-content: center;\r\n  grid-gap: 10px;\r\n  gap: 10px;\r\n  \r\n}\r\n.footer_a[_ngcontent-%COMP%]{\r\n  color: white !important;\r\n}\r\n.footer_a[_ngcontent-%COMP%]:hover{\r\n  text-decoration: underline;\r\n}\r\n.separator[_ngcontent-%COMP%]{\r\n  font-weight: bold;\r\n}\r\n.left_col[_ngcontent-%COMP%] {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.right-col[_ngcontent-%COMP%] {\r\n  background-color: white;\r\n\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  border-bottom-left-radius: 10px;\r\n  border-top-left-radius: 10px;\r\n  box-shadow: -11px 0px 9px -15px rgba(0, 0, 0, 0.75);\r\n}\r\n@media (max-width: 768px) {\r\n  .right-col[_ngcontent-%COMP%] {\r\n    border-radius: 10px;\r\n  }\r\n  \r\n}\r\n@media (max-height: 500px) and (max-width: 400px)  {\r\n  .bts-sign-header[_ngcontent-%COMP%] {\r\n   font-size: 22px !important;\r\n  }\r\n}\r\n@media(max-height:350px){\r\n  .container-fluid[_ngcontent-%COMP%]{\r\n    align-items: start !important;\r\n    padding-top: 8px;\r\n  }\r\n}\r\n.micro-logo[_ngcontent-%COMP%] {\r\n  max-width: 100%;\r\n  max-height: 36px;\r\n  max-width: 170px;\r\n}\r\n.logo[_ngcontent-%COMP%] {\r\n  max-height: 150px;\r\n}\r\n.margn-left40[_ngcontent-%COMP%] {\r\n  margin-left: 40px;\r\n}\r\n.dangerboder[_ngcontent-%COMP%] {\r\n  border: 1px solid red;\r\n  margin-left: 1px;\r\n  margin-right: 1px;\r\n  background: #f9cccc;\r\n  padding-left: 29px;\r\n  margin-bottom: 1rem;\r\n  padding-right: 29px;\r\n}\r\n.login-text[_ngcontent-%COMP%] {\r\n  font-size: 3.25rem !important;\r\n}\r\n.margntopbot[_ngcontent-%COMP%] {\r\n  margin-top: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n.margnbot[_ngcontent-%COMP%] {\r\n  margin-bottom: 3px;\r\n}\r\n.cbe-branding[_ngcontent-%COMP%] {\r\n  position: absolute;\r\n}\r\n.login-btn-style[_ngcontent-%COMP%] {\r\n  color: royalblue;\r\n  border-color: royalblue;\r\n}\r\n.login-btn-style[_ngcontent-%COMP%]:hover {\r\n  color: #fff !important;\r\n  background-color: royalblue;\r\n}\r\n.reg-btn-style[_ngcontent-%COMP%]:hover {\r\n  color: #fff !important;\r\n  background-color: rgb(225, 65, 65);\r\n}\r\n#login-text[_ngcontent-%COMP%] {\r\n  font-size: 6.25 px;\r\n}\r\n.btn-circle[_ngcontent-%COMP%] {\r\n  border-radius: 10%;\r\n  width: 40px;\r\n  height: 40px;\r\n  padding: 10px;\r\n  line-height: 20px;\r\n}\r\n.bg-color-light-gray[_ngcontent-%COMP%] {\r\n  background-color: #f3f3f9;\r\n}\r\n.wh-auth[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%] {\r\n  min-width: 325px;\r\n  max-width: 100%;\r\n}\r\n.wh-logo[_ngcontent-%COMP%] {\r\n  margin-bottom: 20px;\r\n}\r\n.wh-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\r\n  max-height: 80px;\r\n  \r\n}\r\n.wh-recovery[_ngcontent-%COMP%] {\r\n  max-width: 325px;\r\n}"]}),s})()}]}];var q=u(3679),ce=u(9897);let H=(()=>{class s{constructor(){}build(){return new XMLHttpRequest}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=n.Yz7({token:s,factory:s.\u0275fac}),s})();const l={Get:0,Post:1,Put:2,Delete:3,Options:4,Head:5,Patch:6};l[l.Get]="Get",l[l.Post]="Post",l[l.Put]="Put",l[l.Delete]="Delete",l[l.Options]="Options",l[l.Head]="Head",l[l.Patch]="Patch";const p={Unsent:0,Open:1,HeadersReceived:2,Loading:3,Done:4,Cancelled:5};p[p.Unsent]="Unsent",p[p.Open]="Open",p[p.HeadersReceived]="HeadersReceived",p[p.Loading]="Loading",p[p.Done]="Done",p[p.Cancelled]="Cancelled";const g={Basic:0,Cors:1,Default:2,Error:3,Opaque:4};g[g.Basic]="Basic",g[g.Cors]="Cors",g[g.Default]="Default",g[g.Error]="Error",g[g.Opaque]="Opaque";const a={NONE:0,JSON:1,FORM:2,FORM_DATA:3,TEXT:4,BLOB:5,ARRAY_BUFFER:6};a[a.NONE]="NONE",a[a.JSON]="JSON",a[a.FORM]="FORM",a[a.FORM_DATA]="FORM_DATA",a[a.TEXT]="TEXT",a[a.BLOB]="BLOB",a[a.ARRAY_BUFFER]="ARRAY_BUFFER";const m={Text:0,Json:1,ArrayBuffer:2,Blob:3};m[m.Text]="Text",m[m.Json]="Json",m[m.ArrayBuffer]="ArrayBuffer",m[m.Blob]="Blob";class _{constructor(e){if(this._headers=new Map,this._normalizedNames=new Map,e){if(e instanceof _)return void e.forEach((t,r)=>{t.forEach(o=>this.append(r,o))});Object.keys(e).forEach(t=>{const r=Array.isArray(e[t])?e[t]:[e[t]];this.delete(t),r.forEach(o=>this.append(t,o))})}}static fromResponseHeaderString(e){const t=new _;return e.split("\n").forEach(r=>{const o=r.indexOf(":");if(o>0){const i=r.slice(0,o),f=r.slice(o+1).trim();t.set(i,f)}}),t}append(e,t){const r=this.getAll(e);null===r?this.set(e,t):r.push(t)}delete(e){const t=e.toLowerCase();this._normalizedNames.delete(t),this._headers.delete(t)}forEach(e){this._headers.forEach((t,r)=>e(t,this._normalizedNames.get(r),this._headers))}get(e){const t=this.getAll(e);return null===t?null:t.length>0?t[0]:null}has(e){return this._headers.has(e.toLowerCase())}keys(){return Array.from(this._normalizedNames.values())}set(e,t){Array.isArray(t)?t.length&&this._headers.set(e.toLowerCase(),[t.join(",")]):this._headers.set(e.toLowerCase(),[t]),this.mayBeSetNormalizedName(e)}values(){return Array.from(this._headers.values())}toJSON(){const e={};return this._headers.forEach((t,r)=>{const o=[];t.forEach(i=>o.push(...i.split(","))),e[this._normalizedNames.get(r)]=o}),e}getAll(e){return this.has(e)&&this._headers.get(e.toLowerCase())||null}entries(){throw new Error('"entries" method is not implemented on Headers class')}mayBeSetNormalizedName(e){const t=e.toLowerCase();this._normalizedNames.has(t)||this._normalizedNames.set(t,e)}}class w{constructor(e={}){const{body:t,status:r,headers:o,statusText:i,type:f,url:c}=e;this.body=null!=t?t:null,this.status=null!=r?r:null,this.headers=null!=o?o:null,this.statusText=null!=i?i:null,this.type=null!=f?f:null,this.url=null!=c?c:null}merge(e){return new w({body:e&&null!=e.body?e.body:this.body,status:e&&null!=e.status?e.status:this.status,headers:e&&null!=e.headers?e.headers:this.headers,statusText:e&&null!=e.statusText?e.statusText:this.statusText,type:e&&null!=e.type?e.type:this.type,url:e&&null!=e.url?e.url:this.url})}}let ue=(()=>{class s extends w{constructor(){super({status:200,statusText:"Ok",type:g.Default,headers:new _})}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=n.Yz7({token:s,factory:s.\u0275fac}),s})();class de{}class z{}function j(s){if("string"!=typeof s)return s;switch(s.toUpperCase()){case"GET":return l.Get;case"POST":return l.Post;case"PUT":return l.Put;case"DELETE":return l.Delete;case"OPTIONS":return l.Options;case"HEAD":return l.Head;case"PATCH":return l.Patch}throw new Error(`Invalid request method. The method "${s}" is not supported.`)}class me{encodeKey(e){return I(e)}encodeValue(e){return I(e)}}function I(s){return encodeURIComponent(s).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class v{constructor(e="",t=new me){this.rawParams=e,this.queryEncoder=t,this.paramsMap=function(s=""){const e=new Map;return s.length>0&&s.split("&").forEach(r=>{const o=r.indexOf("="),[i,f]=-1==o?[r,""]:[r.slice(0,o),r.slice(o+1)],c=e.get(i)||[];c.push(f),e.set(i,c)}),e}(e)}clone(){const e=new v("",this.queryEncoder);return e.appendAll(this),e}has(e){return this.paramsMap.has(e)}get(e){const t=this.paramsMap.get(e);return Array.isArray(t)?t[0]:null}getAll(e){return this.paramsMap.get(e)||[]}set(e,t){if(null==t)return void this.delete(e);const r=this.paramsMap.get(e)||[];r.length=0,r.push(t),this.paramsMap.set(e,r)}setAll(e){e.paramsMap.forEach((t,r)=>{const o=this.paramsMap.get(r)||[];o.length=0,o.push(t[0]),this.paramsMap.set(r,o)})}append(e,t){if(null==t)return;const r=this.paramsMap.get(e)||[];r.push(t),this.paramsMap.set(e,r)}appendAll(e){e.paramsMap.forEach((t,r)=>{const o=this.paramsMap.get(r)||[];for(let i=0;i<t.length;++i)o.push(t[i]);this.paramsMap.set(r,o)})}replaceAll(e){e.paramsMap.forEach((t,r)=>{const o=this.paramsMap.get(r)||[];o.length=0;for(let i=0;i<t.length;++i)o.push(t[i]);this.paramsMap.set(r,o)})}toString(){const e=[];return this.paramsMap.forEach((t,r)=>{t.forEach(o=>e.push(this.queryEncoder.encodeKey(r)+"="+this.queryEncoder.encodeValue(o)))}),e.join("&")}delete(e){this.paramsMap.delete(e)}}class X{json(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body}text(e="legacy"){if(this._body instanceof v)return this._body.toString();if(this._body instanceof ArrayBuffer)switch(e){case"legacy":return String.fromCharCode.apply(null,new Uint16Array(this._body));case"iso-8859":return String.fromCharCode.apply(null,new Uint8Array(this._body));default:throw new Error(`Invalid value for encodingHint: ${e}`)}return null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()}arrayBuffer(){return this._body instanceof ArrayBuffer?this._body:function(s){const e=new Uint16Array(s.length);for(let t=0,r=s.length;t<r;t++)e[t]=s.charCodeAt(t);return e.buffer}(this.text())}blob(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")}}class S extends X{constructor(e){super(),this._body=e.body,this.status=e.status,this.ok=this.status>=200&&this.status<=299,this.statusText=e.statusText,this.headers=e.headers,this.type=e.type,this.url=e.url}toString(){return`Response with status: ${this.status} ${this.statusText} for URL: ${this.url}`}}const _e=/^\)\]\}',?\n/;class ve{constructor(e,t,r){this.request=e,this.response=new ce.y(o=>{const i=t.build();i.open(l[e.method].toUpperCase(),e.url),null!=e.withCredentials&&(i.withCredentials=e.withCredentials);const f=()=>{let d=1223===i.status?204:i.status,h=null;204!==d&&(h=void 0===i.response?i.responseText:i.response,"string"==typeof h&&(h=h.replace(_e,""))),0===d&&(d=h?200:0);const T=_.fromResponseHeaderString(i.getAllResponseHeaders()),A=("responseURL"in(s=i)?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):null)||e.url;var s;let O=new w({body:h,status:d,headers:T,statusText:i.statusText||"OK",url:A});null!=r&&(O=r.merge(O));const Z=new S(O);if(Z.ok=(s=>s>=200&&s<300)(d),Z.ok)return o.next(Z),void o.complete();o.error(Z)},c=d=>{let h=new w({body:d,type:g.Error,status:i.status,statusText:i.statusText});null!=r&&(h=r.merge(h)),o.error(new S(h))};if(this.setDetectedContentType(e,i),null==e.headers&&(e.headers=new _),e.headers.has("Accept")||e.headers.append("Accept","application/json, text/plain, */*"),e.headers.forEach((d,h)=>i.setRequestHeader(h,d.join(","))),null!=e.responseType&&null!=i.responseType)switch(e.responseType){case m.ArrayBuffer:i.responseType="arraybuffer";break;case m.Json:i.responseType="json";break;case m.Text:i.responseType="text";break;case m.Blob:i.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return i.addEventListener("load",f),i.addEventListener("error",c),i.send(this.request.getBody()),()=>{i.removeEventListener("load",f),i.removeEventListener("error",c),i.abort()}})}setDetectedContentType(e,t){if(null==e.headers||null==e.headers.get("Content-Type"))switch(e.contentType){case a.NONE:break;case a.JSON:t.setRequestHeader("content-type","application/json");break;case a.FORM:t.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case a.TEXT:t.setRequestHeader("content-type","text/plain");break;case a.BLOB:const r=e.blob();r.type&&t.setRequestHeader("content-type",r.type)}}}class xe{constructor(e="XSRF-TOKEN",t="X-XSRF-TOKEN"){this._cookieName=e,this._headerName=t}configureRequest(e){const t=(0,E.q)().getCookie(this._cookieName);t&&e.headers.set(this._headerName,t)}}let Y=(()=>{class s{constructor(t,r,o){this._browserXHR=t,this._baseResponseOptions=r,this._xsrfStrategy=o}createConnection(t){return this._xsrfStrategy.configureRequest(t),new ve(t,this._browserXHR,this._baseResponseOptions)}}return s.\u0275fac=function(t){return new(t||s)(n.LFG(H),n.LFG(w),n.LFG(z))},s.\u0275prov=n.Yz7({token:s,factory:s.\u0275fac}),s})();class y{get search(){return this.params}set search(e){this.params=e}constructor(e={}){const{method:t,headers:r,body:o,url:i,search:f,params:c,withCredentials:d,responseType:h}=e;this.method=null!=t?j(t):null,this.headers=null!=r?r:null,this.body=null!=o?o:null,this.url=null!=i?i:null,this.params=this._mergeSearchParams(c||f),this.withCredentials=null!=d?d:null,this.responseType=null!=h?h:null}merge(e){return new y({method:e&&null!=e.method?e.method:this.method,headers:e&&null!=e.headers?e.headers:new _(this.headers),body:e&&null!=e.body?e.body:this.body,url:e&&null!=e.url?e.url:this.url,params:e&&this._mergeSearchParams(e.params||e.search),withCredentials:e&&null!=e.withCredentials?e.withCredentials:this.withCredentials,responseType:e&&null!=e.responseType?e.responseType:this.responseType})}_mergeSearchParams(e){return e?e instanceof v?e.clone():"string"==typeof e?new v(e):this._parseParams(e):this.params}_parseParams(e={}){const t=new v;return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(i=>this._appendParam(r,i,t)):this._appendParam(r,o,t)}),t}_appendParam(e,t,r){"string"!=typeof t&&(t=JSON.stringify(t)),r.append(e,t)}}let Ce=(()=>{class s extends y{constructor(){super({method:l.Get,headers:new _})}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=n.Yz7({token:s,factory:s.\u0275fac}),s})();class x extends X{constructor(e){super();const t=e.url;this.url=e.url;const r=e.params||e.search;if(r){let o;if(o="object"!=typeof r||r instanceof v?r.toString():function(s){const e=new v;return Object.keys(s).forEach(t=>{const r=s[t];r&&Array.isArray(r)?r.forEach(o=>e.append(t,o.toString())):e.append(t,r.toString())}),e}(r).toString(),o.length>0){let i="?";-1!=this.url.indexOf("?")&&(i="&"==this.url[this.url.length-1]?"":"&"),this.url=t+i+o}}this._body=e.body,this.method=j(e.method),this.headers=new _(e.headers),this.contentType=this.detectContentType(),this.withCredentials=e.withCredentials,this.responseType=e.responseType}detectContentType(){switch(this.headers.get("content-type")){case"application/json":return a.JSON;case"application/x-www-form-urlencoded":return a.FORM;case"multipart/form-data":return a.FORM_DATA;case"text/plain":case"text/html":return a.TEXT;case"application/octet-stream":return this._body instanceof G?a.ARRAY_BUFFER:a.BLOB;default:return this.detectContentTypeFromBody()}}detectContentTypeFromBody(){return null==this._body?a.NONE:this._body instanceof v?a.FORM:this._body instanceof Te?a.FORM_DATA:this._body instanceof Ae?a.BLOB:this._body instanceof G?a.ARRAY_BUFFER:this._body&&"object"==typeof this._body?a.JSON:a.TEXT}getBody(){switch(this.contentType){case a.JSON:case a.FORM:return this.text();case a.FORM_DATA:return this._body;case a.TEXT:return this.text();case a.BLOB:return this.blob();case a.ARRAY_BUFFER:return this.arrayBuffer();default:return null}}}const J=function(){},L="object"==typeof window?window:J,Te=L.FormData||J,Ae=L.Blob||J,G=L.ArrayBuffer||J;function $(s,e){return s.createConnection(e).response}function C(s,e,t,r){return s.merge(new y(e?{method:e.method||t,url:e.url||r,search:e.search,params:e.params,headers:e.headers,body:e.body,withCredentials:e.withCredentials,responseType:e.responseType}:{method:t,url:r}))}let K=(()=>{class s{constructor(t,r){this._backend=t,this._defaultOptions=r}request(t,r){let o;if("string"==typeof t)o=$(this._backend,new x(C(this._defaultOptions,r,l.Get,t)));else{if(!(t instanceof x))throw new Error("First argument must be a url string or Request instance.");o=$(this._backend,t)}return o}get(t,r){return this.request(new x(C(this._defaultOptions,r,l.Get,t)))}post(t,r,o){return this.request(new x(C(this._defaultOptions.merge(new y({body:r})),o,l.Post,t)))}put(t,r,o){return this.request(new x(C(this._defaultOptions.merge(new y({body:r})),o,l.Put,t)))}delete(t,r){return this.request(new x(C(this._defaultOptions,r,l.Delete,t)))}patch(t,r,o){return this.request(new x(C(this._defaultOptions.merge(new y({body:r})),o,l.Patch,t)))}head(t,r){return this.request(new x(C(this._defaultOptions,r,l.Head,t)))}options(t,r){return this.request(new x(C(this._defaultOptions,r,l.Options,t)))}}return s.\u0275fac=function(t){return new(t||s)(n.LFG(de),n.LFG(y))},s.\u0275prov=n.Yz7({token:s,factory:s.\u0275fac}),s})();function Be(){return new xe}function Se(s,e){return new K(s,e)}let Re=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=n.oAB({type:s}),s.\u0275inj=n.cJS({providers:[{provide:K,useFactory:Se,deps:[Y,y]},H,{provide:y,useClass:Ce},{provide:w,useClass:ue},Y,{provide:z,useFactory:Be}]}),s})();var Ee=u(4362);let Pe=(()=>{class s{constructor(){console.log("auth Module")}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=n.oAB({type:s}),s.\u0275inj=n.cJS({imports:[[E.ez,q.u5,Ee.q,q.UX,M.Bz.forChild(le),P.q.forRoot({}),Re]]}),s})()},5863:function(V,R,u){u.d(R,{g:function(){return P}});var M=u(7789),E=u(1841);class P extends M.b{constructor(B,n){super(B,n),this.endpoint=B,this.provider=n}getHeaders(){return new E.WM({LOLLY_USER_TYPE:"BTS","Content-Type":"application/json"})}}}}]);